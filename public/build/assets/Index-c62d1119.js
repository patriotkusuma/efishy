import{q as G,j as n,F as ce,a as e,r,W,g as D,b as de}from"./app-ae6dc9df.js";import{A as ue}from"./AuthenticatedLayout-dc541615.js";import{a as he}from"./OverviewPakanTerakhir-48f760fa.js";import"./TableTempatPakan-c3197c4f.js";import{P as a,C as me}from"./Container-be20f32f.js";import{T as pe,a as ge,b as z,c as p,d as fe,B as Pe,e as ke,f as ye,g as we,h as Ce}from"./DatePicker-a8dcfccd.js";import{T as be}from"./TableContainer-8af6b93b.js";import{S as g,C as j,a as L}from"./Stack-84c66384.js";import{B as v,T as x,S as E}from"./Button-7259bb28.js";import"./moment-fbc5633a.js";import{C as M}from"./CardContent-c756119f.js";import{A as xe,y as ve,I as Se}from"./index.esm-e5efdc73.js";import{T as De}from"./TableRiwayatPakan-e53fdf1a.js";import"./ModalJadwalPakan-299f3ce5.js";import{a as Re,b as Te}from"./index.esm-35492ebd.js";import{I as Ie}from"./DemoContainer-5c8171cb.js";import{M as Ae,G as Oe,F as Be,I as Fe,O as je}from"./TextField-f735f57a.js";import{B as Ee}from"./Box-4b033169.js";import{g as Me,r as Je}from"./styled-b627da4d.js";import{S as Ye}from"./SearchRiwayatPakan-f9c8fa09.js";import{G as k}from"./index.esm-04eca18b.js";import{S as He}from"./Snackbar-dd2d0bd4.js";import{A as We}from"./Alert-ab498879.js";import"./transition-c030e732.js";import"./react-apexcharts.min-359bcf8e.js";import"./IconButton-78b9cee9.js";import"./useMediaQuery-5c17f929.js";import"./index.esm-497e4627.js";import"./Hidden-a2631a2e.js";const N=s=>{const{count:c=0,items:o=[],onPageChange:l,onRowsPerPageChange:d,page:f,rowsPerPage:u,handleModalOpen:S,handleEdit:h,handleDelete:T}=s;return G().props,n(ce,{children:[e(be,{children:n(pe,{children:[e(ge,{children:n(z,{children:[e(p,{children:"No"}),e(p,{children:"Jumlah Pemberian"}),e(p,{children:"Waktu"}),e(p,{})]})}),e(fe,{children:o.map((m,y)=>n(z,{hover:!0,children:[e(p,{children:(f-1)*u+y+u+1}),n(p,{children:[e("b",{children:m.jumlah})," gram"]}),e(p,{children:m.set_waktu}),e(p,{children:n(g,{spacing:2,justifyContent:"center",direction:"row",alignItems:"center",children:[e(v,{onClick:()=>{h(m.id)},"data-item":JSON.stringify(m),size:"small",color:"warning",variant:"contained",startIcon:e(Pe,{}),children:"Edit"}),e(v,{onClick:()=>{T(m)},size:"small",color:"error",variant:"contained",startIcon:e(ke,{}),children:"Delete"})]})})]},m.id))})]})}),e(ye,{component:"div",count:c,onPageChange:l,onRowsPerPageChange:d,page:f,rowsPerPage:u,rowsPerPageOptions:[5,10,25]})]})};N.prototype={count:a.number,items:a.array,onPageChange:a.func,onRowsPerPageChange:a.func,page:a.number,rowsPerPage:a.number,handleModalOpen:a.func,handleEdit:a.func,handleDelete:a.func};const _=s=>{const{customColor:c,sx:o,value:l}=s,[d,f]=r.useState(new Date);function u(){f(new Date)}return r.useEffect(()=>{const S=setInterval(u,1e3);return function(){clearInterval(S)}},[]),e(j,{sx:o,children:n(M,{children:[n(g,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[n(g,{spacing:1,children:[e(x,{color:"text.secondary",variant:"overline",children:"Info Jam"}),e(x,{variant:"h4",children:d.toLocaleTimeString("id")})]}),e(xe,{sx:{backgroundColor:c,height:56,width:56},children:e(E,{children:e(we,{})})})]}),e(g,{alignItems:"center",direction:"row",spacing:2,sx:{mt:2},children:e(x,{color:"text.secondary",variant:"caption",children:"PH"})})]})})};_.prototype={customColor:a.string,sx:a.object};a.bool,a.func,a.func,a.func,a.array,a.string,a.func,a.func,a.func,a.number,a.func,a.func,a.any,a.any;const ze={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:"15px",p:4};function q(s){const{isOpen:c,handleClose:o,dataDelete:l,handleDelete:d}=s;return e(Ae,{open:c,onClose:o,"aria-labeldby":"modal-modal-title","aria-describedby":"modal-modal-description",children:n(Ee,{sx:ze,children:[e(x,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Hapus Data"}),e(g,{children:l?n(x,{id:"modal-modal-title",variant:"",component:"h6",children:["Hapus Data",e("strong",{children:" "+l.jumlah+" "}),"gram, pada Waktu",e("strong",{children:" "+l.set_waktu+" "}),"?"]}):""}),n(Oe,{container:!0,xs:"auto",justifyContent:"space-between",children:[e(v,{onClick:o,sx:{marginTop:"5%"},style:{backgroundColor:Me[500]},startIcon:e(E,{fontSize:"small",children:e(Re,{})}),variant:"contained",children:"Batal"}),e(v,{sx:{marginTop:"5%"},style:{backgroundColor:ve[700],color:Je[900]},onClick:d,startIcon:e(E,{fontSize:"small",children:e(Se,{})}),variant:"contained",children:"Hapus"})]})]})})}q.prototype={isOpen:a.bool,handleClose:a.func,dataDelete:a.array,handleDelete:a.func};const R=()=>({preserveState:!0,preserveScroll:!0,replace:!0,only:["jadwalPakans"]});function ka(){const{auth:s,jadwalPakans:c,flash:o,riwayatPakan:l}=G().props,[d,f]=r.useState(0),[u,S]=r.useState(5),[h,T]=r.useState(null),[m,y]=r.useState(!1),{delete:Q,get:J}=W(),[Le,U]=r.useState(!1),[Y,H]=r.useState(null);W();const[V,I]=r.useState(!1),[w,$]=r.useState(null),[C,K]=r.useState(null),[b,X]=r.useState(null),[P,A]=r.useState(0),[O,Z]=r.useState(5),B=(t=null,i=null)=>{D.get(route("pakan.atur-pakan.index"),{riwayat_pakan_page:i||P,rowsPerPageRiwayatPakan:t||O,searchRiwayatPakan:w||"",dateFromRiwayatPakan:C?C.format("YYYY-MM-DD"):"",dateToRiwayatPakan:b?b.format("YYYY-MM-DD"):""},{preserveScroll:!0,preserveState:!0,replace:!0,only:["riwayatPakan"]})},ee=r.useCallback(t=>{Z(+t.target.value),A(0);let i=P+1;B(t.target.value,i)},[O]),ae=r.useCallback((t,i)=>{A(i);let F=P+1;B(null,F)},[P]);r.useEffect(()=>{if(h!=null&&D.get(route("pakan.atur-pakan.index"),{searchAturPakan:h},R()),o.success!=null?I(!0):I(!1),w!=null||C!=null||b!=null){A(0);let t=P+1;B(null,t)}},[h,o.success,w,C,b]);const te=(t,i)=>{f(i);let F=i+1;D.get(route("pakan.atur-pakan.index"),{page:F,rowsPerPage:u},R())},ne=t=>{S(t.target.value),f(0);let i=d+1;D.get(route("pakan.atur-pakan.index"),{page:i,rowsPerPage:t.target.value},R())},re=t=>{J(route("pakan.atur-pakan.edit",t))},oe=()=>{J(route("pakan.atur-pakan.create"))},ie=t=>{H(t),U(!0),y(!0)},le=t=>{Q(route("pakan.atur-pakan.destroy",Y.id),R()),H(null),y(!1)},se=t=>{y(!1)};return n(ue,{user:s.user,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Atur Pakan"}),children:[e(de,{title:"Infomasi Tempat Pakan"}),e(me,{className:"py-12",children:n(g,{spacing:3,children:[n(k,{container:!0,spacing:3,sx:{flexDirection:{xs:"column",md:"row"}},justifyContent:"space-between",children:[e(k,{item:!0,xs:12,md:4,children:n(g,{spacing:2,direction:"column",alignItems:"stretch",children:[e(_,{customColor:"blue",sx:{height:"100%",borderRadius:"10px"}}),e(he,{customColor:"#fbc02d",sx:{height:"100%",borderRadius:"10px"},value:"50",time:"18-Agustus-2019"})]})}),e(k,{item:!0,xs:12,md:8,children:n(j,{children:[e(L,{title:"Jadwal Pemberian Pakan"}),n(M,{children:[n(k,{container:!0,spacing:2,sx:{flexDirection:{xs:"column",md:"row"},alignItems:{xs:"center",md:"center"}},justifyContent:"center",children:[e(k,{item:!0,xs:12,md:8,children:n(Be,{fullWidth:!0,variant:"outlined",children:[e(Fe,{htmlFor:"outlined-adornment-password",children:"Search"}),e(je,{id:"outlined-adornment-password",type:"text",value:h||"",onChange:({target:t})=>T(t.value),startAdornment:e(Ie,{position:"start",children:e(Ce,{})}),label:"Search"})]})}),e(k,{item:!0,xs:12,md:4,children:e(v,{fullWidth:!0,onClick:oe,variant:"contained",startIcon:e(Te,{}),children:" Tambah Jadwal"})})]}),e(N,{count:c.total,items:c.data,page:d,rowsPerPage:u,onPageChange:te,onRowsPerPageChange:ne,handleEdit:re,handleDelete:ie})]})]})})]}),n(j,{children:[e(L,{title:"Riwayat Pemberian Pakan"}),e(M,{children:n(g,{spacing:2,children:[e(Ye,{searchData:w,dateFrom:C,dateTo:b,onSearchData:({target:t})=>$(t.value),onDateFrom:t=>K(t),onDateTo:t=>X(t)}),e(De,{items:l.data,count:l.total,rowsPerPage:O,onRowsPerPageChange:ee,onPageChange:ae,page:P})]})})]})]})}),e(q,{isOpen:m,handleClose:se,dataDelete:Y,handleDelete:le}),e(He,{anchorOrigin:{vertical:"top",horizontal:"right"},open:V,autoHideDuration:6e3,children:e(We,{onClose:()=>{I(!1)},severity:"success",sx:{width:"100%"},variant:"filled",children:o?o.success:""})})]})}export{ka as default};
