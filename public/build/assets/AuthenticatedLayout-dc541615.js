import{r as ve,a as le,j as he,F as xe,d as Ae}from"./app-ae6dc9df.js";import{$ as ze}from"./transition-c030e732.js";const Ve=ve.createContext(),Le=({children:Y})=>{const[ee,E]=ve.useState(!1),I=()=>{E(M=>!M)};return le(Ve.Provider,{value:{open:ee,setOpen:E,toggleOpen:I},children:le("div",{className:"relative",children:Y})})},ct=({children:Y})=>{const{open:ee,setOpen:E,toggleOpen:I}=ve.useContext(Ve);return he(xe,{children:[le("div",{onClick:I,children:Y}),ee&&le("div",{className:"fixed inset-0 z-40",onClick:()=>E(!1)})]})},ht=({align:Y="right",width:ee="48",contentClasses:E="py-1 bg-white",children:I})=>{const{open:M,setOpen:m}=ve.useContext(Ve);let p="origin-top";Y==="left"?p="origin-top-left left-0":Y==="right"&&(p="origin-top-right right-0");let d="";return ee==="48"&&(d="w-48"),le(xe,{children:le(ze,{as:ve.Fragment,show:M,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:le("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${p} ${d}`,onClick:()=>m(!1),children:le("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+E,children:I})})})})},dt=({className:Y="",children:ee,...E})=>le(Ae,{...E,className:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out "+Y,children:ee});Le.Trigger=ct;Le.Content=ht;Le.Link=dt;const Re=Le;function $e({active:Y=!1,className:ee="",children:E,...I}){return le(Ae,{...I,className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium leading-5 transition duration-150 ease-in-out focus:outline-none "+(Y?"border-indigo-400 text-gray-900 focus:border-indigo-700 ":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:text-gray-700 focus:border-gray-300 ")+ee,children:E})}function Me({active:Y=!1,className:ee="",children:E,...I}){return le(Ae,{...I,className:`w-full flex items-start pl-3 pr-4 py-2 border-l-4 ${Y?"border-indigo-400 text-indigo-700 bg-indigo-50 focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300"} text-base font-medium focus:outline-none transition duration-150 ease-in-out ${ee}`,children:E})}const qe=ve.createContext(),Be=({active:Y,children:ee})=>{const[E,I]=ve.useState(!1),M=()=>{I(m=>!m)};return le(qe.Provider,{value:{open:E,setOpen:I,toggleOpen:M},children:le("div",{className:Y?"inline-flex items-center px-1 pt-1 border-b-2 border-indigo-400 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out relative":"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out relative",children:ee})})},pt=({children:Y})=>{const{open:ee,setOpen:E,toggleOpen:I}=ve.useContext(qe);return he(xe,{children:[le("div",{onClick:I,children:Y}),ee&&le("div",{className:"fixed inset-0 z-40",onClick:()=>E(!1)})]})},gt=({align:Y="right",width:ee="48",contentClasses:E="py-1 bg-white",children:I})=>{const{open:M,setOpen:m}=ve.useContext(qe);let p="origin-top";Y==="left"?p="origin-top-left left-0":Y==="right"&&(p="origin-top-right right-0");let d="";return ee==="48"&&(d="w-48"),le(xe,{children:le(ze,{as:ve.Fragment,show:M,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:le("div",{className:`absolute z-50 top-14 rounded-md shadow-lg ${p} ${d}`,onClick:()=>m(!1),children:le("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+E,children:I})})})})},yt=({href:Y,method:ee,as:E,children:I})=>le(Ae,{href:Y,method:ee,as:E,className:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out",children:I});Be.Trigger=pt;Be.Content=gt;Be.Link=yt;const be=Be,He=ve.createContext(),Ne=({active:Y,children:ee})=>{const[E,I]=ve.useState(!1),M=()=>{I(m=>!m)};return le(He.Provider,{value:{open:E,setOpen:I,toggleOpen:M},children:le("div",{className:`w-full flex flex-col items-start pl-3 pr-4 py-2 border-l-4 ${Y?"border-indigo-400 text-indigo-700 bg-indigo-50 focus:text-indigo-800 focus:bg-indigo-100 focus:border-indigo-700":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 focus:text-gray-800 focus:bg-gray-50 focus:border-gray-300"} text-base font-medium focus:outline-none transition duration-150 ease-in-out`,children:ee})})},vt=({children:Y})=>{const{open:ee,setOpen:E,toggleOpen:I}=ve.useContext(He);return le(xe,{children:le("div",{onClick:I,children:Y})})},bt=({align:Y="right",width:ee="48",contentClasses:E="py-1 bg-white",children:I})=>{const{open:M,setOpen:m}=ve.useContext(He);return le(xe,{children:le(ze,{as:ve.Fragment,show:M,enter:"transition ease-out duration-200",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:le("div",{className:"w-full border border-gray-300 mt-3",onClick:()=>m(!1),children:le("div",{className:"w-full rounded-md ring-1 ring-black ring-opacity-5 "+E,children:I})})})})},mt=({href:Y,method:ee,as:E,children:I,active:M})=>le(Ae,{href:Y,method:ee,as:E,className:`block w-full px-4 py-2 text-left text-sm leading-5 ${M?"bg-gray-100":""}
                text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 transition duration-150 ease-in-out`,children:I});Ne.Trigger=vt;Ne.Content=bt;Ne.Link=mt;const me=Ne;var wt=Object.defineProperty,_t=Object.defineProperties,Et=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,St=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable,Ge=(Y,ee,E)=>ee in Y?wt(Y,ee,{enumerable:!0,configurable:!0,writable:!0,value:E}):Y[ee]=E,je=(Y,ee)=>{for(var E in ee||(ee={}))St.call(ee,E)&&Ge(Y,E,ee[E]);if(Qe)for(var E of Qe(ee))Ct.call(ee,E)&&Ge(Y,E,ee[E]);return Y},Ue=(Y,ee)=>_t(Y,Et(ee));const Tt=(Y,ee,E=!1)=>{const I=Y.split("/");E&&I.length>2&&Y.startsWith("$share/")&&I.splice(0,2);const M=I.length,m=ee.split("/");for(let p=0;p<M;++p){const d=I[p],h=m[p];if(d==="#")return m.length>=M-1;if(d!=="+"&&d!==h)return!1}return M===m.length},kt={log:(...Y)=>{},error:(...Y)=>{},warn:(...Y)=>{},info:(...Y)=>{}},xt=()=>kt;var Ie={eq:Tt,debug:xt},we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function At(Y){return Y&&Y.__esModule&&Object.prototype.hasOwnProperty.call(Y,"default")?Y.default:Y}function Oe(Y){throw new Error('Could not dynamically require "'+Y+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ye={exports:{}};(function(Y,ee){(function(E){Y.exports=E()})(function(){return function(){function E(I,M,m){function p(s,t){if(!M[s]){if(!I[s]){var r=typeof Oe=="function"&&Oe;if(!t&&r)return r(s,!0);if(d)return d(s,!0);var e=new Error("Cannot find module '"+s+"'");throw e.code="MODULE_NOT_FOUND",e}var n=M[s]={exports:{}};I[s][0].call(n.exports,function(u){var o=I[s][1][u];return p(o||u)},n,n.exports,E,I,M,m)}return M[s].exports}for(var d=typeof Oe=="function"&&Oe,h=0;h<m.length;h++)p(m[h]);return p}return E}()({1:[function(E,I,M){(function(m,p){(function(){const d=E("events").EventEmitter,h=E("./store"),s=E("./topic-alias-recv"),t=E("./topic-alias-send"),r=E("mqtt-packet"),e=E("./default-message-id-provider"),n=E("readable-stream").Writable,u=E("inherits"),o=E("reinterval"),y=E("rfdc/default"),g=E("./validations"),f=E("xtend"),i=E("debug")("mqttjs:client"),v=m?m.nextTick:function(T){setTimeout(T,0)},S=p.setImmediate||function(T){v(T)},x={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0},O=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],N={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function P(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function W(T,R){if(T.options.protocolVersion===5&&R.cmd==="publish"){let D;R.properties&&(D=R.properties.topicAlias);const G=R.topic.toString();if(T.topicAliasSend)if(D){if(G.length!==0&&(i("applyTopicAlias :: register topic: %s - alias: %d",G,D),!T.topicAliasSend.put(G,D)))return i("applyTopicAlias :: error out of range. topic: %s - alias: %d",G,D),new Error("Sending Topic Alias out of range")}else G.length!==0&&(T.options.autoAssignTopicAlias?(D=T.topicAliasSend.getAliasByTopic(G),D?(R.topic="",R.properties=Ue(je({},R.properties),{topicAlias:D}),i("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",G,D)):(D=T.topicAliasSend.getLruAlias(),T.topicAliasSend.put(G,D),R.properties=Ue(je({},R.properties),{topicAlias:D}),i("applyTopicAlias :: auto assign topic: %s - alias: %d",G,D))):T.options.autoUseTopicAlias&&(D=T.topicAliasSend.getAliasByTopic(G),D&&(R.topic="",R.properties=Ue(je({},R.properties),{topicAlias:D}),i("applyTopicAlias :: auto use topic: %s - alias: %d",G,D))));else if(D)return i("applyTopicAlias :: error out of range. topic: %s - alias: %d",G,D),new Error("Sending Topic Alias out of range")}}function l(T,R){let D;R.properties&&(D=R.properties.topicAlias);let G=R.topic.toString();if(G.length===0){if(typeof D>"u")return new Error("Unregistered Topic Alias");if(G=T.topicAliasSend.getTopicByAlias(D),typeof G>"u")return new Error("Unregistered Topic Alias");R.topic=G}D&&delete R.properties.topicAlias}function _(T,R,D){i("sendPacket :: packet: %O",R),i("sendPacket :: emitting `packetsend`"),T.emit("packetsend",R),i("sendPacket :: writing to stream");const G=r.writeToStream(R,T.stream,T.options);i("sendPacket :: writeToStream result %s",G),!G&&D&&D!==H?(i("sendPacket :: handle events on `drain` once through callback."),T.stream.once("drain",D)):D&&(i("sendPacket :: invoking cb"),D())}function b(T){T&&(i("flush: queue exists? %b",!!T),Object.keys(T).forEach(function(R){typeof T[R].cb=="function"&&(T[R].cb(new Error("Connection closed")),delete T[R])}))}function j(T){T&&(i("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(T).forEach(function(R){T[R].volatile&&typeof T[R].cb=="function"&&(T[R].cb(new Error("Connection closed")),delete T[R])}))}function V(T,R,D,G){i("storeAndSend :: store packet with cmd %s to outgoingStore",R.cmd);let ae=R,oe;if(ae.cmd==="publish"&&(ae=y(R),oe=l(T,ae),oe))return D&&D(oe);T.outgoingStore.put(ae,function($){if($)return D&&D($);G(),_(T,R,D)})}function H(T){i("nop ::",T)}function X(T,R){let D;const G=this;if(!(this instanceof X))return new X(T,R);this.options=R||{};for(D in x)typeof this.options[D]>"u"?this.options[D]=x[D]:this.options[D]=R[D];i("MqttClient :: options.protocol",R.protocol),i("MqttClient :: options.protocolVersion",R.protocolVersion),i("MqttClient :: options.username",R.username),i("MqttClient :: options.keepalive",R.keepalive),i("MqttClient :: options.reconnectPeriod",R.reconnectPeriod),i("MqttClient :: options.rejectUnauthorized",R.rejectUnauthorized),i("MqttClient :: options.topicAliasMaximum",R.topicAliasMaximum),this.options.clientId=typeof R.clientId=="string"?R.clientId:P(),i("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=R.protocolVersion===5&&R.customHandleAcks?R.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=T,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new e:this.options.messageIdProvider,this.outgoingStore=R.outgoingStore||new h,this.incomingStore=R.incomingStore||new h,this.queueQoSZero=R.queueQoSZero===void 0?!0:R.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,R.topicAliasMaximum>0&&(R.topicAliasMaximum>65535?i("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new s(R.topicAliasMaximum)),this.on("connect",function(){const ae=this.queue;function oe(){const K=ae.shift();i("deliver :: entry %o",K);let $=null;if(!K){G._resubscribe();return}$=K.packet,i("deliver :: call _sendPacket for %o",$);let ie=!0;$.messageId&&$.messageId!==0&&(G.messageIdProvider.register($.messageId)||(ie=!1)),ie?G._sendPacket($,function(re){K.cb&&K.cb(re),oe()}):(i("messageId: %d has already used. The message is skipped and removed.",$.messageId),oe())}i("connect :: sending queued packets"),oe()}),this.on("close",function(){i("close :: connected set to `false`"),this.connected=!1,i("close :: clearing connackTimer"),clearTimeout(this.connackTimer),i("close :: clearing ping timer"),G.pingTimer!==null&&(G.pingTimer.clear(),G.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),i("close :: calling _setupReconnect"),this._setupReconnect()}),d.call(this),i("MqttClient :: setting up stream"),this._setupStream()}u(X,d),X.prototype._setupStream=function(){const T=this,R=new n,D=r.parser(this.options);let G=null;const ae=[];i("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),i("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),D.on("packet",function(re){i("parser :: on packet push to packets array."),ae.push(re)});function oe(){if(ae.length)v(K);else{const re=G;G=null,re()}}function K(){i("work :: getting next packet in queue");const re=ae.shift();if(re)i("work :: packet pulled from queue"),T._handlePacket(re,oe);else{i("work :: no packets in queue");const ue=G;G=null,i("work :: done flag is %s",!!ue),ue&&ue()}}R._write=function(re,ue,se){G=se,i("writable stream :: parsing buffer"),D.parse(re),K()};function $(re){i("streamErrorHandler :: error",re.message),O.includes(re.code)?(i("streamErrorHandler :: emitting error"),T.emit("error",re)):H(re)}i("_setupStream :: pipe stream to writable stream"),this.stream.pipe(R),this.stream.on("error",$),this.stream.on("close",function(){i("(%s)stream :: on close",T.options.clientId),j(T.outgoing),i("stream: emit close to MqttClient"),T.emit("close")}),i("_setupStream: sending packet `connect`");const ie=Object.create(this.options);if(ie.cmd="connect",this.topicAliasRecv&&(ie.properties||(ie.properties={}),this.topicAliasRecv&&(ie.properties.topicAliasMaximum=this.topicAliasRecv.max)),_(this,ie),D.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return T.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){const re=f({cmd:"auth",reasonCode:0},this.options.authPacket);_(this,re)}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){i("!!connectTimeout hit!! Calling _cleanUp with force `true`"),T._cleanUp(!0)},this.options.connectTimeout)},X.prototype._handlePacket=function(T,R){const D=this.options;if(D.protocolVersion===5&&D.properties&&D.properties.maximumPacketSize&&D.properties.maximumPacketSize<T.length)return this.emit("error",new Error("exceeding packets size "+T.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(i("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",T),T.cmd){case"publish":this._handlePublish(T,R);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(T),R();break;case"pubrel":this._handlePubrel(T,R);break;case"connack":this._handleConnack(T),R();break;case"auth":this._handleAuth(T),R();break;case"pingresp":this._handlePingresp(T),R();break;case"disconnect":this._handleDisconnect(T),R();break}},X.prototype._checkDisconnecting=function(T){return this.disconnecting&&(T&&T!==H?T(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},X.prototype.publish=function(T,R,D,G){i("publish :: message `%s` to topic `%s`",R,T);const ae=this.options;if(typeof D=="function"&&(G=D,D=null),D=f({qos:0,retain:!1,dup:!1},D),this._checkDisconnecting(G))return this;const K=this,$=function(){let ie=0;if((D.qos===1||D.qos===2)&&(ie=K._nextId(),ie===null))return i("No messageId left"),!1;const re={cmd:"publish",topic:T,payload:R,qos:D.qos,retain:D.retain,messageId:ie,dup:D.dup};switch(ae.protocolVersion===5&&(re.properties=D.properties),i("publish :: qos",D.qos),D.qos){case 1:case 2:K.outgoing[re.messageId]={volatile:!1,cb:G||H},i("MqttClient:publish: packet cmd: %s",re.cmd),K._sendPacket(re,void 0,D.cbStorePut);break;default:i("MqttClient:publish: packet cmd: %s",re.cmd),K._sendPacket(re,G,D.cbStorePut);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!$())&&this._storeProcessingQueue.push({invoke:$,cbStorePut:D.cbStorePut,callback:G}),this},X.prototype.subscribe=function(){const T=this,R=new Array(arguments.length);for(let se=0;se<arguments.length;se++)R[se]=arguments[se];const D=[];let G=R.shift();const ae=G.resubscribe;let oe=R.pop()||H,K=R.pop();const $=this.options.protocolVersion;delete G.resubscribe,typeof G=="string"&&(G=[G]),typeof oe!="function"&&(K=oe,oe=H);const ie=g.validateTopics(G);if(ie!==null)return S(oe,new Error("Invalid topic "+ie)),this;if(this._checkDisconnecting(oe))return i("subscribe: discconecting true"),this;const re={qos:0};if($===5&&(re.nl=!1,re.rap=!1,re.rh=0),K=f(re,K),Array.isArray(G)?G.forEach(function(se){if(i("subscribe: array topic %s",se),!Object.prototype.hasOwnProperty.call(T._resubscribeTopics,se)||T._resubscribeTopics[se].qos<K.qos||ae){const q={topic:se,qos:K.qos};$===5&&(q.nl=K.nl,q.rap=K.rap,q.rh=K.rh,q.properties=K.properties),i("subscribe: pushing topic `%s` and qos `%s` to subs list",q.topic,q.qos),D.push(q)}}):Object.keys(G).forEach(function(se){if(i("subscribe: object topic %s",se),!Object.prototype.hasOwnProperty.call(T._resubscribeTopics,se)||T._resubscribeTopics[se].qos<G[se].qos||ae){const q={topic:se,qos:G[se].qos};$===5&&(q.nl=G[se].nl,q.rap=G[se].rap,q.rh=G[se].rh,q.properties=K.properties),i("subscribe: pushing `%s` to subs list",q),D.push(q)}}),!D.length)return oe(null,[]),this;const ue=function(){const se=T._nextId();if(se===null)return i("No messageId left"),!1;const q={cmd:"subscribe",subscriptions:D,qos:1,retain:!1,dup:!1,messageId:se};if(K.properties&&(q.properties=K.properties),T.options.resubscribe){i("subscribe :: resubscribe true");const U=[];D.forEach(function(J){if(T.options.reconnectPeriod>0){const B={qos:J.qos};$===5&&(B.nl=J.nl||!1,B.rap=J.rap||!1,B.rh=J.rh||0,B.properties=J.properties),T._resubscribeTopics[J.topic]=B,U.push(J.topic)}}),T.messageIdToTopic[q.messageId]=U}return T.outgoing[q.messageId]={volatile:!0,cb:function(U,J){if(!U){const B=J.granted;for(let L=0;L<B.length;L+=1)D[L].qos=B[L]}oe(U,D)}},i("subscribe :: call _sendPacket"),T._sendPacket(q),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ue())&&this._storeProcessingQueue.push({invoke:ue,callback:oe}),this},X.prototype.unsubscribe=function(){const T=this,R=new Array(arguments.length);for(let $=0;$<arguments.length;$++)R[$]=arguments[$];let D=R.shift(),G=R.pop()||H,ae=R.pop();typeof D=="string"&&(D=[D]),typeof G!="function"&&(ae=G,G=H);const oe=g.validateTopics(D);if(oe!==null)return S(G,new Error("Invalid topic "+oe)),this;if(T._checkDisconnecting(G))return this;const K=function(){const $=T._nextId();if($===null)return i("No messageId left"),!1;const ie={cmd:"unsubscribe",qos:1,messageId:$};return typeof D=="string"?ie.unsubscriptions=[D]:Array.isArray(D)&&(ie.unsubscriptions=D),T.options.resubscribe&&ie.unsubscriptions.forEach(function(re){delete T._resubscribeTopics[re]}),typeof ae=="object"&&ae.properties&&(ie.properties=ae.properties),T.outgoing[ie.messageId]={volatile:!0,cb:G},i("unsubscribe: call _sendPacket"),T._sendPacket(ie),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!K())&&this._storeProcessingQueue.push({invoke:K,callback:G}),this},X.prototype.end=function(T,R,D){const G=this;i("end :: (%s)",this.options.clientId),(T==null||typeof T!="boolean")&&(D=R||H,R=T,T=!1,typeof R!="object"&&(D=R,R=null,typeof D!="function"&&(D=H))),typeof R!="object"&&(D=R,R=null),i("end :: cb? %s",!!D),D=D||H;function ae(){i("end :: closeStores: closing incoming and outgoing stores"),G.disconnected=!0,G.incomingStore.close(function(K){G.outgoingStore.close(function($){if(i("end :: closeStores: emitting end"),G.emit("end"),D){const ie=K||$;i("end :: closeStores: invoking callback with args"),D(ie)}})}),G._deferredReconnect&&G._deferredReconnect()}function oe(){i("end :: (%s) :: finish :: calling _cleanUp with force %s",G.options.clientId,T),G._cleanUp(T,()=>{i("end :: finish :: calling process.nextTick on closeStores"),v(ae.bind(G))},R)}return this.disconnecting?(D(),this):(this._clearReconnect(),this.disconnecting=!0,!T&&Object.keys(this.outgoing).length>0?(i("end :: (%s) :: calling finish in 10ms once outgoing is empty",G.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,oe,10))):(i("end :: (%s) :: immediately calling finish",G.options.clientId),oe()),this)},X.prototype.removeOutgoingMessage=function(T){const R=this.outgoing[T]?this.outgoing[T].cb:null;return delete this.outgoing[T],this.outgoingStore.del({messageId:T},function(){R(new Error("Message removed"))}),this},X.prototype.reconnect=function(T){i("client reconnect");const R=this,D=function(){T?(R.options.incomingStore=T.incomingStore,R.options.outgoingStore=T.outgoingStore):(R.options.incomingStore=null,R.options.outgoingStore=null),R.incomingStore=R.options.incomingStore||new h,R.outgoingStore=R.options.outgoingStore||new h,R.disconnecting=!1,R.disconnected=!1,R._deferredReconnect=null,R._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=D:D(),this},X.prototype._reconnect=function(){i("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),i("client already connected. disconnecting first.")):(i("_reconnect: calling _setupStream"),this._setupStream())},X.prototype._setupReconnect=function(){const T=this;!T.disconnecting&&!T.reconnectTimer&&T.options.reconnectPeriod>0?(this.reconnecting||(i("_setupReconnect :: emit `offline` state"),this.emit("offline"),i("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),i("_setupReconnect :: setting reconnectTimer for %d ms",T.options.reconnectPeriod),T.reconnectTimer=setInterval(function(){i("reconnectTimer :: reconnect triggered!"),T._reconnect()},T.options.reconnectPeriod)):i("_setupReconnect :: doing nothing...")},X.prototype._clearReconnect=function(){i("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},X.prototype._cleanUp=function(T,R){const D=arguments[2];if(R&&(i("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",R)),i("_cleanUp :: forced? %s",T),T)this.options.reconnectPeriod===0&&this.options.clean&&b(this.outgoing),i("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const G=f({cmd:"disconnect"},D);i("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(G,S.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(i("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(i("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),R&&!this.connected&&(i("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",R),R())},X.prototype._sendPacket=function(T,R,D){i("_sendPacket :: (%s) ::  start",this.options.clientId),D=D||H,R=R||H;const G=W(this,T);if(G){R(G);return}if(!this.connected){if(T.cmd==="auth"){this._shiftPingInterval(),_(this,T,R);return}i("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(T,R,D);return}switch(this._shiftPingInterval(),T.cmd){case"publish":break;case"pubrel":V(this,T,R,D);return;default:_(this,T,R);return}switch(T.qos){case 2:case 1:V(this,T,R,D);break;case 0:default:_(this,T,R);break}i("_sendPacket :: (%s) ::  end",this.options.clientId)},X.prototype._storePacket=function(T,R,D){i("_storePacket :: packet: %o",T),i("_storePacket :: cb? %s",!!R),D=D||H;let G=T;if(G.cmd==="publish"){G=y(T);const ae=l(this,G);if(ae)return R&&R(ae)}(G.qos||0)===0&&this.queueQoSZero||G.cmd!=="publish"?this.queue.push({packet:G,cb:R}):G.qos>0?(R=this.outgoing[G.messageId]?this.outgoing[G.messageId].cb:null,this.outgoingStore.put(G,function(ae){if(ae)return R&&R(ae);D()})):R&&R(new Error("No connection to broker"))},X.prototype._setupPingTimer=function(){i("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const T=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=o(function(){T._checkPing()},this.options.keepalive*1e3))},X.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)},X.prototype._checkPing=function(){i("_checkPing :: checking ping..."),this.pingResp?(i("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(i("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},X.prototype._handlePingresp=function(){this.pingResp=!0},X.prototype._handleConnack=function(T){i("_handleConnack");const R=this.options,G=R.protocolVersion===5?T.reasonCode:T.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,T.properties){if(T.properties.topicAliasMaximum){if(T.properties.topicAliasMaximum>65535){this.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}T.properties.topicAliasMaximum>0&&(this.topicAliasSend=new t(T.properties.topicAliasMaximum))}T.properties.serverKeepAlive&&R.keepalive&&(R.keepalive=T.properties.serverKeepAlive,this._shiftPingInterval()),T.properties.maximumPacketSize&&(R.properties||(R.properties={}),R.properties.maximumPacketSize=T.properties.maximumPacketSize)}if(G===0)this.reconnecting=!1,this._onConnect(T);else if(G>0){const ae=new Error("Connection refused: "+N[G]);ae.code=G,this.emit("error",ae)}},X.prototype._handleAuth=function(T){const D=this.options.protocolVersion,G=D===5?T.reasonCode:T.returnCode;if(D!==5){const oe=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+D);oe.code=G,this.emit("error",oe);return}const ae=this;this.handleAuth(T,function(oe,K){if(oe){ae.emit("error",oe);return}if(G===24)ae.reconnecting=!1,ae._sendPacket(K);else{const $=new Error("Connection refused: "+N[G]);oe.code=G,ae.emit("error",$)}})},X.prototype.handleAuth=function(T,R){R()},X.prototype._handlePublish=function(T,R){i("_handlePublish: packet %o",T),R=typeof R<"u"?R:H;let D=T.topic.toString();const G=T.payload,ae=T.qos,oe=T.messageId,K=this,$=this.options,ie=[0,16,128,131,135,144,145,151,153];if(this.options.protocolVersion===5){let re;if(T.properties&&(re=T.properties.topicAlias),typeof re<"u")if(D.length===0)if(re>0&&re<=65535){const ue=this.topicAliasRecv.getTopicByAlias(re);if(ue)D=ue,i("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",D,re);else{i("_handlePublish :: unregistered topic alias. alias: %d",re),this.emit("error",new Error("Received unregistered Topic Alias"));return}}else{i("_handlePublish :: topic alias out of range. alias: %d",re),this.emit("error",new Error("Received Topic Alias is out of range"));return}else if(this.topicAliasRecv.put(D,re))i("_handlePublish :: registered topic: %s - alias: %d",D,re);else{i("_handlePublish :: topic alias out of range. alias: %d",re),this.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(i("_handlePublish: qos %d",ae),ae){case 2:{$.customHandleAcks(D,G,T,function(re,ue){if(re instanceof Error||(ue=re,re=null),re)return K.emit("error",re);if(ie.indexOf(ue)===-1)return K.emit("error",new Error("Wrong reason code for pubrec"));ue?K._sendPacket({cmd:"pubrec",messageId:oe,reasonCode:ue},R):K.incomingStore.put(T,function(){K._sendPacket({cmd:"pubrec",messageId:oe},R)})});break}case 1:{$.customHandleAcks(D,G,T,function(re,ue){if(re instanceof Error||(ue=re,re=null),re)return K.emit("error",re);if(ie.indexOf(ue)===-1)return K.emit("error",new Error("Wrong reason code for puback"));ue||K.emit("message",D,G,T),K.handleMessage(T,function(se){if(se)return R&&R(se);K._sendPacket({cmd:"puback",messageId:oe,reasonCode:ue},R)})});break}case 0:this.emit("message",D,G,T),this.handleMessage(T,R);break;default:i("_handlePublish: unknown QoS. Doing nothing.");break}},X.prototype.handleMessage=function(T,R){R()},X.prototype._handleAck=function(T){const R=T.messageId,D=T.cmd;let G=null;const ae=this.outgoing[R]?this.outgoing[R].cb:null,oe=this;let K;if(!ae){i("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(i("_handleAck :: packet type",D),D){case"pubcomp":case"puback":{const $=T.reasonCode;$&&$>0&&$!==16&&(K=new Error("Publish error: "+N[$]),K.code=$,ae(K,T)),delete this.outgoing[R],this.outgoingStore.del(T,ae),this.messageIdProvider.deallocate(R),this._invokeStoreProcessingQueue();break}case"pubrec":{G={cmd:"pubrel",qos:2,messageId:R};const $=T.reasonCode;$&&$>0&&$!==16?(K=new Error("Publish error: "+N[$]),K.code=$,ae(K,T)):this._sendPacket(G);break}case"suback":{delete this.outgoing[R],this.messageIdProvider.deallocate(R);for(let $=0;$<T.granted.length;$++)if(T.granted[$]&128){const ie=this.messageIdToTopic[R];ie&&ie.forEach(function(re){delete oe._resubscribeTopics[re]})}this._invokeStoreProcessingQueue(),ae(null,T);break}case"unsuback":{delete this.outgoing[R],this.messageIdProvider.deallocate(R),this._invokeStoreProcessingQueue(),ae(null);break}default:oe.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")},X.prototype._handlePubrel=function(T,R){i("handling pubrel packet"),R=typeof R<"u"?R:H;const D=T.messageId,G=this,ae={cmd:"pubcomp",messageId:D};G.incomingStore.get(T,function(oe,K){oe?G._sendPacket(ae,R):(G.emit("message",K.topic,K.payload,K),G.handleMessage(K,function($){if($)return R($);G.incomingStore.del(K,H),G._sendPacket(ae,R)}))})},X.prototype._handleDisconnect=function(T){this.emit("disconnect",T)},X.prototype._nextId=function(){return this.messageIdProvider.allocate()},X.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},X.prototype._resubscribe=function(){i("_resubscribe");const T=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion===5&&!this.connackPacket.sessionPresent)&&T.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){i("_resubscribe: protocolVersion 5");for(let R=0;R<T.length;R++){const D={};D[T[R]]=this._resubscribeTopics[T[R]],D.resubscribe=!0,this.subscribe(D,{properties:D[T[R]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},X.prototype._onConnect=function(T){if(this.disconnected){this.emit("connect",T);return}const R=this;this.connackPacket=T,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;function D(){let G=R.outgoingStore.createStream();function ae(){R._storeProcessing=!1,R._packetIdsDuringStoreProcessing={}}R.once("close",oe),G.on("error",function($){ae(),R._flushStoreProcessingQueue(),R.removeListener("close",oe),R.emit("error",$)});function oe(){G.destroy(),G=null,R._flushStoreProcessingQueue(),ae()}function K(){if(!G)return;R._storeProcessing=!0;const $=G.read(1);let ie;if(!$){G.once("readable",K);return}if(R._packetIdsDuringStoreProcessing[$.messageId]){K();return}!R.disconnecting&&!R.reconnectTimer?(ie=R.outgoing[$.messageId]?R.outgoing[$.messageId].cb:null,R.outgoing[$.messageId]={volatile:!1,cb:function(re,ue){ie&&ie(re,ue),K()}},R._packetIdsDuringStoreProcessing[$.messageId]=!0,R.messageIdProvider.register($.messageId)?R._sendPacket($):i("messageId: %d has already used.",$.messageId)):G.destroy&&G.destroy()}G.on("end",function(){let $=!0;for(const ie in R._packetIdsDuringStoreProcessing)if(!R._packetIdsDuringStoreProcessing[ie]){$=!1;break}$?(ae(),R.removeListener("close",oe),R._invokeAllStoreProcessingQueue(),R.emit("connect",T)):D()}),K()}D()},X.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const T=this._storeProcessingQueue[0];if(T&&T.invoke())return this._storeProcessingQueue.shift(),!0}return!1},X.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},X.prototype._flushStoreProcessingQueue=function(){for(const T of this._storeProcessingQueue)T.cbStorePut&&T.cbStorePut(new Error("Connection closed")),T.callback&&T.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},I.exports=X}).call(this)}).call(this,E("_process"),typeof we<"u"?we:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-message-id-provider":7,"./store":8,"./topic-alias-recv":9,"./topic-alias-send":10,"./validations":11,_process:50,debug:18,events:22,inherits:24,"mqtt-packet":40,"readable-stream":69,reinterval:70,"rfdc/default":71,xtend:81}],2:[function(E,I,M){const{Buffer:m}=E("buffer"),p=E("readable-stream").Transform,d=E("duplexify");let h,s,t,r=!1;function e(){const g=new p;return g._write=function(f,i,v){h.sendSocketMessage({data:f.buffer,success:function(){v()},fail:function(){v(new Error)}})},g._flush=function(i){h.closeSocket({success:function(){i()}})},g}function n(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function u(g,f){const i=g.protocol==="alis"?"wss":"ws";let v=i+"://"+g.hostname+g.path;return g.port&&g.port!==80&&g.port!==443&&(v=i+"://"+g.hostname+":"+g.port+g.path),typeof g.transformWsUrl=="function"&&(v=g.transformWsUrl(v,g,f)),v}function o(){r||(r=!0,h.onSocketOpen(function(){t.setReadable(s),t.setWritable(s),t.emit("connect")}),h.onSocketMessage(function(g){if(typeof g.data=="string"){const f=m.from(g.data,"base64");s.push(f)}else{const f=new FileReader;f.addEventListener("load",function(){let i=f.result;i instanceof ArrayBuffer?i=m.from(i):i=m.from(i,"utf8"),s.push(i)}),f.readAsArrayBuffer(g.data)}}),h.onSocketClose(function(){t.end(),t.destroy()}),h.onSocketError(function(g){t.destroy(g)}))}function y(g,f){if(f.hostname=f.hostname||f.host,!f.hostname)throw new Error("Could not determine host. Specify host manually.");const i=f.protocolId==="MQIsdp"&&f.protocolVersion===3?"mqttv3.1":"mqtt";n(f);const v=u(f,g);return h=f.my,h.connectSocket({url:v,protocols:i}),s=e(),t=d.obj(),o(),t}I.exports=y},{buffer:17,duplexify:20,"readable-stream":69}],3:[function(E,I,M){const m=E("net"),p=E("debug")("mqttjs:tcp");function d(h,s){s.port=s.port||1883,s.hostname=s.hostname||s.host||"localhost";const t=s.port,r=s.hostname;return p("port %d and host %s",t,r),m.createConnection(t,r)}I.exports=d},{debug:18,net:16}],4:[function(E,I,M){const m=E("tls"),p=E("net"),d=E("debug")("mqttjs:tls");function h(s,t){t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",p.isIP(t.host)===0&&(t.servername=t.host),t.rejectUnauthorized=t.rejectUnauthorized!==!1,delete t.path,d("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized);const r=m.connect(t);r.on("secureConnect",function(){t.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",e)});function e(n){t.rejectUnauthorized&&s.emit("error",n),r.end()}return r.on("error",e),r}I.exports=h},{debug:18,net:16,tls:16}],5:[function(E,I,M){(function(m){(function(){const{Buffer:p}=E("buffer"),d=E("ws"),h=E("debug")("mqttjs:ws"),s=E("duplexify"),t=E("readable-stream").Transform,r=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],e=typeof m<"u"&&m.title==="browser"||typeof __webpack_require__=="function";function n(v,S){let x=v.protocol+"://"+v.hostname+":"+v.port+v.path;return typeof v.transformWsUrl=="function"&&(x=v.transformWsUrl(x,v,S)),x}function u(v){const S=v;return v.hostname||(S.hostname="localhost"),v.port||(v.protocol==="wss"?S.port=443:S.port=80),v.path||(S.path="/"),v.wsOptions||(S.wsOptions={}),!e&&v.protocol==="wss"&&r.forEach(function(x){Object.prototype.hasOwnProperty.call(v,x)&&!Object.prototype.hasOwnProperty.call(v.wsOptions,x)&&(S.wsOptions[x]=v[x])}),S}function o(v){const S=u(v);if(S.hostname||(S.hostname=S.host),!S.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");const x=new URL(document.URL);S.hostname=x.hostname,S.port||(S.port=x.port)}return S.objectMode===void 0&&(S.objectMode=!(S.binary===!0||S.binary===void 0)),S}function y(v,S,x){h("createWebSocket"),h("protocol: "+x.protocolId+" "+x.protocolVersion);const O=x.protocolId==="MQIsdp"&&x.protocolVersion===3?"mqttv3.1":"mqtt";return h("creating new Websocket for url: "+S+" and protocol: "+O),new d(S,[O],x.wsOptions)}function g(v,S){const x=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt",O=n(S,v),N=new WebSocket(O,[x]);return N.binaryType="arraybuffer",N}function f(v,S){h("streamBuilder");const x=u(S),O=n(x,v),N=y(v,O,x),P=d.createWebSocketStream(N,x.wsOptions);return P.url=O,N.on("close",()=>{P.destroy()}),P}function i(v,S){h("browserStreamBuilder");let x;const N=o(S).browserBufferSize||1024*512,P=S.browserBufferTimeout||1e3,W=!S.objectMode,l=g(v,S),_=j(S,D,G);S.objectMode||(_._writev=R),_.on("close",()=>{l.close()});const b=typeof l.addEventListener<"u";l.readyState===l.OPEN?x=_:(x=x=s(void 0,void 0,S),S.objectMode||(x._writev=R),b?l.addEventListener("open",V):l.onopen=V),x.socket=l,b?(l.addEventListener("close",H),l.addEventListener("error",X),l.addEventListener("message",T)):(l.onclose=H,l.onerror=X,l.onmessage=T);function j(ae,oe,K){const $=new t({objectModeMode:ae.objectMode});return $._write=oe,$._flush=K,$}function V(){x.setReadable(_),x.setWritable(_),x.emit("connect")}function H(){x.end(),x.destroy()}function X(ae){x.destroy(ae)}function T(ae){let oe=ae.data;oe instanceof ArrayBuffer?oe=p.from(oe):oe=p.from(oe,"utf8"),_.push(oe)}function R(ae,oe){const K=new Array(ae.length);for(let $=0;$<ae.length;$++)typeof ae[$].chunk=="string"?K[$]=p.from(ae[$],"utf8"):K[$]=ae[$].chunk;this._write(p.concat(K),"binary",oe)}function D(ae,oe,K){l.bufferedAmount>N&&setTimeout(D,P,ae,oe,K),W&&typeof ae=="string"&&(ae=p.from(ae,"utf8"));try{l.send(ae)}catch($){return K($)}K()}function G(ae){l.close(),ae()}return x}e?I.exports=i:I.exports=f}).call(this)}).call(this,E("_process"))},{_process:50,buffer:17,debug:18,duplexify:20,"readable-stream":69,ws:80}],6:[function(E,I,M){const{Buffer:m}=E("buffer"),p=E("readable-stream").Transform,d=E("duplexify");let h,s,t;function r(){const y=new p;return y._write=function(g,f,i){h.send({data:g.buffer,success:function(){i()},fail:function(v){i(new Error(v))}})},y._flush=function(f){h.close({success:function(){f()}})},y}function e(y){y.hostname||(y.hostname="localhost"),y.path||(y.path="/"),y.wsOptions||(y.wsOptions={})}function n(y,g){const f=y.protocol==="wxs"?"wss":"ws";let i=f+"://"+y.hostname+y.path;return y.port&&y.port!==80&&y.port!==443&&(i=f+"://"+y.hostname+":"+y.port+y.path),typeof y.transformWsUrl=="function"&&(i=y.transformWsUrl(i,y,g)),i}function u(){h.onOpen(function(){t.setReadable(s),t.setWritable(s),t.emit("connect")}),h.onMessage(function(y){let g=y.data;g instanceof ArrayBuffer?g=m.from(g):g=m.from(g,"utf8"),s.push(g)}),h.onClose(function(){t.end(),t.destroy()}),h.onError(function(y){t.destroy(new Error(y.errMsg))})}function o(y,g){if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");const f=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";e(g);const i=n(g,y);h=wx.connectSocket({url:i,protocols:[f]}),s=r(),t=d.obj(),t._destroy=function(S,x){h.close({success:function(){x&&x(S)}})};const v=t.destroy;return t.destroy=function(){t.destroy=v;const S=this;setTimeout(function(){h.close({fail:function(){S._destroy(new Error)}})},0)}.bind(t),u(),t}I.exports=o},{buffer:17,duplexify:20,"readable-stream":69}],7:[function(E,I,M){function m(){if(!(this instanceof m))return new m;this.nextId=Math.max(1,Math.floor(Math.random()*65535))}m.prototype.allocate=function(){const p=this.nextId++;return this.nextId===65536&&(this.nextId=1),p},m.prototype.getLastAllocated=function(){return this.nextId===1?65535:this.nextId-1},m.prototype.register=function(p){return!0},m.prototype.deallocate=function(p){},m.prototype.clear=function(){},I.exports=m},{}],8:[function(E,I,M){const m=E("xtend"),p=E("readable-stream").Readable,d={objectMode:!0},h={clean:!0};function s(t){if(!(this instanceof s))return new s(t);this.options=t||{},this.options=m(h,t),this._inflights=new Map}s.prototype.put=function(t,r){return this._inflights.set(t.messageId,t),r&&r(),this},s.prototype.createStream=function(){const t=new p(d),r=[];let e=!1,n=0;return this._inflights.forEach(function(u,o){r.push(u)}),t._read=function(){!e&&n<r.length?this.push(r[n++]):this.push(null)},t.destroy=function(){if(e)return;const u=this;e=!0,setTimeout(function(){u.emit("close")},0)},t},s.prototype.del=function(t,r){return t=this._inflights.get(t.messageId),t?(this._inflights.delete(t.messageId),r(null,t)):r&&r(new Error("missing packet")),this},s.prototype.get=function(t,r){return t=this._inflights.get(t.messageId),t?r(null,t):r&&r(new Error("missing packet")),this},s.prototype.close=function(t){this.options.clean&&(this._inflights=null),t&&t()},I.exports=s},{"readable-stream":69,xtend:81}],9:[function(E,I,M){function m(p){if(!(this instanceof m))return new m(p);this.aliasToTopic={},this.max=p}m.prototype.put=function(p,d){return d===0||d>this.max?!1:(this.aliasToTopic[d]=p,this.length=Object.keys(this.aliasToTopic).length,!0)},m.prototype.getTopicByAlias=function(p){return this.aliasToTopic[p]},m.prototype.clear=function(){this.aliasToTopic={}},I.exports=m},{}],10:[function(E,I,M){const m=E("lru-cache"),p=E("number-allocator").NumberAllocator;function d(h){if(!(this instanceof d))return new d(h);h>0&&(this.aliasToTopic=new m({max:h}),this.topicToAlias={},this.numberAllocator=new p(1,h),this.max=h,this.length=0)}d.prototype.put=function(h,s){if(s===0||s>this.max)return!1;const t=this.aliasToTopic.get(s);return t&&delete this.topicToAlias[t],this.aliasToTopic.set(s,h),this.topicToAlias[h]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.length,!0},d.prototype.getTopicByAlias=function(h){return this.aliasToTopic.get(h)},d.prototype.getAliasByTopic=function(h){const s=this.topicToAlias[h];return typeof s<"u"&&this.aliasToTopic.get(s),s},d.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},d.prototype.getLruAlias=function(){const h=this.numberAllocator.firstVacant();return h||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},I.exports=d},{"lru-cache":37,"number-allocator":46}],11:[function(E,I,M){function m(d){const h=d.split("/");for(let s=0;s<h.length;s++)if(h[s]!=="+"){if(h[s]==="#")return s===h.length-1;if(h[s].indexOf("+")!==-1||h[s].indexOf("#")!==-1)return!1}return!0}function p(d){if(d.length===0)return"empty_topic_list";for(let h=0;h<d.length;h++)if(!m(d[h]))return d[h];return null}I.exports={validateTopics:p}},{}],12:[function(E,I,M){(function(m){(function(){const p=E("../client"),d=E("../store"),h=E("url"),s=E("xtend"),t=E("debug")("mqttjs"),r={};typeof m<"u"&&m.title!=="browser"||typeof __webpack_require__!="function"?(r.mqtt=E("./tcp"),r.tcp=E("./tcp"),r.ssl=E("./tls"),r.tls=E("./tls"),r.mqtts=E("./tls")):(r.wx=E("./wx"),r.wxs=E("./wx"),r.ali=E("./ali"),r.alis=E("./ali")),r.ws=E("./ws"),r.wss=E("./ws");function e(u){let o;u.auth&&(o=u.auth.match(/^(.+):(.+)$/),o?(u.username=o[1],u.password=o[2]):u.username=u.auth)}function n(u,o){if(t("connecting to an MQTT broker..."),typeof u=="object"&&!o&&(o=u,u=null),o=o||{},u){const f=h.parse(u,!0);if(f.port!=null&&(f.port=Number(f.port)),o=s(f,o),o.protocol===null)throw new Error("Missing protocol");o.protocol=o.protocol.replace(/:$/,"")}if(e(o),o.query&&typeof o.query.clientId=="string"&&(o.clientId=o.query.clientId),o.cert&&o.key)if(o.protocol){if(["mqtts","wss","wxs","alis"].indexOf(o.protocol)===-1)switch(o.protocol){case"mqtt":o.protocol="mqtts";break;case"ws":o.protocol="wss";break;case"wx":o.protocol="wxs";break;case"ali":o.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+o.protocol+'"!')}}else throw new Error("Missing secure protocol key");if(!r[o.protocol]){const f=["mqtts","wss"].indexOf(o.protocol)!==-1;o.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(i,v){return f&&v%2===0?!1:typeof r[i]=="function"})[0]}if(o.clean===!1&&!o.clientId)throw new Error("Missing clientId for unclean clients");o.protocol&&(o.defaultProtocol=o.protocol);function y(f){return o.servers&&((!f._reconnectCount||f._reconnectCount===o.servers.length)&&(f._reconnectCount=0),o.host=o.servers[f._reconnectCount].host,o.port=o.servers[f._reconnectCount].port,o.protocol=o.servers[f._reconnectCount].protocol?o.servers[f._reconnectCount].protocol:o.defaultProtocol,o.hostname=o.host,f._reconnectCount++),t("calling streambuilder for",o.protocol),r[o.protocol](f,o)}const g=new p(y,o);return g.on("error",function(){}),g}I.exports=n,I.exports.connect=n,I.exports.MqttClient=p,I.exports.Store=d}).call(this)}).call(this,E("_process"))},{"../client":1,"../store":8,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,_process:50,debug:18,url:76,xtend:81}],13:[function(E,I,M){M.byteLength=e,M.toByteArray=u,M.fromByteArray=g;for(var m=[],p=[],d=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,t=h.length;s<t;++s)m[s]=h[s],p[h.charCodeAt(s)]=s;p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63;function r(f){var i=f.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=f.indexOf("=");v===-1&&(v=i);var S=v===i?0:4-v%4;return[v,S]}function e(f){var i=r(f),v=i[0],S=i[1];return(v+S)*3/4-S}function n(f,i,v){return(i+v)*3/4-v}function u(f){var i,v=r(f),S=v[0],x=v[1],O=new d(n(f,S,x)),N=0,P=x>0?S-4:S,W;for(W=0;W<P;W+=4)i=p[f.charCodeAt(W)]<<18|p[f.charCodeAt(W+1)]<<12|p[f.charCodeAt(W+2)]<<6|p[f.charCodeAt(W+3)],O[N++]=i>>16&255,O[N++]=i>>8&255,O[N++]=i&255;return x===2&&(i=p[f.charCodeAt(W)]<<2|p[f.charCodeAt(W+1)]>>4,O[N++]=i&255),x===1&&(i=p[f.charCodeAt(W)]<<10|p[f.charCodeAt(W+1)]<<4|p[f.charCodeAt(W+2)]>>2,O[N++]=i>>8&255,O[N++]=i&255),O}function o(f){return m[f>>18&63]+m[f>>12&63]+m[f>>6&63]+m[f&63]}function y(f,i,v){for(var S,x=[],O=i;O<v;O+=3)S=(f[O]<<16&16711680)+(f[O+1]<<8&65280)+(f[O+2]&255),x.push(o(S));return x.join("")}function g(f){for(var i,v=f.length,S=v%3,x=[],O=16383,N=0,P=v-S;N<P;N+=O)x.push(y(f,N,N+O>P?P:N+O));return S===1?(i=f[v-1],x.push(m[i>>2]+m[i<<4&63]+"==")):S===2&&(i=(f[v-2]<<8)+f[v-1],x.push(m[i>>10]+m[i>>4&63]+m[i<<2&63]+"=")),x.join("")}},{}],14:[function(E,I,M){const{Buffer:m}=E("buffer"),p=Symbol.for("BufferList");function d(h){if(!(this instanceof d))return new d(h);d._init.call(this,h)}d._init=function(s){Object.defineProperty(this,p,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},d.prototype._new=function(s){return new d(s)},d.prototype._offset=function(s){if(s===0)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){const e=t+this._bufs[r].length;if(s<e||r===this._bufs.length-1)return[r,s-t];t=e}},d.prototype._reverseOffset=function(h){const s=h[0];let t=h[1];for(let r=0;r<s;r++)t+=this._bufs[r].length;return t},d.prototype.get=function(s){if(s>this.length||s<0)return;const t=this._offset(s);return this._bufs[t[0]][t[1]]},d.prototype.slice=function(s,t){return typeof s=="number"&&s<0&&(s+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,s,t)},d.prototype.copy=function(s,t,r,e){if((typeof r!="number"||r<0)&&(r=0),(typeof e!="number"||e>this.length)&&(e=this.length),r>=this.length||e<=0)return s||m.alloc(0);const n=!!s,u=this._offset(r),o=e-r;let y=o,g=n&&t||0,f=u[1];if(r===0&&e===this.length){if(!n)return this._bufs.length===1?this._bufs[0]:m.concat(this._bufs,this.length);for(let i=0;i<this._bufs.length;i++)this._bufs[i].copy(s,g),g+=this._bufs[i].length;return s}if(y<=this._bufs[u[0]].length-f)return n?this._bufs[u[0]].copy(s,t,f,f+y):this._bufs[u[0]].slice(f,f+y);n||(s=m.allocUnsafe(o));for(let i=u[0];i<this._bufs.length;i++){const v=this._bufs[i].length-f;if(y>v)this._bufs[i].copy(s,g,f),g+=v;else{this._bufs[i].copy(s,g,f,f+y),g+=v;break}y-=v,f&&(f=0)}return s.length>g?s.slice(0,g):s},d.prototype.shallowSlice=function(s,t){if(s=s||0,t=typeof t!="number"?this.length:t,s<0&&(s+=this.length),t<0&&(t+=this.length),s===t)return this._new();const r=this._offset(s),e=this._offset(t),n=this._bufs.slice(r[0],e[0]+1);return e[1]===0?n.pop():n[n.length-1]=n[n.length-1].slice(0,e[1]),r[1]!==0&&(n[0]=n[0].slice(r[1])),this._new(n)},d.prototype.toString=function(s,t,r){return this.slice(t,r).toString(s)},d.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},d.prototype.duplicate=function(){const s=this._new();for(let t=0;t<this._bufs.length;t++)s.append(this._bufs[t]);return s},d.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(m.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let t=0;t<s.length;t++)this.append(s[t]);else if(this._isBufferList(s))for(let t=0;t<s._bufs.length;t++)this.append(s._bufs[t]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(m.from(s));return this},d.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},d.prototype.indexOf=function(h,s,t){if(t===void 0&&typeof s=="string"&&(t=s,s=void 0),typeof h=="function"||Array.isArray(h))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof h=="number"?h=m.from([h]):typeof h=="string"?h=m.from(h,t):this._isBufferList(h)?h=h.slice():Array.isArray(h.buffer)?h=m.from(h.buffer,h.byteOffset,h.byteLength):m.isBuffer(h)||(h=m.from(h)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),h.length===0)return s>this.length?this.length:s;const r=this._offset(s);let e=r[0],n=r[1];for(;e<this._bufs.length;e++){const u=this._bufs[e];for(;n<u.length;)if(u.length-n>=h.length){const y=u.indexOf(h,n);if(y!==-1)return this._reverseOffset([e,y]);n=u.length-h.length+1}else{const y=this._reverseOffset([e,n]);if(this._match(y,h))return y;n++}n=0}return-1},d.prototype._match=function(h,s){if(this.length-h<s.length)return!1;for(let t=0;t<s.length;t++)if(this.get(h+t)!==s[t])return!1;return!0},function(){const h={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const s in h)(function(t){h[t]===null?d.prototype[t]=function(r,e){return this.slice(r,r+e)[t](0,e)}:d.prototype[t]=function(r=0){return this.slice(r,r+h[t])[t](0)}})(s)}(),d.prototype._isBufferList=function(s){return s instanceof d||d.isBufferList(s)},d.isBufferList=function(s){return s!=null&&s[p]},I.exports=d},{buffer:17}],15:[function(E,I,M){const m=E("readable-stream").Duplex,p=E("inherits"),d=E("./BufferList");function h(s){if(!(this instanceof h))return new h(s);if(typeof s=="function"){this._callback=s;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),s=null}d._init.call(this,s),m.call(this)}p(h,m),Object.assign(h.prototype,d.prototype),h.prototype._new=function(t){return new h(t)},h.prototype._write=function(t,r,e){this._appendBuffer(t),typeof e=="function"&&e()},h.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},h.prototype.end=function(t){m.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},h.prototype._destroy=function(t,r){this._bufs.length=0,this.length=0,r(t)},h.prototype._isBufferList=function(t){return t instanceof h||t instanceof d||h.isBufferList(t)},h.isBufferList=d.isBufferList,I.exports=h,I.exports.BufferListStream=h,I.exports.BufferList=d},{"./BufferList":14,inherits:24,"readable-stream":69}],16:[function(E,I,M){},{}],17:[function(E,I,M){(function(m){(function(){var p=E("base64-js"),d=E("ieee754");M.Buffer=r,M.SlowBuffer=S,M.INSPECT_MAX_BYTES=50;var h=2147483647;M.kMaxLength=h,r.TYPED_ARRAY_SUPPORT=s(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var w=new Uint8Array(1);return w.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},w.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function t(w){if(w>h)throw new RangeError('The value "'+w+'" is invalid for option "size"');var a=new Uint8Array(w);return a.__proto__=r.prototype,a}function r(w,a,c){if(typeof w=="number"){if(typeof a=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o(w)}return e(w,a,c)}typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192;function e(w,a,c){if(typeof w=="string")return y(w,a);if(ArrayBuffer.isView(w))return g(w);if(w==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(C(w,ArrayBuffer)||w&&C(w.buffer,ArrayBuffer))return f(w,a,c);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var k=w.valueOf&&w.valueOf();if(k!=null&&k!==w)return r.from(k,a,c);var F=i(w);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return r.from(w[Symbol.toPrimitive]("string"),a,c);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}r.from=function(w,a,c){return e(w,a,c)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array;function n(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function u(w,a,c){return n(w),w<=0?t(w):a!==void 0?typeof c=="string"?t(w).fill(a,c):t(w).fill(a):t(w)}r.alloc=function(w,a,c){return u(w,a,c)};function o(w){return n(w),t(w<0?0:v(w)|0)}r.allocUnsafe=function(w){return o(w)},r.allocUnsafeSlow=function(w){return o(w)};function y(w,a){if((typeof a!="string"||a==="")&&(a="utf8"),!r.isEncoding(a))throw new TypeError("Unknown encoding: "+a);var c=x(w,a)|0,k=t(c),F=k.write(w,a);return F!==c&&(k=k.slice(0,F)),k}function g(w){for(var a=w.length<0?0:v(w.length)|0,c=t(a),k=0;k<a;k+=1)c[k]=w[k]&255;return c}function f(w,a,c){if(a<0||w.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<a+(c||0))throw new RangeError('"length" is outside of buffer bounds');var k;return a===void 0&&c===void 0?k=new Uint8Array(w):c===void 0?k=new Uint8Array(w,a):k=new Uint8Array(w,a,c),k.__proto__=r.prototype,k}function i(w){if(r.isBuffer(w)){var a=v(w.length)|0,c=t(a);return c.length===0||w.copy(c,0,0,a),c}if(w.length!==void 0)return typeof w.length!="number"||A(w.length)?t(0):g(w);if(w.type==="Buffer"&&Array.isArray(w.data))return g(w.data)}function v(w){if(w>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return w|0}function S(w){return+w!=w&&(w=0),r.alloc(+w)}r.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==r.prototype},r.compare=function(a,c){if(C(a,Uint8Array)&&(a=r.from(a,a.offset,a.byteLength)),C(c,Uint8Array)&&(c=r.from(c,c.offset,c.byteLength)),!r.isBuffer(a)||!r.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===c)return 0;for(var k=a.length,F=c.length,te=0,ne=Math.min(k,F);te<ne;++te)if(a[te]!==c[te]){k=a[te],F=c[te];break}return k<F?-1:F<k?1:0},r.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(a,c){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return r.alloc(0);var k;if(c===void 0)for(c=0,k=0;k<a.length;++k)c+=a[k].length;var F=r.allocUnsafe(c),te=0;for(k=0;k<a.length;++k){var ne=a[k];if(C(ne,Uint8Array)&&(ne=r.from(ne)),!r.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy(F,te),te+=ne.length}return F};function x(w,a){if(r.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||C(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);var c=w.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&c===0)return 0;for(var F=!1;;)switch(a){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return B(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c*2;case"hex":return c>>>1;case"base64":return Q(w).length;default:if(F)return k?-1:B(w).length;a=(""+a).toLowerCase(),F=!0}}r.byteLength=x;function O(w,a,c){var k=!1;if((a===void 0||a<0)&&(a=0),a>this.length||((c===void 0||c>this.length)&&(c=this.length),c<=0)||(c>>>=0,a>>>=0,c<=a))return"";for(w||(w="utf8");;)switch(w){case"hex":return oe(this,a,c);case"utf8":case"utf-8":return T(this,a,c);case"ascii":return G(this,a,c);case"latin1":case"binary":return ae(this,a,c);case"base64":return X(this,a,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,a,c);default:if(k)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),k=!0}}r.prototype._isBuffer=!0;function N(w,a,c){var k=w[a];w[a]=w[c],w[c]=k}r.prototype.swap16=function(){var a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<a;c+=2)N(this,c,c+1);return this},r.prototype.swap32=function(){var a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<a;c+=4)N(this,c,c+3),N(this,c+1,c+2);return this},r.prototype.swap64=function(){var a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<a;c+=8)N(this,c,c+7),N(this,c+1,c+6),N(this,c+2,c+5),N(this,c+3,c+4);return this},r.prototype.toString=function(){var a=this.length;return a===0?"":arguments.length===0?T(this,0,a):O.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(a){if(!r.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:r.compare(this,a)===0},r.prototype.inspect=function(){var a="",c=M.INSPECT_MAX_BYTES;return a=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(a+=" ... "),"<Buffer "+a+">"},r.prototype.compare=function(a,c,k,F,te){if(C(a,Uint8Array)&&(a=r.from(a,a.offset,a.byteLength)),!r.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(c===void 0&&(c=0),k===void 0&&(k=a?a.length:0),F===void 0&&(F=0),te===void 0&&(te=this.length),c<0||k>a.length||F<0||te>this.length)throw new RangeError("out of range index");if(F>=te&&c>=k)return 0;if(F>=te)return-1;if(c>=k)return 1;if(c>>>=0,k>>>=0,F>>>=0,te>>>=0,this===a)return 0;for(var ne=te-F,fe=k-c,ce=Math.min(ne,fe),de=this.slice(F,te),ge=a.slice(c,k),pe=0;pe<ce;++pe)if(de[pe]!==ge[pe]){ne=de[pe],fe=ge[pe];break}return ne<fe?-1:fe<ne?1:0};function P(w,a,c,k,F){if(w.length===0)return-1;if(typeof c=="string"?(k=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,A(c)&&(c=F?0:w.length-1),c<0&&(c=w.length+c),c>=w.length){if(F)return-1;c=w.length-1}else if(c<0)if(F)c=0;else return-1;if(typeof a=="string"&&(a=r.from(a,k)),r.isBuffer(a))return a.length===0?-1:W(w,a,c,k,F);if(typeof a=="number")return a=a&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(w,a,c):Uint8Array.prototype.lastIndexOf.call(w,a,c):W(w,[a],c,k,F);throw new TypeError("val must be string, number or Buffer")}function W(w,a,c,k,F){var te=1,ne=w.length,fe=a.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(w.length<2||a.length<2)return-1;te=2,ne/=2,fe/=2,c/=2}function ce(Se,_e){return te===1?Se[_e]:Se.readUInt16BE(_e*te)}var de;if(F){var ge=-1;for(de=c;de<ne;de++)if(ce(w,de)===ce(a,ge===-1?0:de-ge)){if(ge===-1&&(ge=de),de-ge+1===fe)return ge*te}else ge!==-1&&(de-=de-ge),ge=-1}else for(c+fe>ne&&(c=ne-fe),de=c;de>=0;de--){for(var pe=!0,Ee=0;Ee<fe;Ee++)if(ce(w,de+Ee)!==ce(a,Ee)){pe=!1;break}if(pe)return de}return-1}r.prototype.includes=function(a,c,k){return this.indexOf(a,c,k)!==-1},r.prototype.indexOf=function(a,c,k){return P(this,a,c,k,!0)},r.prototype.lastIndexOf=function(a,c,k){return P(this,a,c,k,!1)};function l(w,a,c,k){c=Number(c)||0;var F=w.length-c;k?(k=Number(k),k>F&&(k=F)):k=F;var te=a.length;k>te/2&&(k=te/2);for(var ne=0;ne<k;++ne){var fe=parseInt(a.substr(ne*2,2),16);if(A(fe))return ne;w[c+ne]=fe}return ne}function _(w,a,c,k){return Z(B(a,w.length-c),w,c,k)}function b(w,a,c,k){return Z(L(a),w,c,k)}function j(w,a,c,k){return b(w,a,c,k)}function V(w,a,c,k){return Z(Q(a),w,c,k)}function H(w,a,c,k){return Z(z(a,w.length-c),w,c,k)}r.prototype.write=function(a,c,k,F){if(c===void 0)F="utf8",k=this.length,c=0;else if(k===void 0&&typeof c=="string")F=c,k=this.length,c=0;else if(isFinite(c))c=c>>>0,isFinite(k)?(k=k>>>0,F===void 0&&(F="utf8")):(F=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var te=this.length-c;if((k===void 0||k>te)&&(k=te),a.length>0&&(k<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");for(var ne=!1;;)switch(F){case"hex":return l(this,a,c,k);case"utf8":case"utf-8":return _(this,a,c,k);case"ascii":return b(this,a,c,k);case"latin1":case"binary":return j(this,a,c,k);case"base64":return V(this,a,c,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,a,c,k);default:if(ne)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),ne=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(w,a,c){return a===0&&c===w.length?p.fromByteArray(w):p.fromByteArray(w.slice(a,c))}function T(w,a,c){c=Math.min(w.length,c);for(var k=[],F=a;F<c;){var te=w[F],ne=null,fe=te>239?4:te>223?3:te>191?2:1;if(F+fe<=c){var ce,de,ge,pe;switch(fe){case 1:te<128&&(ne=te);break;case 2:ce=w[F+1],(ce&192)===128&&(pe=(te&31)<<6|ce&63,pe>127&&(ne=pe));break;case 3:ce=w[F+1],de=w[F+2],(ce&192)===128&&(de&192)===128&&(pe=(te&15)<<12|(ce&63)<<6|de&63,pe>2047&&(pe<55296||pe>57343)&&(ne=pe));break;case 4:ce=w[F+1],de=w[F+2],ge=w[F+3],(ce&192)===128&&(de&192)===128&&(ge&192)===128&&(pe=(te&15)<<18|(ce&63)<<12|(de&63)<<6|ge&63,pe>65535&&pe<1114112&&(ne=pe))}}ne===null?(ne=65533,fe=1):ne>65535&&(ne-=65536,k.push(ne>>>10&1023|55296),ne=56320|ne&1023),k.push(ne),F+=fe}return D(k)}var R=4096;function D(w){var a=w.length;if(a<=R)return String.fromCharCode.apply(String,w);for(var c="",k=0;k<a;)c+=String.fromCharCode.apply(String,w.slice(k,k+=R));return c}function G(w,a,c){var k="";c=Math.min(w.length,c);for(var F=a;F<c;++F)k+=String.fromCharCode(w[F]&127);return k}function ae(w,a,c){var k="";c=Math.min(w.length,c);for(var F=a;F<c;++F)k+=String.fromCharCode(w[F]);return k}function oe(w,a,c){var k=w.length;(!a||a<0)&&(a=0),(!c||c<0||c>k)&&(c=k);for(var F="",te=a;te<c;++te)F+=J(w[te]);return F}function K(w,a,c){for(var k=w.slice(a,c),F="",te=0;te<k.length;te+=2)F+=String.fromCharCode(k[te]+k[te+1]*256);return F}r.prototype.slice=function(a,c){var k=this.length;a=~~a,c=c===void 0?k:~~c,a<0?(a+=k,a<0&&(a=0)):a>k&&(a=k),c<0?(c+=k,c<0&&(c=0)):c>k&&(c=k),c<a&&(c=a);var F=this.subarray(a,c);return F.__proto__=r.prototype,F};function $(w,a,c){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+a>c)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUIntLE=function(a,c,k){a=a>>>0,c=c>>>0,k||$(a,c,this.length);for(var F=this[a],te=1,ne=0;++ne<c&&(te*=256);)F+=this[a+ne]*te;return F},r.prototype.readUIntBE=function(a,c,k){a=a>>>0,c=c>>>0,k||$(a,c,this.length);for(var F=this[a+--c],te=1;c>0&&(te*=256);)F+=this[a+--c]*te;return F},r.prototype.readUInt8=function(a,c){return a=a>>>0,c||$(a,1,this.length),this[a]},r.prototype.readUInt16LE=function(a,c){return a=a>>>0,c||$(a,2,this.length),this[a]|this[a+1]<<8},r.prototype.readUInt16BE=function(a,c){return a=a>>>0,c||$(a,2,this.length),this[a]<<8|this[a+1]},r.prototype.readUInt32LE=function(a,c){return a=a>>>0,c||$(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},r.prototype.readUInt32BE=function(a,c){return a=a>>>0,c||$(a,4,this.length),this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])},r.prototype.readIntLE=function(a,c,k){a=a>>>0,c=c>>>0,k||$(a,c,this.length);for(var F=this[a],te=1,ne=0;++ne<c&&(te*=256);)F+=this[a+ne]*te;return te*=128,F>=te&&(F-=Math.pow(2,8*c)),F},r.prototype.readIntBE=function(a,c,k){a=a>>>0,c=c>>>0,k||$(a,c,this.length);for(var F=c,te=1,ne=this[a+--F];F>0&&(te*=256);)ne+=this[a+--F]*te;return te*=128,ne>=te&&(ne-=Math.pow(2,8*c)),ne},r.prototype.readInt8=function(a,c){return a=a>>>0,c||$(a,1,this.length),this[a]&128?(255-this[a]+1)*-1:this[a]},r.prototype.readInt16LE=function(a,c){a=a>>>0,c||$(a,2,this.length);var k=this[a]|this[a+1]<<8;return k&32768?k|4294901760:k},r.prototype.readInt16BE=function(a,c){a=a>>>0,c||$(a,2,this.length);var k=this[a+1]|this[a]<<8;return k&32768?k|4294901760:k},r.prototype.readInt32LE=function(a,c){return a=a>>>0,c||$(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},r.prototype.readInt32BE=function(a,c){return a=a>>>0,c||$(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},r.prototype.readFloatLE=function(a,c){return a=a>>>0,c||$(a,4,this.length),d.read(this,a,!0,23,4)},r.prototype.readFloatBE=function(a,c){return a=a>>>0,c||$(a,4,this.length),d.read(this,a,!1,23,4)},r.prototype.readDoubleLE=function(a,c){return a=a>>>0,c||$(a,8,this.length),d.read(this,a,!0,52,8)},r.prototype.readDoubleBE=function(a,c){return a=a>>>0,c||$(a,8,this.length),d.read(this,a,!1,52,8)};function ie(w,a,c,k,F,te){if(!r.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>F||a<te)throw new RangeError('"value" argument is out of bounds');if(c+k>w.length)throw new RangeError("Index out of range")}r.prototype.writeUIntLE=function(a,c,k,F){if(a=+a,c=c>>>0,k=k>>>0,!F){var te=Math.pow(2,8*k)-1;ie(this,a,c,k,te,0)}var ne=1,fe=0;for(this[c]=a&255;++fe<k&&(ne*=256);)this[c+fe]=a/ne&255;return c+k},r.prototype.writeUIntBE=function(a,c,k,F){if(a=+a,c=c>>>0,k=k>>>0,!F){var te=Math.pow(2,8*k)-1;ie(this,a,c,k,te,0)}var ne=k-1,fe=1;for(this[c+ne]=a&255;--ne>=0&&(fe*=256);)this[c+ne]=a/fe&255;return c+k},r.prototype.writeUInt8=function(a,c,k){return a=+a,c=c>>>0,k||ie(this,a,c,1,255,0),this[c]=a&255,c+1},r.prototype.writeUInt16LE=function(a,c,k){return a=+a,c=c>>>0,k||ie(this,a,c,2,65535,0),this[c]=a&255,this[c+1]=a>>>8,c+2},r.prototype.writeUInt16BE=function(a,c,k){return a=+a,c=c>>>0,k||ie(this,a,c,2,65535,0),this[c]=a>>>8,this[c+1]=a&255,c+2},r.prototype.writeUInt32LE=function(a,c,k){return a=+a,c=c>>>0,k||ie(this,a,c,4,4294967295,0),this[c+3]=a>>>24,this[c+2]=a>>>16,this[c+1]=a>>>8,this[c]=a&255,c+4},r.prototype.writeUInt32BE=function(a,c,k){return a=+a,c=c>>>0,k||ie(this,a,c,4,4294967295,0),this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255,c+4},r.prototype.writeIntLE=function(a,c,k,F){if(a=+a,c=c>>>0,!F){var te=Math.pow(2,8*k-1);ie(this,a,c,k,te-1,-te)}var ne=0,fe=1,ce=0;for(this[c]=a&255;++ne<k&&(fe*=256);)a<0&&ce===0&&this[c+ne-1]!==0&&(ce=1),this[c+ne]=(a/fe>>0)-ce&255;return c+k},r.prototype.writeIntBE=function(a,c,k,F){if(a=+a,c=c>>>0,!F){var te=Math.pow(2,8*k-1);ie(this,a,c,k,te-1,-te)}var ne=k-1,fe=1,ce=0;for(this[c+ne]=a&255;--ne>=0&&(fe*=256);)a<0&&ce===0&&this[c+ne+1]!==0&&(ce=1),this[c+ne]=(a/fe>>0)-ce&255;return c+k},r.prototype.writeInt8=function(a,c,k){return a=+a,c=c>>>0,k||ie(this,a,c,1,127,-128),a<0&&(a=255+a+1),this[c]=a&255,c+1},r.prototype.writeInt16LE=function(a,c,k){return a=+a,c=c>>>0,k||ie(this,a,c,2,32767,-32768),this[c]=a&255,this[c+1]=a>>>8,c+2},r.prototype.writeInt16BE=function(a,c,k){return a=+a,c=c>>>0,k||ie(this,a,c,2,32767,-32768),this[c]=a>>>8,this[c+1]=a&255,c+2},r.prototype.writeInt32LE=function(a,c,k){return a=+a,c=c>>>0,k||ie(this,a,c,4,2147483647,-2147483648),this[c]=a&255,this[c+1]=a>>>8,this[c+2]=a>>>16,this[c+3]=a>>>24,c+4},r.prototype.writeInt32BE=function(a,c,k){return a=+a,c=c>>>0,k||ie(this,a,c,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255,c+4};function re(w,a,c,k,F,te){if(c+k>w.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function ue(w,a,c,k,F){return a=+a,c=c>>>0,F||re(w,a,c,4),d.write(w,a,c,k,23,4),c+4}r.prototype.writeFloatLE=function(a,c,k){return ue(this,a,c,!0,k)},r.prototype.writeFloatBE=function(a,c,k){return ue(this,a,c,!1,k)};function se(w,a,c,k,F){return a=+a,c=c>>>0,F||re(w,a,c,8),d.write(w,a,c,k,52,8),c+8}r.prototype.writeDoubleLE=function(a,c,k){return se(this,a,c,!0,k)},r.prototype.writeDoubleBE=function(a,c,k){return se(this,a,c,!1,k)},r.prototype.copy=function(a,c,k,F){if(!r.isBuffer(a))throw new TypeError("argument should be a Buffer");if(k||(k=0),!F&&F!==0&&(F=this.length),c>=a.length&&(c=a.length),c||(c=0),F>0&&F<k&&(F=k),F===k||a.length===0||this.length===0)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),a.length-c<F-k&&(F=a.length-c+k);var te=F-k;if(this===a&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(c,k,F);else if(this===a&&k<c&&c<F)for(var ne=te-1;ne>=0;--ne)a[ne+c]=this[ne+k];else Uint8Array.prototype.set.call(a,this.subarray(k,F),c);return te},r.prototype.fill=function(a,c,k,F){if(typeof a=="string"){if(typeof c=="string"?(F=c,c=0,k=this.length):typeof k=="string"&&(F=k,k=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!r.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(a.length===1){var te=a.charCodeAt(0);(F==="utf8"&&te<128||F==="latin1")&&(a=te)}}else typeof a=="number"&&(a=a&255);if(c<0||this.length<c||this.length<k)throw new RangeError("Out of range index");if(k<=c)return this;c=c>>>0,k=k===void 0?this.length:k>>>0,a||(a=0);var ne;if(typeof a=="number")for(ne=c;ne<k;++ne)this[ne]=a;else{var fe=r.isBuffer(a)?a:r.from(a,F),ce=fe.length;if(ce===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(ne=0;ne<k-c;++ne)this[ne+c]=fe[ne%ce]}return this};var q=/[^+/0-9A-Za-z-_]/g;function U(w){if(w=w.split("=")[0],w=w.trim().replace(q,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function J(w){return w<16?"0"+w.toString(16):w.toString(16)}function B(w,a){a=a||1/0;for(var c,k=w.length,F=null,te=[],ne=0;ne<k;++ne){if(c=w.charCodeAt(ne),c>55295&&c<57344){if(!F){if(c>56319){(a-=3)>-1&&te.push(239,191,189);continue}else if(ne+1===k){(a-=3)>-1&&te.push(239,191,189);continue}F=c;continue}if(c<56320){(a-=3)>-1&&te.push(239,191,189),F=c;continue}c=(F-55296<<10|c-56320)+65536}else F&&(a-=3)>-1&&te.push(239,191,189);if(F=null,c<128){if((a-=1)<0)break;te.push(c)}else if(c<2048){if((a-=2)<0)break;te.push(c>>6|192,c&63|128)}else if(c<65536){if((a-=3)<0)break;te.push(c>>12|224,c>>6&63|128,c&63|128)}else if(c<1114112){if((a-=4)<0)break;te.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw new Error("Invalid code point")}return te}function L(w){for(var a=[],c=0;c<w.length;++c)a.push(w.charCodeAt(c)&255);return a}function z(w,a){for(var c,k,F,te=[],ne=0;ne<w.length&&!((a-=2)<0);++ne)c=w.charCodeAt(ne),k=c>>8,F=c%256,te.push(F),te.push(k);return te}function Q(w){return p.toByteArray(U(w))}function Z(w,a,c,k){for(var F=0;F<k&&!(F+c>=a.length||F>=w.length);++F)a[F+c]=w[F];return F}function C(w,a){return w instanceof a||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===a.name}function A(w){return w!==w}}).call(this)}).call(this,E("buffer").Buffer)},{"base64-js":13,buffer:17,ieee754:23}],18:[function(E,I,M){(function(m){(function(){M.formatArgs=d,M.save=h,M.load=s,M.useColors=p,M.storage=t(),M.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),M.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function p(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function d(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+I.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let u=0,o=0;e[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(u++,y==="%c"&&(o=u))}),e.splice(o,0,n)}M.log=console.debug||console.log||(()=>{});function h(e){try{e?M.storage.setItem("debug",e):M.storage.removeItem("debug")}catch{}}function s(){let e;try{e=M.storage.getItem("debug")}catch{}return!e&&typeof m<"u"&&"env"in m&&(e={}.DEBUG),e}function t(){try{return localStorage}catch{}}I.exports=E("./common")(M);const{formatters:r}=I.exports;r.j=function(e){try{return JSON.stringify(e)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}}}).call(this)}).call(this,E("_process"))},{"./common":19,_process:50}],19:[function(E,I,M){function m(p){h.debug=h,h.default=h,h.coerce=u,h.disable=r,h.enable=t,h.enabled=e,h.humanize=E("ms"),h.destroy=o,Object.keys(p).forEach(y=>{h[y]=p[y]}),h.names=[],h.skips=[],h.formatters={};function d(y){let g=0;for(let f=0;f<y.length;f++)g=(g<<5)-g+y.charCodeAt(f),g|=0;return h.colors[Math.abs(g)%h.colors.length]}h.selectColor=d;function h(y){let g,f=null,i,v;function S(...x){if(!S.enabled)return;const O=S,N=Number(new Date),P=N-(g||N);O.diff=P,O.prev=g,O.curr=N,g=N,x[0]=h.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let W=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(_,b)=>{if(_==="%%")return"%";W++;const j=h.formatters[b];if(typeof j=="function"){const V=x[W];_=j.call(O,V),x.splice(W,1),W--}return _}),h.formatArgs.call(O,x),(O.log||h.log).apply(O,x)}return S.namespace=y,S.useColors=h.useColors(),S.color=h.selectColor(y),S.extend=s,S.destroy=h.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(i!==h.namespaces&&(i=h.namespaces,v=h.enabled(y)),v),set:x=>{f=x}}),typeof h.init=="function"&&h.init(S),S}function s(y,g){const f=h(this.namespace+(typeof g>"u"?":":g)+y);return f.log=this.log,f}function t(y){h.save(y),h.namespaces=y,h.names=[],h.skips=[];let g;const f=(typeof y=="string"?y:"").split(/[\s,]+/),i=f.length;for(g=0;g<i;g++)f[g]&&(y=f[g].replace(/\*/g,".*?"),y[0]==="-"?h.skips.push(new RegExp("^"+y.substr(1)+"$")):h.names.push(new RegExp("^"+y+"$")))}function r(){const y=[...h.names.map(n),...h.skips.map(n).map(g=>"-"+g)].join(",");return h.enable(""),y}function e(y){if(y[y.length-1]==="*")return!0;let g,f;for(g=0,f=h.skips.length;g<f;g++)if(h.skips[g].test(y))return!1;for(g=0,f=h.names.length;g<f;g++)if(h.names[g].test(y))return!0;return!1}function n(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}function u(y){return y instanceof Error?y.stack||y.message:y}function o(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return h.enable(h.load()),h}I.exports=m},{ms:45}],20:[function(E,I,M){(function(m,p){(function(){var d=E("readable-stream"),h=E("end-of-stream"),s=E("inherits"),t=E("stream-shift"),r=p.from&&p.from!==Uint8Array.from?p.from([0]):new p([0]),e=function(i,v){i._corked?i.once("uncork",v):v()},n=function(i,v){i._autoDestroy&&i.destroy(v)},u=function(i,v){return function(S){S?n(i,S.message==="premature close"?null:S):v&&!i._ended&&i.end()}},o=function(i,v){if(!i||i._writableState&&i._writableState.finished)return v();if(i._writableState)return i.end(v);i.end(),v()},y=function(){},g=function(i){return new d.Readable({objectMode:!0,highWaterMark:16}).wrap(i)},f=function(i,v,S){if(!(this instanceof f))return new f(i,v,S);d.Duplex.call(this,S),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!S||S.autoDestroy!==!1,this._forwardDestroy=!S||S.destroy!==!1,this._forwardEnd=!S||S.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,i&&this.setWritable(i),v&&this.setReadable(v)};s(f,d.Duplex),f.obj=function(i,v,S){return S||(S={}),S.objectMode=!0,S.highWaterMark=16,new f(i,v,S)},f.prototype.cork=function(){++this._corked===1&&this.emit("cork")},f.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},f.prototype.setWritable=function(i){if(this._unwrite&&this._unwrite(),this.destroyed){i&&i.destroy&&i.destroy();return}if(i===null||i===!1){this.end();return}var v=this,S=h(i,{writable:!0,readable:!1},u(this,this._forwardEnd)),x=function(){var N=v._ondrain;v._ondrain=null,N&&N()},O=function(){v._writable.removeListener("drain",x),S()};this._unwrite&&m.nextTick(x),this._writable=i,this._writable.on("drain",x),this._unwrite=O,this.uncork()},f.prototype.setReadable=function(i){if(this._unread&&this._unread(),this.destroyed){i&&i.destroy&&i.destroy();return}if(i===null||i===!1){this.push(null),this.resume();return}var v=this,S=h(i,{writable:!1,readable:!0},u(this)),x=function(){v._forward()},O=function(){v.push(null)},N=function(){v._readable2.removeListener("readable",x),v._readable2.removeListener("end",O),S()};this._drained=!0,this._readable=i,this._readable2=i._readableState?i:g(i),this._readable2.on("readable",x),this._readable2.on("end",O),this._unread=N,this._forward()},f.prototype._read=function(){this._drained=!0,this._forward()},f.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var i;this._drained&&(i=t(this._readable2))!==null;)this.destroyed||(this._drained=this.push(i));this._forwarding=!1}},f.prototype.destroy=function(i,v){if(v||(v=y),this.destroyed)return v(null);this.destroyed=!0;var S=this;m.nextTick(function(){S._destroy(i),v(null)})},f.prototype._destroy=function(i){if(i){var v=this._ondrain;this._ondrain=null,v?v(i):this.emit("error",i)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},f.prototype._write=function(i,v,S){if(!this.destroyed){if(this._corked)return e(this,this._write.bind(this,i,v,S));if(i===r)return this._finish(S);if(!this._writable)return S();this._writable.write(i)===!1?this._ondrain=S:this.destroyed||S()}},f.prototype._finish=function(i){var v=this;this.emit("preend"),e(this,function(){o(v._forwardEnd&&v._writable,function(){v._writableState.prefinished===!1&&(v._writableState.prefinished=!0),v.emit("prefinish"),e(v,i)})})},f.prototype.end=function(i,v,S){return typeof i=="function"?this.end(null,null,i):typeof v=="function"?this.end(i,null,v):(this._ended=!0,i&&this.write(i),!this._writableState.ending&&!this._writableState.destroyed&&this.write(r),d.Writable.prototype.end.call(this,S))},I.exports=f}).call(this)}).call(this,E("_process"),E("buffer").Buffer)},{_process:50,buffer:17,"end-of-stream":21,inherits:24,"readable-stream":69,"stream-shift":74}],21:[function(E,I,M){(function(m){(function(){var p=E("once"),d=function(){},h=function(r){return r.setHeader&&typeof r.abort=="function"},s=function(r){return r.stdio&&Array.isArray(r.stdio)&&r.stdio.length===3},t=function(r,e,n){if(typeof e=="function")return t(r,null,e);e||(e={}),n=p(n||d);var u=r._writableState,o=r._readableState,y=e.readable||e.readable!==!1&&r.readable,g=e.writable||e.writable!==!1&&r.writable,f=!1,i=function(){r.writable||v()},v=function(){g=!1,y||n.call(r)},S=function(){y=!1,g||n.call(r)},x=function(l){n.call(r,l?new Error("exited with error code: "+l):null)},O=function(l){n.call(r,l)},N=function(){m.nextTick(P)},P=function(){if(!f){if(y&&!(o&&o.ended&&!o.destroyed))return n.call(r,new Error("premature close"));if(g&&!(u&&u.ended&&!u.destroyed))return n.call(r,new Error("premature close"))}},W=function(){r.req.on("finish",v)};return h(r)?(r.on("complete",v),r.on("abort",N),r.req?W():r.on("request",W)):g&&!u&&(r.on("end",i),r.on("close",i)),s(r)&&r.on("exit",x),r.on("end",S),r.on("finish",v),e.error!==!1&&r.on("error",O),r.on("close",N),function(){f=!0,r.removeListener("complete",v),r.removeListener("abort",N),r.removeListener("request",W),r.req&&r.req.removeListener("finish",v),r.removeListener("end",i),r.removeListener("close",i),r.removeListener("finish",v),r.removeListener("exit",x),r.removeListener("end",S),r.removeListener("error",O),r.removeListener("close",N)}};I.exports=t}).call(this)}).call(this,E("_process"))},{_process:50,once:48}],22:[function(E,I,M){var m=Object.create||W,p=Object.keys||l,d=Function.prototype.bind||_;function h(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=m(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}I.exports=h,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._maxListeners=void 0;var s=10,t;try{var r={};Object.defineProperty&&Object.defineProperty(r,"x",{value:0}),t=r.x===0}catch{t=!1}t?Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(b){if(typeof b!="number"||b<0||b!==b)throw new TypeError('"defaultMaxListeners" must be a positive number');s=b}}):h.defaultMaxListeners=s,h.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||isNaN(j))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=j,this};function e(b){return b._maxListeners===void 0?h.defaultMaxListeners:b._maxListeners}h.prototype.getMaxListeners=function(){return e(this)};function n(b,j,V){if(j)b.call(V);else for(var H=b.length,X=N(b,H),T=0;T<H;++T)X[T].call(V)}function u(b,j,V,H){if(j)b.call(V,H);else for(var X=b.length,T=N(b,X),R=0;R<X;++R)T[R].call(V,H)}function o(b,j,V,H,X){if(j)b.call(V,H,X);else for(var T=b.length,R=N(b,T),D=0;D<T;++D)R[D].call(V,H,X)}function y(b,j,V,H,X,T){if(j)b.call(V,H,X,T);else for(var R=b.length,D=N(b,R),G=0;G<R;++G)D[G].call(V,H,X,T)}function g(b,j,V,H){if(j)b.apply(V,H);else for(var X=b.length,T=N(b,X),R=0;R<X;++R)T[R].apply(V,H)}h.prototype.emit=function(j){var V,H,X,T,R,D,G=j==="error";if(D=this._events,D)G=G&&D.error==null;else if(!G)return!1;if(G){if(arguments.length>1&&(V=arguments[1]),V instanceof Error)throw V;var ae=new Error('Unhandled "error" event. ('+V+")");throw ae.context=V,ae}if(H=D[j],!H)return!1;var oe=typeof H=="function";switch(X=arguments.length,X){case 1:n(H,oe,this);break;case 2:u(H,oe,this,arguments[1]);break;case 3:o(H,oe,this,arguments[1],arguments[2]);break;case 4:y(H,oe,this,arguments[1],arguments[2],arguments[3]);break;default:for(T=new Array(X-1),R=1;R<X;R++)T[R-1]=arguments[R];g(H,oe,this,T)}return!0};function f(b,j,V,H){var X,T,R;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if(T=b._events,T?(T.newListener&&(b.emit("newListener",j,V.listener?V.listener:V),T=b._events),R=T[j]):(T=b._events=m(null),b._eventsCount=0),!R)R=T[j]=V,++b._eventsCount;else if(typeof R=="function"?R=T[j]=H?[V,R]:[R,V]:H?R.unshift(V):R.push(V),!R.warned&&(X=e(b),X&&X>0&&R.length>X)){R.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+R.length+' "'+String(j)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');D.name="MaxListenersExceededWarning",D.emitter=b,D.type=j,D.count=R.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",D.name,D.message)}return b}h.prototype.addListener=function(j,V){return f(this,j,V,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(j,V){return f(this,j,V,!0)};function i(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var b=new Array(arguments.length),j=0;j<b.length;++j)b[j]=arguments[j];this.listener.apply(this.target,b)}}function v(b,j,V){var H={fired:!1,wrapFn:void 0,target:b,type:j,listener:V},X=d.call(i,H);return X.listener=V,H.wrapFn=X,X}h.prototype.once=function(j,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.on(j,v(this,j,V)),this},h.prototype.prependOnceListener=function(j,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(j,v(this,j,V)),this},h.prototype.removeListener=function(j,V){var H,X,T,R,D;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if(X=this._events,!X)return this;if(H=X[j],!H)return this;if(H===V||H.listener===V)--this._eventsCount===0?this._events=m(null):(delete X[j],X.removeListener&&this.emit("removeListener",j,H.listener||V));else if(typeof H!="function"){for(T=-1,R=H.length-1;R>=0;R--)if(H[R]===V||H[R].listener===V){D=H[R].listener,T=R;break}if(T<0)return this;T===0?H.shift():O(H,T),H.length===1&&(X[j]=H[0]),X.removeListener&&this.emit("removeListener",j,D||V)}return this},h.prototype.removeAllListeners=function(j){var V,H,X;if(H=this._events,!H)return this;if(!H.removeListener)return arguments.length===0?(this._events=m(null),this._eventsCount=0):H[j]&&(--this._eventsCount===0?this._events=m(null):delete H[j]),this;if(arguments.length===0){var T=p(H),R;for(X=0;X<T.length;++X)R=T[X],R!=="removeListener"&&this.removeAllListeners(R);return this.removeAllListeners("removeListener"),this._events=m(null),this._eventsCount=0,this}if(V=H[j],typeof V=="function")this.removeListener(j,V);else if(V)for(X=V.length-1;X>=0;X--)this.removeListener(j,V[X]);return this};function S(b,j,V){var H=b._events;if(!H)return[];var X=H[j];return X?typeof X=="function"?V?[X.listener||X]:[X]:V?P(X):N(X,X.length):[]}h.prototype.listeners=function(j){return S(this,j,!0)},h.prototype.rawListeners=function(j){return S(this,j,!1)},h.listenerCount=function(b,j){return typeof b.listenerCount=="function"?b.listenerCount(j):x.call(b,j)},h.prototype.listenerCount=x;function x(b){var j=this._events;if(j){var V=j[b];if(typeof V=="function")return 1;if(V)return V.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function O(b,j){for(var V=j,H=V+1,X=b.length;H<X;V+=1,H+=1)b[V]=b[H];b.pop()}function N(b,j){for(var V=new Array(j),H=0;H<j;++H)V[H]=b[H];return V}function P(b){for(var j=new Array(b.length),V=0;V<j.length;++V)j[V]=b[V].listener||b[V];return j}function W(b){var j=function(){};return j.prototype=b,new j}function l(b){for(var j in b)Object.prototype.hasOwnProperty.call(b,j);return j}function _(b){var j=this;return function(){return j.apply(b,arguments)}}},{}],23:[function(E,I,M){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */M.read=function(m,p,d,h,s){var t,r,e=s*8-h-1,n=(1<<e)-1,u=n>>1,o=-7,y=d?s-1:0,g=d?-1:1,f=m[p+y];for(y+=g,t=f&(1<<-o)-1,f>>=-o,o+=e;o>0;t=t*256+m[p+y],y+=g,o-=8);for(r=t&(1<<-o)-1,t>>=-o,o+=h;o>0;r=r*256+m[p+y],y+=g,o-=8);if(t===0)t=1-u;else{if(t===n)return r?NaN:(f?-1:1)*(1/0);r=r+Math.pow(2,h),t=t-u}return(f?-1:1)*r*Math.pow(2,t-h)},M.write=function(m,p,d,h,s,t){var r,e,n,u=t*8-s-1,o=(1<<u)-1,y=o>>1,g=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=h?0:t-1,i=h?1:-1,v=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(e=isNaN(p)?1:0,r=o):(r=Math.floor(Math.log(p)/Math.LN2),p*(n=Math.pow(2,-r))<1&&(r--,n*=2),r+y>=1?p+=g/n:p+=g*Math.pow(2,1-y),p*n>=2&&(r++,n/=2),r+y>=o?(e=0,r=o):r+y>=1?(e=(p*n-1)*Math.pow(2,s),r=r+y):(e=p*Math.pow(2,y-1)*Math.pow(2,s),r=0));s>=8;m[d+f]=e&255,f+=i,e/=256,s-=8);for(r=r<<s|e,u+=s;u>0;m[d+f]=r&255,f+=i,r/=256,u-=8);m[d+f-i]|=v*128}},{}],24:[function(E,I,M){typeof Object.create=="function"?I.exports=function(p,d){d&&(p.super_=d,p.prototype=Object.create(d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}))}:I.exports=function(p,d){if(d){p.super_=d;var h=function(){};h.prototype=d.prototype,p.prototype=new h,p.prototype.constructor=p}}},{}],25:[function(E,I,M){Object.defineProperty(M,"__esModule",{value:!0});var m=function(){function p(d,h){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=d,this.value=h}return p.prototype.rotateLeft=function(){var d=this.parent,h=this.brother,s=this.leftChild,t=this.rightChild;if(!t)throw new Error("unknown error");var r=t.leftChild,e=t.rightChild;return d&&(d.leftChild===this?d.leftChild=t:d.rightChild===this&&(d.rightChild=t)),t.parent=d,t.brother=h,t.leftChild=this,t.rightChild=e,h&&(h.brother=t),this.parent=t,this.brother=e,this.leftChild=s,this.rightChild=r,e&&(e.parent=t,e.brother=this),s&&(s.parent=this,s.brother=r),r&&(r.parent=this,r.brother=s),t},p.prototype.rotateRight=function(){var d=this.parent,h=this.brother,s=this.leftChild;if(!s)throw new Error("unknown error");var t=this.rightChild,r=s.leftChild,e=s.rightChild;return d&&(d.leftChild===this?d.leftChild=s:d.rightChild===this&&(d.rightChild=s)),s.parent=d,s.brother=h,s.leftChild=r,s.rightChild=this,h&&(h.brother=s),r&&(r.parent=s,r.brother=this),this.parent=s,this.brother=r,this.leftChild=e,this.rightChild=t,e&&(e.parent=this,e.brother=t),t&&(t.parent=this,t.brother=e),s},p.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},p.TreeNodeColorType={red:!0,black:!1},p}();Object.freeze(m),M.default=m},{}],26:[function(E,I,M){var m=this&&this.__generator||function(d,h){var s={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},t,r,e,n;return n={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function u(y){return function(g){return o([y,g])}}function o(y){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,r&&(e=y[0]&2?r.return:y[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,y[1])).done)return e;switch(r=0,e&&(y=[y[0]&2,e.value]),y[0]){case 0:case 1:e=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,r=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(e=s.trys,!(e=e.length>0&&e[e.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!e||y[1]>e[0]&&y[1]<e[3])){s.label=y[1];break}if(y[0]===6&&s.label<e[1]){s.label=e[1],e=y;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(y);break}e[2]&&s.ops.pop(),s.trys.pop();continue}y=h.call(d,s)}catch(g){y=[6,g],r=0}finally{t=e=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(M,"__esModule",{value:!0}),p.sigma=3,p.bucketSize=5e3;function p(d){var h=this;d===void 0&&(d=[]);var s=[],t=0,r=0,e=0,n=0,u=0,o=0;this.size=function(){return o},this.empty=function(){return o===0},this.clear=function(){t=e=r=n=u=o=0,g.call(this,p.bucketSize),o=0},this.front=function(){return s[t][r]},this.back=function(){return s[e][n]},this.forEach=function(f){if(!this.empty()){var i=0;if(t===e){for(var v=r;v<=n;++v)f(s[t][v],i++);return}for(var v=r;v<p.bucketSize;++v)f(s[t][v],i++);for(var v=t+1;v<e;++v)for(var S=0;S<p.bucketSize;++S)f(s[v][S],i++);for(var v=0;v<=n;++v)f(s[e][v],i++)}};var y=function(f){var i=t*p.bucketSize+r,v=i+f,S=e*p.bucketSize+n;if(v<i||v>S)throw new Error("pos should more than 0 and less than queue's size");var x=Math.floor(v/p.bucketSize),O=v%p.bucketSize;return{curNodeBucketIndex:x,curNodePointerIndex:O}};this.getElementByPos=function(f){var i=y(f),v=i.curNodeBucketIndex,S=i.curNodePointerIndex;return s[v][S]},this.eraseElementByPos=function(f){var i=this;if(f<0||f>o)throw new Error("pos should more than 0 and less than queue's size");if(f===0)this.popFront();else if(f===this.size())this.popBack();else{for(var v=[],S=f+1;S<o;++S)v.push(this.getElementByPos(S));this.cut(f),this.popBack(),v.forEach(function(x){return i.pushBack(x)})}},this.eraseElementByValue=function(f){if(!this.empty()){var i=[];this.forEach(function(x){x!==f&&i.push(x)});for(var v=i.length,S=0;S<v;++S)this.setElementByPos(S,i[S]);this.cut(v-1)}};var g=function(f){for(var i=[],v=f*p.sigma,S=Math.max(Math.ceil(v/p.bucketSize),2),x=0;x<S;++x)i.push(new Array(p.bucketSize));var O=Math.ceil(f/p.bucketSize),N=Math.floor(S/2)-Math.floor(O/2),P=N,W=0;if(this.size())for(var x=0;x<O;++x){for(var l=0;l<p.bucketSize;++l)if(i[N+x][l]=this.front(),this.popFront(),this.empty()){P=N+x,W=l;break}if(this.empty())break}s=i,t=N,r=0,e=P,n=W,u=S,o=f};this.pushBack=function(f){this.empty()||(e===u-1&&n===p.bucketSize-1&&g.call(this,this.size()),n<p.bucketSize-1?++n:e<u-1&&(++e,n=0)),++o,s[e][n]=f},this.popBack=function(){this.empty()||(this.size()!==1&&(n>0?--n:t<e&&(--e,n=p.bucketSize-1)),o>0&&--o)},this.setElementByPos=function(f,i){var v=y(f),S=v.curNodeBucketIndex,x=v.curNodePointerIndex;s[S][x]=i},this.insert=function(f,i,v){var S=this;if(v===void 0&&(v=1),f===0)for(;v--;)this.pushFront(i);else if(f===this.size())for(;v--;)this.pushBack(i);else{for(var x=[],O=f;O<o;++O)x.push(this.getElementByPos(O));this.cut(f-1);for(var O=0;O<v;++O)this.pushBack(i);x.forEach(function(N){return S.pushBack(N)})}},this.find=function(f){if(t===e){for(var i=r;i<=n;++i)if(s[t][i]===f)return!0;return!1}for(var i=r;i<p.bucketSize;++i)if(s[t][i]===f)return!0;for(var i=t+1;i<e;++i)for(var v=0;v<p.bucketSize;++v)if(s[i][v]===f)return!0;for(var i=0;i<=n;++i)if(s[e][i]===f)return!0;return!1},this.reverse=function(){for(var f=0,i=o-1;f<i;){var v=this.getElementByPos(f);this.setElementByPos(f,this.getElementByPos(i)),this.setElementByPos(i,v),++f,--i}},this.unique=function(){if(!this.empty()){var f=[],i=this.front();this.forEach(function(S,x){(x===0||S!==i)&&(f.push(S),i=S)});for(var v=0;v<o;++v)this.setElementByPos(v,f[v]);this.cut(f.length-1)}},this.sort=function(f){var i=[];this.forEach(function(S){i.push(S)}),i.sort(f);for(var v=0;v<o;++v)this.setElementByPos(v,i[v])},this.pushFront=function(f){this.empty()||(t===0&&r===0&&g.call(this,this.size()),r>0?--r:t>0&&(--t,r=p.bucketSize-1)),++o,s[t][r]=f},this.popFront=function(){this.empty()||(this.size()!==1&&(r<p.bucketSize-1?++r:t<e&&(++t,r=0)),o>0&&--o)},this.shrinkToFit=function(){var f=this,i=[];this.forEach(function(O){i.push(O)});var v=i.length;s=[];for(var S=Math.ceil(v/p.bucketSize),x=0;x<S;++x)s.push(new Array(p.bucketSize));this.clear(),i.forEach(function(O){return f.pushBack(O)})},this.cut=function(f){if(f<0){this.clear();return}var i=y(f),v=i.curNodeBucketIndex,S=i.curNodePointerIndex;e=v,n=S,o=f+1},this[Symbol.iterator]=function(){return function(){var i,i,i,f,i;return m(this,function(v){switch(v.label){case 0:if(o===0)return[2];if(t!==e)return[3,5];i=r,v.label=1;case 1:return i<=n?[4,s[t][i]]:[3,4];case 2:v.sent(),v.label=3;case 3:return++i,[3,1];case 4:return[2];case 5:i=r,v.label=6;case 6:return i<p.bucketSize?[4,s[t][i]]:[3,9];case 7:v.sent(),v.label=8;case 8:return++i,[3,6];case 9:i=t+1,v.label=10;case 10:if(!(i<e))return[3,15];f=0,v.label=11;case 11:return f<p.bucketSize?[4,s[i][f]]:[3,14];case 12:v.sent(),v.label=13;case 13:return++f,[3,11];case 14:return++i,[3,10];case 15:i=0,v.label=16;case 16:return i<=n?[4,s[e][i]]:[3,19];case 17:v.sent(),v.label=18;case 18:return++i,[3,16];case 19:return[2]}})}()},function(){var f=p.bucketSize;d.size?f=d.size():d.length&&(f=d.length);var i=f*p.sigma;u=Math.ceil(i/p.bucketSize),u=Math.max(u,3);for(var v=0;v<u;++v)s.push(new Array(p.bucketSize));var S=Math.ceil(f/p.bucketSize);t=Math.floor(u/2)-Math.floor(S/2),e=t,d.forEach(function(x){return h.pushBack(x)})}(),Object.freeze(this)}Object.freeze(p),M.default=p},{}],27:[function(E,I,M){var m=this&&this.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,u,o,y;return y={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function g(i){return function(v){return f([i,v])}}function f(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,u&&(o=i[0]&2?u.return:i[0]?u.throw||((o=u.return)&&o.call(u),0):u.next)&&!(o=o.call(u,i[1])).done)return o;switch(u=0,o&&(i=[i[0]&2,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,u=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){e.label=i[1];break}if(i[0]===6&&e.label<o[1]){e.label=o[1],o=i;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(i);break}o[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(v){i=[6,v],u=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},p=this&&this.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(M,"__esModule",{value:!0});var d=E("../LinkList/LinkList"),h=E("../Map/Map");s.initSize=16,s.maxSize=1<<30,s.sigma=.75,s.treeifyThreshold=8,s.untreeifyThreshold=6,s.minTreeifySize=64;function s(t,r,e){var n=this;if(t===void 0&&(t=[]),r===void 0&&(r=s.initSize),e=e||function(f){var i,v,S=0,x="";if(typeof f=="number")S=Math.floor(f),S=(S<<5)-S,S=S&S;else{typeof f!="string"?x=JSON.stringify(f):x=f;try{for(var O=p(x),N=O.next();!N.done;N=O.next()){var P=N.value,W=P.charCodeAt(0);S=(S<<5)-S+W,S=S&S}}catch(l){i={error:l}}finally{try{N&&!N.done&&(v=O.return)&&v.call(O)}finally{if(i)throw i.error}}}return S^=S>>>16,S},r&r-1)throw new Error("initBucketNum must be 2 to the power of n");var u=0,o=[],y=Math.max(s.initSize,Math.min(s.maxSize,r));this.size=function(){return u},this.empty=function(){return u===0},this.clear=function(){u=0,y=r,o=[]},this.forEach=function(f){var i=0;o.forEach(function(v){v.forEach(function(S){f(S,i++)})})};var g=function(f){if(!(f>=s.maxSize)){y=f*2;var i=[];o.forEach(function(v,S){if(!v.empty()){if(v instanceof d.default&&v.size()===1){var x=v.front(),O=x.key,N=x.value;i[e(O)&y-1]=new d.default([{key:O,value:N}])}else if(v instanceof h.default){var P=new d.default,W=new d.default;v.forEach(function(b){var j=e(b.key);j&f?W.pushBack(b):P.pushBack(b)}),P.size()>s.untreeifyThreshold?i[S]=new h.default(P):P.size()&&(i[S]=P),W.size()>s.untreeifyThreshold?i[S+f]=new h.default(W):W.size()&&(i[S+f]=W)}else{var l=new d.default,_=new d.default;v.forEach(function(b){var j=e(b.key);j&f?_.pushBack(b):l.pushBack(b)}),l.size()&&(i[S]=l),_.size()&&(i[S+f]=_)}o[S].clear()}}),o=i}};this.setElement=function(f,i){var v,S;if(f==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(i==null){this.eraseElementByKey(f);return}var x=e(f)&y-1;if(!o[x])++u,o[x]=new d.default([{key:f,value:i}]);else{var O=o[x].size();if(o[x]instanceof d.default){try{for(var N=p(o[x]),P=N.next();!P.done;P=N.next()){var W=P.value;if(W.key===f){W.value=i;return}}}catch(_){v={error:_}}finally{try{P&&!P.done&&(S=N.return)&&S.call(N)}finally{if(v)throw v.error}}o[x].pushBack({key:f,value:i}),o[x].size()>=s.treeifyThreshold&&(o[x]=new h.default(o[x]))}else o[x].setElement(f,i);var l=o[x].size();u+=l-O}u>y*s.sigma&&g.call(this,y)},this.getElementByKey=function(f){var i,v,S=e(f)&y-1;if(o[S]){if(o[S]instanceof h.default)return o[S].getElementByKey(f);try{for(var x=p(o[S]),O=x.next();!O.done;O=x.next()){var N=O.value;if(N.key===f)return N.value}}catch(P){i={error:P}}finally{try{O&&!O.done&&(v=x.return)&&v.call(x)}finally{if(i)throw i.error}}}},this.eraseElementByKey=function(f){var i,v,S=e(f)&y-1;if(o[S]){var x=o[S].size();if(o[S]instanceof h.default)o[S].eraseElementByKey(f),o[S].size()<=s.untreeifyThreshold&&(o[S]=new d.default(o[S]));else{var O=-1;try{for(var N=p(o[S]),P=N.next();!P.done;P=N.next()){var W=P.value;if(++O,W.key===f){o[S].eraseElementByPos(O);break}}}catch(_){i={error:_}}finally{try{P&&!P.done&&(v=N.return)&&v.call(N)}finally{if(i)throw i.error}}}var l=o[S].size();u+=l-x}},this.find=function(f){var i,v,S=e(f)&y-1;if(!o[S])return!1;if(o[S]instanceof h.default)return o[S].find(f);try{for(var x=p(o[S]),O=x.next();!O.done;O=x.next()){var N=O.value;if(N.key===f)return!0}}catch(P){i={error:P}}finally{try{O&&!O.done&&(v=x.return)&&v.call(x)}finally{if(i)throw i.error}}return!1},this[Symbol.iterator]=function(){return function(){var f,i,v,S,x,O,N;return m(this,function(P){switch(P.label){case 0:f=0,P.label=1;case 1:if(!(f<y))return[3,10];for(;f<y&&!o[f];)++f;if(f>=y)return[3,10];P.label=2;case 2:P.trys.push([2,7,8,9]),i=(O=void 0,p(o[f])),v=i.next(),P.label=3;case 3:return v.done?[3,6]:(S=v.value,[4,S]);case 4:P.sent(),P.label=5;case 5:return v=i.next(),[3,3];case 6:return[3,9];case 7:return x=P.sent(),O={error:x},[3,9];case 8:try{v&&!v.done&&(N=i.return)&&N.call(i)}finally{if(O)throw O.error}return[7];case 9:return++f,[3,1];case 10:return[2]}})}()},t.forEach(function(f){var i=f.key,v=f.value;return n.setElement(i,v)}),Object.freeze(this)}Object.freeze(s),M.default=s},{"../LinkList/LinkList":29,"../Map/Map":30}],28:[function(E,I,M){var m=this&&this.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,u,o,y;return y={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function g(i){return function(v){return f([i,v])}}function f(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,u&&(o=i[0]&2?u.return:i[0]?u.throw||((o=u.return)&&o.call(u),0):u.next)&&!(o=o.call(u,i[1])).done)return o;switch(u=0,o&&(i=[i[0]&2,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,u=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){e.label=i[1];break}if(i[0]===6&&e.label<o[1]){e.label=o[1],o=i;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(i);break}o[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(v){i=[6,v],u=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},p=this&&this.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(M,"__esModule",{value:!0});var d=E("../Set/Set"),h=E("../LinkList/LinkList");s.initSize=16,s.maxSize=1<<30,s.sigma=.75,s.treeifyThreshold=8,s.untreeifyThreshold=6,s.minTreeifySize=64;function s(t,r,e){var n=this;if(t===void 0&&(t=[]),r===void 0&&(r=s.initSize),e=e||function(f){var i=0,v="";if(typeof f=="number")i=Math.floor(f),i=(i<<5)-i,i=i&i;else{typeof f!="string"?v=JSON.stringify(f):v=f;for(var S=0;S<v.length;S++){var x=v.charCodeAt(S);i=(i<<5)-i+x,i=i&i}}return i^=i>>>16,i},r&r-1)throw new Error("initBucketNum must be 2 to the power of n");var u=0,o=[],y=Math.max(s.initSize,Math.min(s.maxSize,r));this.size=function(){return u},this.empty=function(){return u===0},this.clear=function(){u=0,y=r,o=[]},this.forEach=function(f){var i=0;o.forEach(function(v){v.forEach(function(S){f(S,i++)})})};var g=function(f){if(!(f>=s.maxSize)){y=f*2;var i=[];o.forEach(function(v,S){if(!v.empty()){if(v instanceof h.default&&v.size()===1){var x=v.front();if(x===void 0)throw new Error("unknown error");i[e(x)&y-1]=new h.default([x])}else if(v instanceof d.default){var O=new h.default,N=new h.default;v.forEach(function(l){var _=e(l);_&f?N.pushBack(l):O.pushBack(l)}),O.size()>s.untreeifyThreshold?i[S]=new d.default(O):O.size()&&(i[S]=O),N.size()>s.untreeifyThreshold?i[S+f]=new d.default(N):N.size()&&(i[S+f]=N)}else{var P=new h.default,W=new h.default;v.forEach(function(l){var _=e(l);_&f?W.pushBack(l):P.pushBack(l)}),P.size()&&(i[S]=P),W.size()&&(i[S+f]=W)}o[S].clear()}}),o=i}};this.insert=function(f){if(f==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var i=e(f)&y-1;if(!o[i])o[i]=new h.default([f]),++u;else{var v=o[i].size();if(o[i]instanceof h.default){if(o[i].find(f))return;o[i].pushBack(f),o[i].size()>=s.treeifyThreshold&&(o[i]=new d.default(o[i]))}else o[i].insert(f);var S=o[i].size();u+=S-v}u>y*s.sigma&&g.call(this,y)},this.eraseElementByValue=function(f){var i=e(f)&y-1;if(o[i]){var v=o[i].size();o[i].eraseElementByValue(f),o[i]instanceof d.default&&o[i].size()<=s.untreeifyThreshold&&(o[i]=new h.default(o[i]));var S=o[i].size();u+=S-v}},this.find=function(f){var i=e(f)&y-1;return o[i]?o[i].find(f):!1},this[Symbol.iterator]=function(){return function(){var f,i,v,S,x,O,N;return m(this,function(P){switch(P.label){case 0:f=0,P.label=1;case 1:if(!(f<y))return[3,10];for(;f<y&&!o[f];)++f;if(f>=y)return[3,10];P.label=2;case 2:P.trys.push([2,7,8,9]),i=(O=void 0,p(o[f])),v=i.next(),P.label=3;case 3:return v.done?[3,6]:(S=v.value,[4,S]);case 4:P.sent(),P.label=5;case 5:return v=i.next(),[3,3];case 6:return[3,9];case 7:return x=P.sent(),O={error:x},[3,9];case 8:try{v&&!v.done&&(N=i.return)&&N.call(i)}finally{if(O)throw O.error}return[7];case 9:return++f,[3,1];case 10:return[2]}})}()},t.forEach(function(f){return n.insert(f)}),Object.freeze(this)}Object.freeze(s),M.default=s},{"../LinkList/LinkList":29,"../Set/Set":33}],29:[function(E,I,M){var m=this&&this.__generator||function(h,s){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},r,e,n,u;return u={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function o(g){return function(f){return y([g,f])}}function y(g){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,e&&(n=g[0]&2?e.return:g[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,g[1])).done)return n;switch(e=0,n&&(g=[g[0]&2,n.value]),g[0]){case 0:case 1:n=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,e=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!n||g[1]>n[0]&&g[1]<n[3])){t.label=g[1];break}if(g[0]===6&&t.label<n[1]){t.label=n[1],n=g;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(g);break}n[2]&&t.ops.pop(),t.trys.pop();continue}g=s.call(h,t)}catch(f){g=[6,f],e=0}finally{r=n=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(M,"__esModule",{value:!0});var p=function(){function h(s){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=s}return h}();function d(h){var s=this;h===void 0&&(h=[]);var t=0,r=void 0,e=void 0;this.size=function(){return t},this.empty=function(){return t===0},this.clear=function(){r=e=void 0,t=0},this.front=function(){return r==null?void 0:r.value},this.back=function(){return e==null?void 0:e.value},this.forEach=function(n){for(var u=r,o=0;u;){if(u.value===void 0)throw new Error("unknown error");n(u.value,o++),u=u.next}},this.getElementByPos=function(n){if(n<0||n>=t)throw new Error("pos must more then 0 and less then the list length");for(var u=r;n--&&u;)u=u.next;if(!u||u.value===void 0)throw new Error("unknown error");return u.value},this.eraseElementByPos=function(n){if(n<0||n>=t)throw new Error("erase pos must more then 0 and less then the list length");if(n===0)this.popFront();else if(n===t-1)this.popBack();else{for(var u=r;n--;){if(!(u!=null&&u.next))throw new Error("unknown error");u=u.next}if(!u||!u.pre||!u.next)throw new Error("unknown error");var o=u.pre,y=u.next;y.pre=o,o.next=y,t>0&&--t}},this.eraseElementByValue=function(n){for(;r&&r.value===n;)this.popFront();for(;e&&e.value===n;)this.popBack();if(r)for(var u=r;u;){if(u.value===n){var o=u.pre,y=u.next;y&&(y.pre=o),o&&(o.next=y),t>0&&--t}u=u.next}},this.pushBack=function(n){if(n==null)throw new Error("you can't push null or undefined here");++t;var u=new p(n);e?(e.next=u,u.pre=e,e=u):r=e=u},this.popBack=function(){e&&(t>0&&--t,e&&(r===e?r=e=void 0:(e=e.pre,e&&(e.next=void 0))))},this.setElementByPos=function(n,u){if(u==null)throw new Error("you can't set null or undefined here");if(n<0||n>=t)throw new Error("pos must more then 0 and less then the list length");for(var o=r;n--;){if(!o)throw new Error("unknown error");o=o.next}o&&(o.value=u)},this.insert=function(n,u,o){if(o===void 0&&(o=1),u==null)throw new Error("you can't insert null or undefined here");if(n<0||n>t)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(o<0)throw new Error("insert size must more than 0");if(n===0)for(;o--;)this.pushFront(u);else if(n===t)for(;o--;)this.pushBack(u);else{for(var y=r,g=1;g<n;++g){if(!(y!=null&&y.next))throw new Error("unknown error");y=y==null?void 0:y.next}if(!y)throw new Error("unknown error");var f=y.next;for(t+=o;o--;)y.next=new p(u),y.next.pre=y,y=y.next;y.next=f,f&&(f.pre=y)}},this.find=function(n){for(var u=r;u;){if(u.value===n)return!0;u=u.next}return!1},this.reverse=function(){for(var n=r,u=e,o=0;n&&u&&o*2<t;){var y=n.value;n.value=u.value,u.value=y,n=n.next,u=u.pre,++o}},this.unique=function(){for(var n=r;n;){for(var u=n;u&&u.next&&u.value===u.next.value;)u=u.next,t>0&&--t;n.next=u.next,n.next&&(n.next.pre=n),n=n.next}},this.sort=function(n){var u=[];this.forEach(function(y){u.push(y)}),u.sort(n);var o=r;u.forEach(function(y){o&&(o.value=y,o=o.next)})},this.pushFront=function(n){if(n==null)throw new Error("you can't push null or undefined here");++t;var u=new p(n);r?(u.next=r,r.pre=u,r=u):r=e=u},this.popFront=function(){r&&(t>0&&--t,r&&(r===e?r=e=void 0:(r=r.next,r&&(r.pre=void 0))))},this.merge=function(n){var u=this,o=r;n.forEach(function(y){for(;o&&o.value!==void 0&&o.value<=y;)o=o.next;if(o===void 0)u.pushBack(y),o=e;else if(o===r)u.pushFront(y),o=r;else{++t;var g=o.pre;g&&(g.next=new p(y),g.next.pre=g,g.next.next=o,o&&(o.pre=g.next))}})},this[Symbol.iterator]=function(){return function(){var n;return m(this,function(u){switch(u.label){case 0:n=r,u.label=1;case 1:if(n===void 0)return[3,3];if(!n.value)throw new Error("unknown error");return[4,n.value];case 2:return u.sent(),n=n.next,[3,1];case 3:return[2]}})}()},h.forEach(function(n){return s.pushBack(n)}),Object.freeze(this)}Object.freeze(d),M.default=d},{}],30:[function(E,I,M){var m=this&&this.__generator||function(s,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},e,n,u,o;return o={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function y(f){return function(i){return g([f,i])}}function g(f){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,n&&(u=f[0]&2?n.return:f[0]?n.throw||((u=n.return)&&u.call(n),0):n.next)&&!(u=u.call(n,f[1])).done)return u;switch(n=0,u&&(f=[f[0]&2,u.value]),f[0]){case 0:case 1:u=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,n=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!u||f[1]>u[0]&&f[1]<u[3])){r.label=f[1];break}if(f[0]===6&&r.label<u[1]){r.label=u[1],u=f;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(f);break}u[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(s,r)}catch(i){f=[6,i],n=0}finally{e=u=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},p=this&&this.__values||function(s){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&s[t],e=0;if(r)return r.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&e>=s.length&&(s=void 0),{value:s&&s[e++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(M,"__esModule",{value:!0});var d=E("../Base/TreeNode");function h(s,t){var r=this;s===void 0&&(s=[]),t=t||function(l,_){return l<_?-1:l>_?1:0};var e=0,n=new d.default;n.color=d.default.TreeNodeColorType.black,this.size=function(){return e},this.empty=function(){return e===0},this.clear=function(){e=0,n.key=n.value=void 0,n.leftChild=n.rightChild=n.brother=void 0};var u=function(l){if(!l||l.key===void 0)throw new Error("unknown error");return l.leftChild?u(l.leftChild):l},o=function(l){if(!l||l.key===void 0)throw new Error("unknown error");return l.rightChild?o(l.rightChild):l};this.front=function(){if(!this.empty()){var l=u(n);if(l.key===void 0||l.value===void 0)throw new Error("unknown error");return{key:l.key,value:l.value}}},this.back=function(){if(!this.empty()){var l=o(n);if(l.key===void 0||l.value===void 0)throw new Error("unknown error");return{key:l.key,value:l.value}}},this.forEach=function(l){var _,b,j=0;try{for(var V=p(this),H=V.next();!H.done;H=V.next()){var X=H.value;l(X,j++)}}catch(T){_={error:T}}finally{try{H&&!H.done&&(b=V.return)&&b.call(V)}finally{if(_)throw _.error}}},this.getElementByPos=function(l){var _,b;if(l<0||l>=this.size())throw new Error("pos must more than 0 and less than set's size");var j=0;try{for(var V=p(this),H=V.next();!H.done;H=V.next()){var X=H.value;if(j===l)return X;++j}}catch(T){_={error:T}}finally{try{H&&!H.done&&(b=V.return)&&b.call(V)}finally{if(_)throw _.error}}throw new Error("unknown Error")};var y=function(l,_){if(!(!l||l.key===void 0||l.value===void 0)){var b=t(l.key,_);return b===0?{key:l.key,value:l.value}:b<0?y(l.rightChild,_):y(l.leftChild,_)||{key:l.key,value:l.value}}};this.lowerBound=function(l){return y(n,l)};var g=function(l,_){if(!(!l||l.key===void 0||l.value===void 0)){var b=t(l.key,_);return b<=0?g(l.rightChild,_):g(l.leftChild,_)||{key:l.key,value:l.value}}};this.upperBound=function(l){return g(n,l)};var f=function(l,_){if(!(!l||l.key===void 0||l.value===void 0)){var b=t(l.key,_);return b===0?{key:l.key,value:l.value}:b>0?f(l.leftChild,_):f(l.rightChild,_)||{key:l.key,value:l.value}}};this.reverseLowerBound=function(l){return f(n,l)};var i=function(l,_){if(!(!l||l.key===void 0||l.value===void 0)){var b=t(l.key,_);return b>=0?i(l.leftChild,_):i(l.rightChild,_)||{key:l.key,value:l.value}}};this.reverseUpperBound=function(l){return i(n,l)};var v=function(l){var _=l.parent;if(!_){if(l===n)return;throw new Error("unknown error")}if(l.color===d.default.TreeNodeColorType.red){l.color=d.default.TreeNodeColorType.black;return}var b=l.brother;if(!b)throw new Error("unknown error");if(l===_.leftChild){if(b.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red;var j=_.rotateLeft();n===_&&(n=j),v(l)}else if(b.color===d.default.TreeNodeColorType.black)if(b.rightChild&&b.rightChild.color===d.default.TreeNodeColorType.red){b.color=_.color,_.color=d.default.TreeNodeColorType.black,b.rightChild&&(b.rightChild.color=d.default.TreeNodeColorType.black);var j=_.rotateLeft();n===_&&(n=j),l.color=d.default.TreeNodeColorType.black}else if((!b.rightChild||b.rightChild.color===d.default.TreeNodeColorType.black)&&b.leftChild&&b.leftChild.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.red,b.leftChild&&(b.leftChild.color=d.default.TreeNodeColorType.black);var j=b.rotateRight();n===b&&(n=j),v(l)}else(!b.leftChild||b.leftChild.color===d.default.TreeNodeColorType.black)&&(!b.rightChild||b.rightChild.color===d.default.TreeNodeColorType.black)&&(b.color=d.default.TreeNodeColorType.red,v(_))}else if(l===_.rightChild){if(b.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red;var j=_.rotateRight();n===_&&(n=j),v(l)}else if(b.color===d.default.TreeNodeColorType.black)if(b.leftChild&&b.leftChild.color===d.default.TreeNodeColorType.red){b.color=_.color,_.color=d.default.TreeNodeColorType.black,b.leftChild&&(b.leftChild.color=d.default.TreeNodeColorType.black);var j=_.rotateRight();n===_&&(n=j),l.color=d.default.TreeNodeColorType.black}else if((!b.leftChild||b.leftChild.color===d.default.TreeNodeColorType.black)&&b.rightChild&&b.rightChild.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.red,b.rightChild&&(b.rightChild.color=d.default.TreeNodeColorType.black);var j=b.rotateLeft();n===b&&(n=j),v(l)}else(!b.leftChild||b.leftChild.color===d.default.TreeNodeColorType.black)&&(!b.rightChild||b.rightChild.color===d.default.TreeNodeColorType.black)&&(b.color=d.default.TreeNodeColorType.red,v(_))}},S=function(l){for(var _=l;_.leftChild||_.rightChild;){if(_.rightChild){_=u(_.rightChild);var b=l.key;l.key=_.key,_.key=b;var j=l.value;l.value=_.value,_.value=j,l=_}if(_.leftChild){_=o(_.leftChild);var b=l.key;l.key=_.key,_.key=b;var j=l.value;l.value=_.value,_.value=j,l=_}}v(_),_&&_.remove(),--e,n.color=d.default.TreeNodeColorType.black},x=function(l,_){if(!l||l.key===void 0)return!1;var b=x(l.leftChild,_);return b||_(l)?!0:x(l.rightChild,_)};this.eraseElementByPos=function(l){if(l<0||l>=e)throw new Error("pos must more than 0 and less than set's size");var _=0;x(n,function(b){return l===_?(S(b),!0):(++_,!1)})},this.eraseElementByKey=function(l){if(!this.empty()){var _=P(n,l);_===void 0||_.key===void 0||t(_.key,l)!==0||S(_)}};var O=function(l,_){if(!l||l.key===void 0)throw new Error("unknown error");var b=t(_,l.key);return b<0?l.leftChild?O(l.leftChild,_):(l.leftChild=new d.default,l.leftChild.parent=l,l.leftChild.brother=l.rightChild,l.rightChild&&(l.rightChild.brother=l.leftChild),l.leftChild):b>0?l.rightChild?O(l.rightChild,_):(l.rightChild=new d.default,l.rightChild.parent=l,l.rightChild.brother=l.leftChild,l.leftChild&&(l.leftChild.brother=l.rightChild),l.rightChild):l},N=function(l){var _=l.parent;if(!_){if(l===n)return;throw new Error("unknown error")}if(_.color!==d.default.TreeNodeColorType.black&&_.color===d.default.TreeNodeColorType.red){var b=_.brother,j=_.parent;if(!j)throw new Error("unknown error");if(b&&b.color===d.default.TreeNodeColorType.red)b.color=_.color=d.default.TreeNodeColorType.black,j.color=d.default.TreeNodeColorType.red,N(j);else if(!b||b.color===d.default.TreeNodeColorType.black){if(_===j.leftChild){if(l===_.leftChild){_.color=d.default.TreeNodeColorType.black,j.color=d.default.TreeNodeColorType.red;var V=j.rotateRight();j===n&&(n=V)}else if(l===_.rightChild){var V=_.rotateLeft();j===n&&(n=V),N(_)}}else if(_===j.rightChild){if(l===_.leftChild){var V=_.rotateRight();j===n&&(n=V),N(_)}else if(l===_.rightChild){_.color=d.default.TreeNodeColorType.black,j.color=d.default.TreeNodeColorType.red;var V=j.rotateLeft();j===n&&(n=V)}}}}};this.setElement=function(l,_){if(l==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(_==null){this.eraseElementByKey(l);return}if(this.empty()){++e,n.key=l,n.value=_,n.color=d.default.TreeNodeColorType.black;return}var b=O(n,l);if(b.key!==void 0&&t(b.key,l)===0){b.value=_;return}++e,b.key=l,b.value=_,N(b),n.color=d.default.TreeNodeColorType.black};var P=function(l,_){if(!(!l||l.key===void 0)){var b=t(_,l.key);return b<0?P(l.leftChild,_):b>0?P(l.rightChild,_):l}};this.find=function(l){return!!P(n,l)},this.getElementByKey=function(l){var _=P(n,l);if((_==null?void 0:_.key)===void 0||(_==null?void 0:_.value)===void 0)throw new Error("unknown error");return _.value},this.union=function(l){var _=this;l.forEach(function(b){var j=b.key,V=b.value;return _.setElement(j,V)})},this.getHeight=function(){if(this.empty())return 0;var l=function(_){return _?Math.max(l(_.leftChild),l(_.rightChild))+1:1};return l(n)};var W=function(l){return m(this,function(_){switch(_.label){case 0:return!l||l.key===void 0||l.value===void 0?[2]:[5,p(W(l.leftChild))];case 1:return _.sent(),[4,{key:l.key,value:l.value}];case 2:return _.sent(),[5,p(W(l.rightChild))];case 3:return _.sent(),[2]}})};this[Symbol.iterator]=function(){return W(n)},s.forEach(function(l){var _=l.key,b=l.value;return r.setElement(_,b)}),Object.freeze(this)}Object.freeze(h),M.default=h},{"../Base/TreeNode":25}],31:[function(E,I,M){Object.defineProperty(M,"__esModule",{value:!0});function m(p,d){p===void 0&&(p=[]),d=d||function(e,n){return e>n?-1:e<n?1:0};var h=[];p.forEach(function(e){return h.push(e)});var s=h.length,t=function(e,n){if(e<0||e>=s)throw new Error("unknown error");if(n<0||n>=s)throw new Error("unknown error");var u=h[e];h[e]=h[n],h[n]=u},r=function(e){if(e<0||e>=s)throw new Error("unknown error");var n=e*2+1,u=e*2+2;n<s&&d(h[e],h[n])>0&&t(e,n),u<s&&d(h[e],h[u])>0&&t(e,u)};(function(){for(var e=Math.floor((s-1)/2);e>=0;--e)for(var n=e,u=n*2+1;u<s;){var o=u,y=o+1,g=o;if(y<s&&d(h[o],h[y])>0&&(g=y),d(h[n],h[g])<=0)break;t(n,g),n=g,u=n*2+1}})(),this.size=function(){return s},this.empty=function(){return s===0},this.clear=function(){s=0,h.length=0},this.push=function(e){if(h.push(e),++s,s!==1)for(var n=s-1;n>0;){var u=Math.floor((n-1)/2);if(d(h[u],e)<=0)break;r(u),n=u}},this.pop=function(){if(!this.empty()){if(this.size()===1){--s;return}var e=h[s-1];--s;for(var n=0;n<this.size();){var u=n*2+1,o=n*2+2;if(u>=this.size())break;var y=u;if(o<this.size()&&d(h[u],h[o])>0&&(y=o),d(h[y],e)>=0)break;h[n]=h[y],n=y}h[n]=e}},this.top=function(){return h[0]},Object.freeze(this)}Object.freeze(m),M.default=m},{}],32:[function(E,I,M){Object.defineProperty(M,"__esModule",{value:!0});var m=E("../LinkList/LinkList");function p(d){d===void 0&&(d=[]);var h=new m.default(d);this.size=function(){return h.size()},this.empty=function(){return h.empty()},this.clear=function(){h.clear()},this.push=function(s){h.pushBack(s)},this.pop=function(){h.popFront()},this.front=function(){return h.front()},Object.freeze(this)}Object.freeze(p),M.default=p},{"../LinkList/LinkList":29}],33:[function(E,I,M){var m=this&&this.__generator||function(s,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},e,n,u,o;return o={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function y(f){return function(i){return g([f,i])}}function g(f){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,n&&(u=f[0]&2?n.return:f[0]?n.throw||((u=n.return)&&u.call(n),0):n.next)&&!(u=u.call(n,f[1])).done)return u;switch(n=0,u&&(f=[f[0]&2,u.value]),f[0]){case 0:case 1:u=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,n=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!u||f[1]>u[0]&&f[1]<u[3])){r.label=f[1];break}if(f[0]===6&&r.label<u[1]){r.label=u[1],u=f;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(f);break}u[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(s,r)}catch(i){f=[6,i],n=0}finally{e=u=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},p=this&&this.__values||function(s){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&s[t],e=0;if(r)return r.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&e>=s.length&&(s=void 0),{value:s&&s[e++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(M,"__esModule",{value:!0});var d=E("../Base/TreeNode");function h(s,t){var r=this;s===void 0&&(s=[]),t=t||function(l,_){return l<_?-1:l>_?1:0};var e=0,n=new d.default;n.color=d.default.TreeNodeColorType.black,this.size=function(){return e},this.empty=function(){return e===0},this.clear=function(){e=0,n.key=void 0,n.leftChild=n.rightChild=n.brother=n.parent=void 0,n.color=d.default.TreeNodeColorType.black};var u=function(l){if(!l||l.key===void 0)throw new Error("unknown error");return l.leftChild?u(l.leftChild):l},o=function(l){if(!l||l.key===void 0)throw new Error("unknown error");return l.rightChild?o(l.rightChild):l};this.front=function(){if(!this.empty()){var l=u(n);return l.key}},this.back=function(){if(!this.empty()){var l=o(n);return l.key}},this.forEach=function(l){var _,b,j=0;try{for(var V=p(this),H=V.next();!H.done;H=V.next()){var X=H.value;l(X,j++)}}catch(T){_={error:T}}finally{try{H&&!H.done&&(b=V.return)&&b.call(V)}finally{if(_)throw _.error}}},this.getElementByPos=function(l){var _,b;if(l<0||l>=this.size())throw new Error("pos must more than 0 and less than set's size");var j=0;try{for(var V=p(this),H=V.next();!H.done;H=V.next()){var X=H.value;if(j===l)return X;++j}}catch(T){_={error:T}}finally{try{H&&!H.done&&(b=V.return)&&b.call(V)}finally{if(_)throw _.error}}throw new Error("unknown error")};var y=function(l){var _=l.parent;if(!_){if(l===n)return;throw new Error("unknown error")}if(l.color===d.default.TreeNodeColorType.red){l.color=d.default.TreeNodeColorType.black;return}var b=l.brother;if(!b)throw new Error("unknown error");if(l===_.leftChild){if(b.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red;var j=_.rotateLeft();n===_&&(n=j),y(l)}else if(b.color===d.default.TreeNodeColorType.black)if(b.rightChild&&b.rightChild.color===d.default.TreeNodeColorType.red){b.color=_.color,_.color=d.default.TreeNodeColorType.black,b.rightChild&&(b.rightChild.color=d.default.TreeNodeColorType.black);var j=_.rotateLeft();n===_&&(n=j),l.color=d.default.TreeNodeColorType.black}else if((!b.rightChild||b.rightChild.color===d.default.TreeNodeColorType.black)&&b.leftChild&&b.leftChild.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.red,b.leftChild&&(b.leftChild.color=d.default.TreeNodeColorType.black);var j=b.rotateRight();n===b&&(n=j),y(l)}else(!b.leftChild||b.leftChild.color===d.default.TreeNodeColorType.black)&&(!b.rightChild||b.rightChild.color===d.default.TreeNodeColorType.black)&&(b.color=d.default.TreeNodeColorType.red,y(_))}else if(l===_.rightChild){if(b.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red;var j=_.rotateRight();n===_&&(n=j),y(l)}else if(b.color===d.default.TreeNodeColorType.black)if(b.leftChild&&b.leftChild.color===d.default.TreeNodeColorType.red){b.color=_.color,_.color=d.default.TreeNodeColorType.black,b.leftChild&&(b.leftChild.color=d.default.TreeNodeColorType.black);var j=_.rotateRight();n===_&&(n=j),l.color=d.default.TreeNodeColorType.black}else if((!b.leftChild||b.leftChild.color===d.default.TreeNodeColorType.black)&&b.rightChild&&b.rightChild.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.red,b.rightChild&&(b.rightChild.color=d.default.TreeNodeColorType.black);var j=b.rotateLeft();n===b&&(n=j),y(l)}else(!b.leftChild||b.leftChild.color===d.default.TreeNodeColorType.black)&&(!b.rightChild||b.rightChild.color===d.default.TreeNodeColorType.black)&&(b.color=d.default.TreeNodeColorType.red,y(_))}},g=function(l){for(var _=l;_.leftChild||_.rightChild;){if(_.rightChild){_=u(_.rightChild);var b=l.key;l.key=_.key,_.key=b,l=_}if(_.leftChild){_=o(_.leftChild);var b=l.key;l.key=_.key,_.key=b,l=_}}y(_),_&&_.remove(),--e,n.color=d.default.TreeNodeColorType.black},f=function(l,_){if(!l||l.key===void 0)return!1;var b=f(l.leftChild,_);return b||_(l)?!0:f(l.rightChild,_)};this.eraseElementByPos=function(l){if(l<0||l>=e)throw new Error("pos must more than 0 and less than set's size");var _=0;f(n,function(b){return l===_?(g(b),!0):(++_,!1)})},this.eraseElementByValue=function(l){if(!this.empty()){var _=S(n,l);_===void 0||_.key===void 0||t(_.key,l)!==0||g(_)}};var i=function(l,_){if(!l||l.key===void 0)throw new Error("unknown error");var b=t(_,l.key);return b<0?l.leftChild?i(l.leftChild,_):(l.leftChild=new d.default,l.leftChild.parent=l,l.leftChild.brother=l.rightChild,l.rightChild&&(l.rightChild.brother=l.leftChild),l.leftChild):b>0?l.rightChild?i(l.rightChild,_):(l.rightChild=new d.default,l.rightChild.parent=l,l.rightChild.brother=l.leftChild,l.leftChild&&(l.leftChild.brother=l.rightChild),l.rightChild):l},v=function(l){var _=l.parent;if(!_){if(l===n)return;throw new Error("unknown error")}if(_.color!==d.default.TreeNodeColorType.black&&_.color===d.default.TreeNodeColorType.red){var b=_.brother,j=_.parent;if(!j)throw new Error("unknown error");if(b&&b.color===d.default.TreeNodeColorType.red)b.color=_.color=d.default.TreeNodeColorType.black,j.color=d.default.TreeNodeColorType.red,v(j);else if(!b||b.color===d.default.TreeNodeColorType.black){if(_===j.leftChild){if(l===_.leftChild){_.color=d.default.TreeNodeColorType.black,j.color=d.default.TreeNodeColorType.red;var V=j.rotateRight();j===n&&(n=V)}else if(l===_.rightChild){var V=_.rotateLeft();j===n&&(n=V),v(_)}}else if(_===j.rightChild){if(l===_.leftChild){var V=_.rotateRight();j===n&&(n=V),v(_)}else if(l===_.rightChild){_.color=d.default.TreeNodeColorType.black,j.color=d.default.TreeNodeColorType.red;var V=j.rotateLeft();j===n&&(n=V)}}}}};this.insert=function(l){if(l==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty()){++e,n.key=l,n.color=d.default.TreeNodeColorType.black;return}var _=i(n,l);_.key!==void 0&&t(_.key,l)===0||(++e,_.key=l,v(_),n.color=d.default.TreeNodeColorType.black)};var S=function(l,_){if(!(!l||l.key===void 0)){var b=t(_,l.key);return b<0?S(l.leftChild,_):b>0?S(l.rightChild,_):l}};this.find=function(l){var _=S(n,l);return _!==void 0&&_.key!==void 0&&t(_.key,l)===0};var x=function(l,_){if(!(!l||l.key===void 0)){var b=t(l.key,_);if(b===0)return l.key;if(b<0)return x(l.rightChild,_);var j=x(l.leftChild,_);return j!==void 0?j:l.key}};this.lowerBound=function(l){return x(n,l)};var O=function(l,_){if(!(!l||l.key===void 0)){var b=t(l.key,_);if(b<=0)return O(l.rightChild,_);var j=O(l.leftChild,_);return j!==void 0?j:l.key}};this.upperBound=function(l){return O(n,l)};var N=function(l,_){if(!(!l||l.key===void 0)){var b=t(l.key,_);if(b===0)return l.key;if(b>0)return N(l.leftChild,_);var j=N(l.rightChild,_);return j!==void 0?j:l.key}};this.reverseLowerBound=function(l){return N(n,l)};var P=function(l,_){if(!(!l||l.key===void 0)){var b=t(l.key,_);if(b>=0)return P(l.leftChild,_);var j=P(l.rightChild,_);return j!==void 0?j:l.key}};this.reverseUpperBound=function(l){return P(n,l)},this.union=function(l){var _=this;l.forEach(function(b){return _.insert(b)})},this.getHeight=function(){if(this.empty())return 0;var l=function(_){return _?Math.max(l(_.leftChild),l(_.rightChild))+1:1};return l(n)};var W=function(l){return m(this,function(_){switch(_.label){case 0:return!l||l.key===void 0?[2]:[5,p(W(l.leftChild))];case 1:return _.sent(),[4,l.key];case 2:return _.sent(),[5,p(W(l.rightChild))];case 3:return _.sent(),[2]}})};this[Symbol.iterator]=function(){return W(n)},s.forEach(function(l){return r.insert(l)}),Object.freeze(this)}Object.freeze(h),M.default=h},{"../Base/TreeNode":25}],34:[function(E,I,M){Object.defineProperty(M,"__esModule",{value:!0});function m(p){var d=this;p===void 0&&(p=[]);var h=0,s=[];this.size=function(){return h},this.empty=function(){return h===0},this.clear=function(){h=0,s.length=0},this.push=function(t){s.push(t),++h},this.pop=function(){s.pop(),h>0&&--h},this.top=function(){return s[h-1]},p.forEach(function(t){return d.push(t)}),Object.freeze(this)}Object.freeze(m),M.default=m},{}],35:[function(E,I,M){var m=this&&this.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,u,o,y;return y={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function g(i){return function(v){return f([i,v])}}function f(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,u&&(o=i[0]&2?u.return:i[0]?u.throw||((o=u.return)&&o.call(u),0):u.next)&&!(o=o.call(u,i[1])).done)return o;switch(u=0,o&&(i=[i[0]&2,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,u=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){e.label=i[1];break}if(i[0]===6&&e.label<o[1]){e.label=o[1],o=i;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(i);break}o[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(v){i=[6,v],u=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},p=this&&this.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),u,o=[],y;try{for(;(r===void 0||r-- >0)&&!(u=n.next()).done;)o.push(u.value)}catch(g){y={error:g}}finally{try{u&&!u.done&&(e=n.return)&&e.call(n)}finally{if(y)throw y.error}}return o},d=this&&this.__spreadArray||function(t,r,e){if(e||arguments.length===2)for(var n=0,u=r.length,o;n<u;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return t.concat(o||Array.prototype.slice.call(r))},h=this&&this.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(M,"__esModule",{value:!0});function s(t){var r=this;t===void 0&&(t=[]);var e=0,n=[];this.size=function(){return e},this.empty=function(){return e===0},this.clear=function(){e=0,n.length=0},this.front=function(){if(!this.empty())return n[0]},this.back=function(){if(!this.empty())return n[e-1]},this.forEach=function(u){n.forEach(u)},this.getElementByPos=function(u){if(u<0||u>=e)throw new Error("pos must more than 0 and less than vector's size");return n[u]},this.eraseElementByPos=function(u){if(u<0||u>=e)throw new Error("pos must more than 0 and less than vector's size");for(var o=u;o<e-1;++o)n[o]=n[o+1];this.popBack()},this.eraseElementByValue=function(u){var o=[];this.forEach(function(g){g!==u&&o.push(g)}),o.forEach(function(g,f){n[f]=g});for(var y=o.length;e>y;)this.popBack()},this.pushBack=function(u){n.push(u),++e},this.popBack=function(){n.pop(),e>0&&--e},this.setElementByPos=function(u,o){if(u<0||u>=e)throw new Error("pos must more than 0 and less than vector's size");n[u]=o},this.insert=function(u,o,y){if(y===void 0&&(y=1),u<0||u>e)throw new Error("pos must more than 0 and less than or equal to vector's size");n.splice.apply(n,d([u,0],p(new Array(y).fill(o)),!1)),e+=y},this.find=function(u){return n.includes(u)},this.reverse=function(){n.reverse()},this.unique=function(){var u,o=[];this.forEach(function(g,f){(f===0||g!==u)&&(o.push(g),u=g)}),o.forEach(function(g,f){n[f]=g});for(var y=o.length;e>y;)this.popBack()},this.sort=function(u){n.sort(u)},this[Symbol.iterator]=function(){return function(){return m(this,function(u){switch(u.label){case 0:return[5,h(n)];case 1:return[2,u.sent()]}})}()},t.forEach(function(u){return r.pushBack(u)}),Object.freeze(this)}Object.freeze(s),M.default=s},{}],36:[function(E,I,M){Object.defineProperty(M,"__esModule",{value:!0}),M.HashMap=M.HashSet=M.Map=M.Set=M.PriorityQueue=M.Deque=M.LinkList=M.Queue=M.Stack=M.Vector=void 0;var m=E("./Vector/Vector");M.Vector=m.default;var p=E("./Stack/Stack");M.Stack=p.default;var d=E("./Queue/Queue");M.Queue=d.default;var h=E("./LinkList/LinkList");M.LinkList=h.default;var s=E("./Deque/Deque");M.Deque=s.default;var t=E("./PriorityQueue/PriorityQueue");M.PriorityQueue=t.default;var r=E("./Set/Set");M.Set=r.default;var e=E("./Map/Map");M.Map=e.default;var n=E("./HashSet/HashSet");M.HashSet=n.default;var u=E("./HashMap/HashMap");M.HashMap=u.default},{"./Deque/Deque":26,"./HashMap/HashMap":27,"./HashSet/HashSet":28,"./LinkList/LinkList":29,"./Map/Map":30,"./PriorityQueue/PriorityQueue":31,"./Queue/Queue":32,"./Set/Set":33,"./Stack/Stack":34,"./Vector/Vector":35}],37:[function(E,I,M){const m=E("yallist"),p=Symbol("max"),d=Symbol("length"),h=Symbol("lengthCalculator"),s=Symbol("allowStale"),t=Symbol("maxAge"),r=Symbol("dispose"),e=Symbol("noDisposeOnSet"),n=Symbol("lruList"),u=Symbol("cache"),o=Symbol("updateAgeOnGet"),y=()=>1;class g{constructor(P){if(typeof P=="number"&&(P={max:P}),P||(P={}),P.max&&(typeof P.max!="number"||P.max<0))throw new TypeError("max must be a non-negative number");this[p]=P.max||1/0;const W=P.length||y;if(this[h]=typeof W!="function"?y:W,this[s]=P.stale||!1,P.maxAge&&typeof P.maxAge!="number")throw new TypeError("maxAge must be a number");this[t]=P.maxAge||0,this[r]=P.dispose,this[e]=P.noDisposeOnSet||!1,this[o]=P.updateAgeOnGet||!1,this.reset()}set max(P){if(typeof P!="number"||P<0)throw new TypeError("max must be a non-negative number");this[p]=P||1/0,v(this)}get max(){return this[p]}set allowStale(P){this[s]=!!P}get allowStale(){return this[s]}set maxAge(P){if(typeof P!="number")throw new TypeError("maxAge must be a non-negative number");this[t]=P,v(this)}get maxAge(){return this[t]}set lengthCalculator(P){typeof P!="function"&&(P=y),P!==this[h]&&(this[h]=P,this[d]=0,this[n].forEach(W=>{W.length=this[h](W.value,W.key),this[d]+=W.length})),v(this)}get lengthCalculator(){return this[h]}get length(){return this[d]}get itemCount(){return this[n].length}rforEach(P,W){W=W||this;for(let l=this[n].tail;l!==null;){const _=l.prev;O(this,P,l,W),l=_}}forEach(P,W){W=W||this;for(let l=this[n].head;l!==null;){const _=l.next;O(this,P,l,W),l=_}}keys(){return this[n].toArray().map(P=>P.key)}values(){return this[n].toArray().map(P=>P.value)}reset(){this[r]&&this[n]&&this[n].length&&this[n].forEach(P=>this[r](P.key,P.value)),this[u]=new Map,this[n]=new m,this[d]=0}dump(){return this[n].map(P=>i(this,P)?!1:{k:P.key,v:P.value,e:P.now+(P.maxAge||0)}).toArray().filter(P=>P)}dumpLru(){return this[n]}set(P,W,l){if(l=l||this[t],l&&typeof l!="number")throw new TypeError("maxAge must be a number");const _=l?Date.now():0,b=this[h](W,P);if(this[u].has(P)){if(b>this[p])return S(this,this[u].get(P)),!1;const H=this[u].get(P).value;return this[r]&&(this[e]||this[r](P,H.value)),H.now=_,H.maxAge=l,H.value=W,this[d]+=b-H.length,H.length=b,this.get(P),v(this),!0}const j=new x(P,W,b,_,l);return j.length>this[p]?(this[r]&&this[r](P,W),!1):(this[d]+=j.length,this[n].unshift(j),this[u].set(P,this[n].head),v(this),!0)}has(P){if(!this[u].has(P))return!1;const W=this[u].get(P).value;return!i(this,W)}get(P){return f(this,P,!0)}peek(P){return f(this,P,!1)}pop(){const P=this[n].tail;return P?(S(this,P),P.value):null}del(P){S(this,this[u].get(P))}load(P){this.reset();const W=Date.now();for(let l=P.length-1;l>=0;l--){const _=P[l],b=_.e||0;if(b===0)this.set(_.k,_.v);else{const j=b-W;j>0&&this.set(_.k,_.v,j)}}}prune(){this[u].forEach((P,W)=>f(this,W,!1))}}const f=(N,P,W)=>{const l=N[u].get(P);if(l){const _=l.value;if(i(N,_)){if(S(N,l),!N[s])return}else W&&(N[o]&&(l.value.now=Date.now()),N[n].unshiftNode(l));return _.value}},i=(N,P)=>{if(!P||!P.maxAge&&!N[t])return!1;const W=Date.now()-P.now;return P.maxAge?W>P.maxAge:N[t]&&W>N[t]},v=N=>{if(N[d]>N[p])for(let P=N[n].tail;N[d]>N[p]&&P!==null;){const W=P.prev;S(N,P),P=W}},S=(N,P)=>{if(P){const W=P.value;N[r]&&N[r](W.key,W.value),N[d]-=W.length,N[u].delete(W.key),N[n].removeNode(P)}};class x{constructor(P,W,l,_,b){this.key=P,this.value=W,this.length=l,this.now=_,this.maxAge=b||0}}const O=(N,P,W,l)=>{let _=W.value;i(N,_)&&(S(N,W),N[s]||(_=void 0)),_&&P.call(l,_.value,_.key,N)};I.exports=g},{yallist:83}],38:[function(E,I,M){(function(m){(function(){const p=I.exports;p.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},p.codes={};for(const h in p.types){const s=p.types[h];p.codes[s]=h}p.CMD_SHIFT=4,p.CMD_MASK=240,p.DUP_MASK=8,p.QOS_MASK=3,p.QOS_SHIFT=1,p.RETAIN_MASK=1,p.VARBYTEINT_MASK=127,p.VARBYTEINT_FIN_MASK=128,p.VARBYTEINT_MAX=268435455,p.SESSIONPRESENT_MASK=1,p.SESSIONPRESENT_HEADER=m.from([p.SESSIONPRESENT_MASK]),p.CONNACK_HEADER=m.from([p.codes.connack<<p.CMD_SHIFT]),p.USERNAME_MASK=128,p.PASSWORD_MASK=64,p.WILL_RETAIN_MASK=32,p.WILL_QOS_MASK=24,p.WILL_QOS_SHIFT=3,p.WILL_FLAG_MASK=4,p.CLEAN_SESSION_MASK=2,p.CONNECT_HEADER=m.from([p.codes.connect<<p.CMD_SHIFT]),p.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},p.propertiesCodes={};for(const h in p.properties){const s=p.properties[h];p.propertiesCodes[s]=h}p.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function d(h){return[0,1,2].map(s=>[0,1].map(t=>[0,1].map(r=>{const e=m.alloc(1);return e.writeUInt8(p.codes[h]<<p.CMD_SHIFT|(t?p.DUP_MASK:0)|s<<p.QOS_SHIFT|r,0,!0),e})))}p.PUBLISH_HEADER=d("publish"),p.SUBSCRIBE_HEADER=d("subscribe"),p.SUBSCRIBE_OPTIONS_QOS_MASK=3,p.SUBSCRIBE_OPTIONS_NL_MASK=1,p.SUBSCRIBE_OPTIONS_NL_SHIFT=2,p.SUBSCRIBE_OPTIONS_RAP_MASK=1,p.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,p.SUBSCRIBE_OPTIONS_RH_MASK=3,p.SUBSCRIBE_OPTIONS_RH_SHIFT=4,p.SUBSCRIBE_OPTIONS_RH=[0,16,32],p.SUBSCRIBE_OPTIONS_NL=4,p.SUBSCRIBE_OPTIONS_RAP=8,p.SUBSCRIBE_OPTIONS_QOS=[0,1,2],p.UNSUBSCRIBE_HEADER=d("unsubscribe"),p.ACKS={unsuback:d("unsuback"),puback:d("puback"),pubcomp:d("pubcomp"),pubrel:d("pubrel"),pubrec:d("pubrec")},p.SUBACK_HEADER=m.from([p.codes.suback<<p.CMD_SHIFT]),p.VERSION3=m.from([3]),p.VERSION4=m.from([4]),p.VERSION5=m.from([5]),p.VERSION131=m.from([131]),p.VERSION132=m.from([132]),p.QOS=[0,1,2].map(h=>m.from([h])),p.EMPTY={pingreq:m.from([p.codes.pingreq<<4,0]),pingresp:m.from([p.codes.pingresp<<4,0]),disconnect:m.from([p.codes.disconnect<<4,0])}}).call(this)}).call(this,E("buffer").Buffer)},{buffer:17}],39:[function(E,I,M){(function(m){(function(){const p=E("./writeToStream"),d=E("events");function h(t,r){const e=new s;return p(t,e,r),e.concat()}class s extends d{constructor(){super(),this._array=new Array(20),this._i=0}write(r){return this._array[this._i++]=r,!0}concat(){let r=0;const e=new Array(this._array.length),n=this._array;let u=0,o;for(o=0;o<n.length&&n[o]!==void 0;o++)typeof n[o]!="string"?e[o]=n[o].length:e[o]=m.byteLength(n[o]),r+=e[o];const y=m.allocUnsafe(r);for(o=0;o<n.length&&n[o]!==void 0;o++)typeof n[o]!="string"?(n[o].copy(y,u),u+=e[o]):(y.write(n[o],u),u+=e[o]);return y}}I.exports=h}).call(this)}).call(this,E("buffer").Buffer)},{"./writeToStream":44,buffer:17,events:22}],40:[function(E,I,M){M.parser=E("./parser").parser,M.generate=E("./generate"),M.writeToStream=E("./writeToStream")},{"./generate":39,"./parser":43,"./writeToStream":44}],41:[function(E,I,M){(function(m){(function(){const d={},h=m.isBuffer(m.from([1,2]).subarray(0,1));function s(n){const u=m.allocUnsafe(2);return u.writeUInt8(n>>8,0),u.writeUInt8(n&255,0+1),u}function t(){for(let n=0;n<65536;n++)d[n]=s(n)}function r(n){let o=0,y=0;const g=m.allocUnsafe(4);do o=n%128|0,n=n/128|0,n>0&&(o=o|128),g.writeUInt8(o,y++);while(n>0&&y<4);return n>0&&(y=0),h?g.subarray(0,y):g.slice(0,y)}function e(n){const u=m.allocUnsafe(4);return u.writeUInt32BE(n,0),u}I.exports={cache:d,generateCache:t,generateNumber:s,genBufVariableByteInt:r,generate4ByteBuffer:e}}).call(this)}).call(this,E("buffer").Buffer)},{buffer:17}],42:[function(E,I,M){class m{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}I.exports=m},{}],43:[function(E,I,M){const m=E("bl"),p=E("events"),d=E("./packet"),h=E("./constants"),s=E("debug")("mqtt-packet:parser");class t extends p{constructor(){super(),this.parser=this.constructor.parser}static parser(e){return this instanceof t?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new t().parser(e)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new d,this.error=null,this._list=m(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),s("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const e=this._list.readUInt8(0);return this.packet.cmd=h.types[e>>h.CMD_SHIFT],this.packet.retain=(e&h.RETAIN_MASK)!==0,this.packet.qos=e>>h.QOS_SHIFT&h.QOS_MASK,this.packet.dup=(e&h.DUP_MASK)!==0,s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),s("_parseLength %d",e.value),!!e}_parsePayload(){s("_parsePayload: payload %O",this._list);let e=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return s("_parsePayload complete result: %s",e),e}_parseConnect(){s("_parseConnect");let e,n,u,o;const y={},g=this.packet,f=this._parseString();if(f===null)return this._emitError(new Error("Cannot parse protocolId"));if(f!=="MQTT"&&f!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(g.protocolId=f,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(g.protocolVersion=this._list.readUInt8(this._pos),g.protocolVersion>=128&&(g.bridgeMode=!0,g.protocolVersion=g.protocolVersion-128),g.protocolVersion!==3&&g.protocolVersion!==4&&g.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(y.username=this._list.readUInt8(this._pos)&h.USERNAME_MASK,y.password=this._list.readUInt8(this._pos)&h.PASSWORD_MASK,y.will=this._list.readUInt8(this._pos)&h.WILL_FLAG_MASK,y.will&&(g.will={},g.will.retain=(this._list.readUInt8(this._pos)&h.WILL_RETAIN_MASK)!==0,g.will.qos=(this._list.readUInt8(this._pos)&h.WILL_QOS_MASK)>>h.WILL_QOS_SHIFT),g.clean=(this._list.readUInt8(this._pos)&h.CLEAN_SESSION_MASK)!==0,this._pos++,g.keepalive=this._parseNum(),g.keepalive===-1)return this._emitError(new Error("Packet too short"));if(g.protocolVersion===5){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(g.properties=v)}const i=this._parseString();if(i===null)return this._emitError(new Error("Packet too short"));if(g.clientId=i,s("_parseConnect: packet.clientId: %s",g.clientId),y.will){if(g.protocolVersion===5){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(g.will.properties=v)}if(e=this._parseString(),e===null)return this._emitError(new Error("Cannot parse will topic"));if(g.will.topic=e,s("_parseConnect: packet.will.topic: %s",g.will.topic),n=this._parseBuffer(),n===null)return this._emitError(new Error("Cannot parse will payload"));g.will.payload=n,s("_parseConnect: packet.will.paylaod: %s",g.will.payload)}if(y.username){if(o=this._parseString(),o===null)return this._emitError(new Error("Cannot parse username"));g.username=o,s("_parseConnect: packet.username: %s",g.username)}if(y.password){if(u=this._parseBuffer(),u===null)return this._emitError(new Error("Cannot parse password"));g.password=u}return this.settings=g,s("_parseConnect: complete"),g}_parseConnack(){s("_parseConnack");const e=this.packet;if(this._list.length<1)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&h.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(e.returnCode===-1||e.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");const e=this.packet;if(e.topic=this._parseString(),e.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}e.payload=this._list.slice(this._pos,e.length),s("_parsePublish: payload from buffer list: %o",e.payload)}}_parseSubscribe(){s("_parseSubscribe");const e=this.packet;let n,u,o,y,g,f,i;if(e.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(e.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(e.properties=v)}for(;this._pos<e.length;){if(n=this._parseString(),n===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=e.length)return this._emitError(new Error("Malformed Subscribe Payload"));u=this._parseByte(),o=u&h.SUBSCRIBE_OPTIONS_QOS_MASK,f=(u>>h.SUBSCRIBE_OPTIONS_NL_SHIFT&h.SUBSCRIBE_OPTIONS_NL_MASK)!==0,g=(u>>h.SUBSCRIBE_OPTIONS_RAP_SHIFT&h.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,y=u>>h.SUBSCRIBE_OPTIONS_RH_SHIFT&h.SUBSCRIBE_OPTIONS_RH_MASK,i={topic:n,qos:o},this.settings.protocolVersion===5?(i.nl=f,i.rap=g,i.rh=y):this.settings.bridgeMode&&(i.rh=0,i.rap=!0,i.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",i),e.subscriptions.push(i)}}}_parseSuback(){s("_parseSuback");const e=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){s("_parseUnsubscribe");const e=this.packet;if(e.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}for(;this._pos<e.length;){const n=this._parseString();if(n===null)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",n),e.unsubscriptions.push(n)}}}_parseUnsuback(){s("_parseUnsuback");const e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(this.settings.protocolVersion===5){const n=this._parseProperties();for(Object.getOwnPropertyNames(n).length&&(e.properties=n),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const e=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5&&(e.length>2?(e.reasonCode=this._parseByte(),s("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)):e.reasonCode=0,e.length>3)){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}return!0}_parseDisconnect(){const e=this.packet;if(s("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?e.reasonCode=this._parseByte():e.reasonCode=0;const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");const e=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));e.reasonCode=this._parseByte();const n=this._parseProperties();return Object.getOwnPropertyNames(n).length&&(e.properties=n),s("_parseAuth: result: true"),!0}_parseMessageId(){const e=this.packet;return e.messageId=this._parseNum(),e.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){const n=this._parseNum(),u=n+this._pos;if(n===-1||u>this._list.length||u>this.packet.length)return null;const o=this._list.toString("utf8",this._pos,u);return this._pos+=n,s("_parseString: result: %s",o),o}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const e=this._parseNum(),n=e+this._pos;if(e===-1||n>this._list.length||n>this.packet.length)return null;const u=this._list.slice(this._pos,n);return this._pos+=e,s("_parseBuffer: result: %o",u),u}_parseNum(){if(this._list.length-this._pos<2)return-1;const e=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const e=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){s("_parseVarByteNum");const n=4;let u=0,o=1,y=0,g=!1,f;const i=this._pos?this._pos:0;for(;u<n&&i+u<this._list.length;){if(f=this._list.readUInt8(i+u++),y+=o*(f&h.VARBYTEINT_MASK),o*=128,!(f&h.VARBYTEINT_FIN_MASK)){g=!0;break}if(this._list.length<=u)break}return!g&&u===n&&this._list.length>=u&&this._emitError(new Error("Invalid variable byte integer")),i&&(this._pos+=u),g=g?e?{bytes:u,value:y}:y:!1,s("_parseVarByteNum: result: %o",g),g}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",e),e}_parseByType(e){switch(s("_parseByType: type: %s",e),e){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");const e=this._parseVarByteNum(),u=this._pos+e,o={};for(;this._pos<u;){const y=this._parseByte();if(!y)return this._emitError(new Error("Cannot parse property code type")),!1;const g=h.propertiesCodes[y];if(!g)return this._emitError(new Error("Unknown property")),!1;if(g==="userProperties"){o[g]||(o[g]=Object.create(null));const f=this._parseByType(h.propertiesTypes[g]);if(o[g][f.name])if(Array.isArray(o[g][f.name]))o[g][f.name].push(f.value);else{const i=o[g][f.name];o[g][f.name]=[i],o[g][f.name].push(f.value)}else o[g][f.name]=f.value;continue}o[g]?Array.isArray(o[g])?o[g].push(this._parseByType(h.propertiesTypes[g])):(o[g]=[o[g]],o[g].push(this._parseByType(h.propertiesTypes[g]))):o[g]=this._parseByType(h.propertiesTypes[g])}return o}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new d,this._pos=0,!0}_emitError(e){s("_emitError"),this.error=e,this.emit("error",e)}}I.exports=t},{"./constants":38,"./packet":42,bl:15,debug:18,events:22}],44:[function(E,I,M){(function(m){(function(){const p=E("./constants"),d=m.allocUnsafe(0),h=m.from([0]),s=E("./numbers"),t=E("process-nextick-args").nextTick,r=E("debug")("mqtt-packet:writeToStream"),e=s.cache,n=s.generateNumber,u=s.generateCache,o=s.genBufVariableByteInt,y=s.generate4ByteBuffer;let g=D,f=!0;function i(q,U,J){switch(r("generate called"),U.cork&&(U.cork(),t(v,U)),f&&(f=!1,u()),r("generate: packet.cmd: %s",q.cmd),q.cmd){case"connect":return S(q,U);case"connack":return x(q,U,J);case"publish":return O(q,U,J);case"puback":case"pubrec":case"pubrel":case"pubcomp":return N(q,U,J);case"subscribe":return P(q,U,J);case"suback":return W(q,U,J);case"unsubscribe":return l(q,U,J);case"unsuback":return _(q,U,J);case"pingreq":case"pingresp":return b(q,U);case"disconnect":return j(q,U,J);case"auth":return V(q,U,J);default:return U.emit("error",new Error("Unknown command")),!1}}Object.defineProperty(i,"cacheNumbers",{get(){return g===D},set(q){q?((!e||Object.keys(e).length===0)&&(f=!0),g=D):(f=!1,g=G)}});function v(q){q.uncork()}function S(q,U,J){const B=q||{},L=B.protocolId||"MQTT";let z=B.protocolVersion||4;const Q=B.will;let Z=B.clean;const C=B.keepalive||0,A=B.clientId||"",w=B.username,a=B.password,c=B.properties;Z===void 0&&(Z=!0);let k=0;if(!L||typeof L!="string"&&!m.isBuffer(L))return U.emit("error",new Error("Invalid protocolId")),!1;if(k+=L.length+2,z!==3&&z!==4&&z!==5)return U.emit("error",new Error("Invalid protocol version")),!1;if(k+=1,(typeof A=="string"||m.isBuffer(A))&&(A||z>=4)&&(A||Z))k+=m.byteLength(A)+2;else{if(z<4)return U.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(Z*1===0)return U.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof C!="number"||C<0||C>65535||C%1!==0)return U.emit("error",new Error("Invalid keepalive")),!1;if(k+=2,k+=1,z===5){var F=K(U,c);if(!F)return!1;k+=F.length}if(Q){if(typeof Q!="object")return U.emit("error",new Error("Invalid will")),!1;if(!Q.topic||typeof Q.topic!="string")return U.emit("error",new Error("Invalid will topic")),!1;if(k+=m.byteLength(Q.topic)+2,k+=2,Q.payload)if(Q.payload.length>=0)typeof Q.payload=="string"?k+=m.byteLength(Q.payload):k+=Q.payload.length;else return U.emit("error",new Error("Invalid will payload")),!1;var te={};if(z===5){if(te=K(U,Q.properties),!te)return!1;k+=te.length}}let ne=!1;if(w!=null)if(se(w))ne=!0,k+=m.byteLength(w)+2;else return U.emit("error",new Error("Invalid username")),!1;if(a!=null){if(!ne)return U.emit("error",new Error("Username is required to use password")),!1;if(se(a))k+=ue(a)+2;else return U.emit("error",new Error("Invalid password")),!1}U.write(p.CONNECT_HEADER),X(U,k),oe(U,L),B.bridgeMode&&(z+=128),U.write(z===131?p.VERSION131:z===132?p.VERSION132:z===4?p.VERSION4:z===5?p.VERSION5:p.VERSION3);let fe=0;return fe|=w!=null?p.USERNAME_MASK:0,fe|=a!=null?p.PASSWORD_MASK:0,fe|=Q&&Q.retain?p.WILL_RETAIN_MASK:0,fe|=Q&&Q.qos?Q.qos<<p.WILL_QOS_SHIFT:0,fe|=Q?p.WILL_FLAG_MASK:0,fe|=Z?p.CLEAN_SESSION_MASK:0,U.write(m.from([fe])),g(U,C),z===5&&F.write(),oe(U,A),Q&&(z===5&&te.write(),T(U,Q.topic),oe(U,Q.payload)),w!=null&&oe(U,w),a!=null&&oe(U,a),!0}function x(q,U,J){const B=J?J.protocolVersion:4,L=q||{},z=B===5?L.reasonCode:L.returnCode,Q=L.properties;let Z=2;if(typeof z!="number")return U.emit("error",new Error("Invalid return code")),!1;let C=null;if(B===5){if(C=K(U,Q),!C)return!1;Z+=C.length}return U.write(p.CONNACK_HEADER),X(U,Z),U.write(L.sessionPresent?p.SESSIONPRESENT_HEADER:h),U.write(m.from([z])),C!=null&&C.write(),!0}function O(q,U,J){r("publish: packet: %o",q);const B=J?J.protocolVersion:4,L=q||{},z=L.qos||0,Q=L.retain?p.RETAIN_MASK:0,Z=L.topic,C=L.payload||d,A=L.messageId,w=L.properties;let a=0;if(typeof Z=="string")a+=m.byteLength(Z)+2;else if(m.isBuffer(Z))a+=Z.length+2;else return U.emit("error",new Error("Invalid topic")),!1;if(m.isBuffer(C)?a+=C.length:a+=m.byteLength(C),z&&typeof A!="number")return U.emit("error",new Error("Invalid messageId")),!1;z&&(a+=2);let c=null;if(B===5){if(c=K(U,w),!c)return!1;a+=c.length}return U.write(p.PUBLISH_HEADER[z][L.dup?1:0][Q?1:0]),X(U,a),g(U,ue(Z)),U.write(Z),z>0&&g(U,A),c!=null&&c.write(),r("publish: payload: %o",C),U.write(C)}function N(q,U,J){const B=J?J.protocolVersion:4,L=q||{},z=L.cmd||"puback",Q=L.messageId,Z=L.dup&&z==="pubrel"?p.DUP_MASK:0;let C=0;const A=L.reasonCode,w=L.properties;let a=B===5?3:2;if(z==="pubrel"&&(C=1),typeof Q!="number")return U.emit("error",new Error("Invalid messageId")),!1;let c=null;if(B===5&&typeof w=="object"){if(c=$(U,w,J,a),!c)return!1;a+=c.length}return U.write(p.ACKS[z][C][Z][0]),X(U,a),g(U,Q),B===5&&U.write(m.from([A])),c!==null&&c.write(),!0}function P(q,U,J){r("subscribe: packet: ");const B=J?J.protocolVersion:4,L=q||{},z=L.dup?p.DUP_MASK:0,Q=L.messageId,Z=L.subscriptions,C=L.properties;let A=0;if(typeof Q!="number")return U.emit("error",new Error("Invalid messageId")),!1;A+=2;let w=null;if(B===5){if(w=K(U,C),!w)return!1;A+=w.length}if(typeof Z=="object"&&Z.length)for(let c=0;c<Z.length;c+=1){const k=Z[c].topic,F=Z[c].qos;if(typeof k!="string")return U.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof F!="number")return U.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(B===5){if(typeof(Z[c].nl||!1)!="boolean")return U.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Z[c].rap||!1)!="boolean")return U.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const fe=Z[c].rh||0;if(typeof fe!="number"||fe>2)return U.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}A+=m.byteLength(k)+2+1}else return U.emit("error",new Error("Invalid subscriptions")),!1;r("subscribe: writing to stream: %o",p.SUBSCRIBE_HEADER),U.write(p.SUBSCRIBE_HEADER[1][z?1:0][0]),X(U,A),g(U,Q),w!==null&&w.write();let a=!0;for(const c of Z){const k=c.topic,F=c.qos,te=+c.nl,ne=+c.rap,fe=c.rh;let ce;T(U,k),ce=p.SUBSCRIBE_OPTIONS_QOS[F],B===5&&(ce|=te?p.SUBSCRIBE_OPTIONS_NL:0,ce|=ne?p.SUBSCRIBE_OPTIONS_RAP:0,ce|=fe?p.SUBSCRIBE_OPTIONS_RH[fe]:0),a=U.write(m.from([ce]))}return a}function W(q,U,J){const B=J?J.protocolVersion:4,L=q||{},z=L.messageId,Q=L.granted,Z=L.properties;let C=0;if(typeof z!="number")return U.emit("error",new Error("Invalid messageId")),!1;if(C+=2,typeof Q=="object"&&Q.length)for(let w=0;w<Q.length;w+=1){if(typeof Q[w]!="number")return U.emit("error",new Error("Invalid qos vector")),!1;C+=1}else return U.emit("error",new Error("Invalid qos vector")),!1;let A=null;if(B===5){if(A=$(U,Z,J,C),!A)return!1;C+=A.length}return U.write(p.SUBACK_HEADER),X(U,C),g(U,z),A!==null&&A.write(),U.write(m.from(Q))}function l(q,U,J){const B=J?J.protocolVersion:4,L=q||{},z=L.messageId,Q=L.dup?p.DUP_MASK:0,Z=L.unsubscriptions,C=L.properties;let A=0;if(typeof z!="number")return U.emit("error",new Error("Invalid messageId")),!1;if(A+=2,typeof Z=="object"&&Z.length)for(let c=0;c<Z.length;c+=1){if(typeof Z[c]!="string")return U.emit("error",new Error("Invalid unsubscriptions")),!1;A+=m.byteLength(Z[c])+2}else return U.emit("error",new Error("Invalid unsubscriptions")),!1;let w=null;if(B===5){if(w=K(U,C),!w)return!1;A+=w.length}U.write(p.UNSUBSCRIBE_HEADER[1][Q?1:0][0]),X(U,A),g(U,z),w!==null&&w.write();let a=!0;for(let c=0;c<Z.length;c++)a=T(U,Z[c]);return a}function _(q,U,J){const B=J?J.protocolVersion:4,L=q||{},z=L.messageId,Q=L.dup?p.DUP_MASK:0,Z=L.granted,C=L.properties,A=L.cmd,w=0;let a=2;if(typeof z!="number")return U.emit("error",new Error("Invalid messageId")),!1;if(B===5)if(typeof Z=="object"&&Z.length)for(let k=0;k<Z.length;k+=1){if(typeof Z[k]!="number")return U.emit("error",new Error("Invalid qos vector")),!1;a+=1}else return U.emit("error",new Error("Invalid qos vector")),!1;let c=null;if(B===5){if(c=$(U,C,J,a),!c)return!1;a+=c.length}return U.write(p.ACKS[A][w][Q][0]),X(U,a),g(U,z),c!==null&&c.write(),B===5&&U.write(m.from(Z)),!0}function b(q,U,J){return U.write(p.EMPTY[q.cmd])}function j(q,U,J){const B=J?J.protocolVersion:4,L=q||{},z=L.reasonCode,Q=L.properties;let Z=B===5?1:0,C=null;if(B===5){if(C=$(U,Q,J,Z),!C)return!1;Z+=C.length}return U.write(m.from([p.codes.disconnect<<4])),X(U,Z),B===5&&U.write(m.from([z])),C!==null&&C.write(),!0}function V(q,U,J){const B=J?J.protocolVersion:4,L=q||{},z=L.reasonCode,Q=L.properties;let Z=B===5?1:0;B!==5&&U.emit("error",new Error("Invalid mqtt version for auth packet"));const C=$(U,Q,J,Z);return C?(Z+=C.length,U.write(m.from([p.codes.auth<<4])),X(U,Z),U.write(m.from([z])),C!==null&&C.write(),!0):!1}const H={};function X(q,U){if(U>p.VARBYTEINT_MAX)return q.emit("error",new Error(`Invalid variable byte integer: ${U}`)),!1;let J=H[U];return J||(J=o(U),U<16384&&(H[U]=J)),r("writeVarByteInt: writing to stream: %o",J),q.write(J)}function T(q,U){const J=m.byteLength(U);return g(q,J),r("writeString: %s",U),q.write(U,"utf8")}function R(q,U,J){T(q,U),T(q,J)}function D(q,U){return r("writeNumberCached: number: %d",U),r("writeNumberCached: %o",e[U]),q.write(e[U])}function G(q,U){const J=n(U);return r("writeNumberGenerated: %o",J),q.write(J)}function ae(q,U){const J=y(U);return r("write4ByteNumber: %o",J),q.write(J)}function oe(q,U){typeof U=="string"?T(q,U):U?(g(q,U.length),q.write(U)):g(q,0)}function K(q,U){if(typeof U!="object"||U.length!=null)return{length:1,write(){re(q,{},0)}};let J=0;function B(z,Q){const Z=p.propertiesTypes[z];let C=0;switch(Z){case"byte":{if(typeof Q!="boolean")return q.emit("error",new Error(`Invalid ${z}: ${Q}`)),!1;C+=1+1;break}case"int8":{if(typeof Q!="number"||Q<0||Q>255)return q.emit("error",new Error(`Invalid ${z}: ${Q}`)),!1;C+=1+1;break}case"binary":{if(Q&&Q===null)return q.emit("error",new Error(`Invalid ${z}: ${Q}`)),!1;C+=1+m.byteLength(Q)+2;break}case"int16":{if(typeof Q!="number"||Q<0||Q>65535)return q.emit("error",new Error(`Invalid ${z}: ${Q}`)),!1;C+=1+2;break}case"int32":{if(typeof Q!="number"||Q<0||Q>4294967295)return q.emit("error",new Error(`Invalid ${z}: ${Q}`)),!1;C+=1+4;break}case"var":{if(typeof Q!="number"||Q<0||Q>268435455)return q.emit("error",new Error(`Invalid ${z}: ${Q}`)),!1;C+=1+m.byteLength(o(Q));break}case"string":{if(typeof Q!="string")return q.emit("error",new Error(`Invalid ${z}: ${Q}`)),!1;C+=1+2+m.byteLength(Q.toString());break}case"pair":{if(typeof Q!="object")return q.emit("error",new Error(`Invalid ${z}: ${Q}`)),!1;C+=Object.getOwnPropertyNames(Q).reduce((A,w)=>{const a=Q[w];return Array.isArray(a)?A+=a.reduce((c,k)=>(c+=1+2+m.byteLength(w.toString())+2+m.byteLength(k.toString()),c),0):A+=1+2+m.byteLength(w.toString())+2+m.byteLength(Q[w].toString()),A},0);break}default:return q.emit("error",new Error(`Invalid property ${z}: ${Q}`)),!1}return C}if(U)for(const z in U){let Q=0,Z=0;const C=U[z];if(Array.isArray(C))for(let A=0;A<C.length;A++){if(Z=B(z,C[A]),!Z)return!1;Q+=Z}else{if(Z=B(z,C),!Z)return!1;Q=Z}if(!Q)return!1;J+=Q}return{length:m.byteLength(o(J))+J,write(){re(q,U,J)}}}function $(q,U,J,B){const L=["reasonString","userProperties"],z=J&&J.properties&&J.properties.maximumPacketSize?J.properties.maximumPacketSize:0;let Q=K(q,U);if(z)for(;B+Q.length>z;){const Z=L.shift();if(Z&&U[Z])delete U[Z],Q=K(q,U);else return!1}return Q}function ie(q,U,J){switch(p.propertiesTypes[U]){case"byte":{q.write(m.from([p.properties[U]])),q.write(m.from([+J]));break}case"int8":{q.write(m.from([p.properties[U]])),q.write(m.from([J]));break}case"binary":{q.write(m.from([p.properties[U]])),oe(q,J);break}case"int16":{q.write(m.from([p.properties[U]])),g(q,J);break}case"int32":{q.write(m.from([p.properties[U]])),ae(q,J);break}case"var":{q.write(m.from([p.properties[U]])),X(q,J);break}case"string":{q.write(m.from([p.properties[U]])),T(q,J);break}case"pair":{Object.getOwnPropertyNames(J).forEach(L=>{const z=J[L];Array.isArray(z)?z.forEach(Q=>{q.write(m.from([p.properties[U]])),R(q,L.toString(),Q.toString())}):(q.write(m.from([p.properties[U]])),R(q,L.toString(),z.toString()))});break}default:return q.emit("error",new Error(`Invalid property ${U} value: ${J}`)),!1}}function re(q,U,J){X(q,J);for(const B in U)if(Object.prototype.hasOwnProperty.call(U,B)&&U[B]!==null){const L=U[B];if(Array.isArray(L))for(let z=0;z<L.length;z++)ie(q,B,L[z]);else ie(q,B,L)}}function ue(q){return q?q instanceof m?q.length:m.byteLength(q):0}function se(q){return typeof q=="string"||q instanceof m}I.exports=i}).call(this)}).call(this,E("buffer").Buffer)},{"./constants":38,"./numbers":41,buffer:17,debug:18,"process-nextick-args":49}],45:[function(E,I,M){var m=1e3,p=m*60,d=p*60,h=d*24,s=h*7,t=h*365.25;I.exports=function(o,y){y=y||{};var g=typeof o;if(g==="string"&&o.length>0)return r(o);if(g==="number"&&isFinite(o))return y.long?n(o):e(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))};function r(o){if(o=String(o),!(o.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(y){var g=parseFloat(y[1]),f=(y[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return g*t;case"weeks":case"week":case"w":return g*s;case"days":case"day":case"d":return g*h;case"hours":case"hour":case"hrs":case"hr":case"h":return g*d;case"minutes":case"minute":case"mins":case"min":case"m":return g*p;case"seconds":case"second":case"secs":case"sec":case"s":return g*m;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function e(o){var y=Math.abs(o);return y>=h?Math.round(o/h)+"d":y>=d?Math.round(o/d)+"h":y>=p?Math.round(o/p)+"m":y>=m?Math.round(o/m)+"s":o+"ms"}function n(o){var y=Math.abs(o);return y>=h?u(o,y,h,"day"):y>=d?u(o,y,d,"hour"):y>=p?u(o,y,p,"minute"):y>=m?u(o,y,m,"second"):o+" ms"}function u(o,y,g,f){var i=y>=g*1.5;return Math.round(o/g)+" "+f+(i?"s":"")}},{}],46:[function(E,I,M){const m=E("./lib/number-allocator.js");I.exports.NumberAllocator=m},{"./lib/number-allocator.js":47}],47:[function(E,I,M){const m=E("js-sdsl").Set,p=E("debug")("number-allocator:trace"),d=E("debug")("number-allocator:error");function h(t,r){this.low=t,this.high=r}h.prototype.equals=function(t){return this.low===t.low&&this.high===t.high},h.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0};function s(t,r){if(!(this instanceof s))return new s(t,r);this.min=t,this.max=r,this.ss=new m([],(e,n)=>e.compare(n)),p("Create"),this.clear()}s.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},s.prototype.alloc=function(){if(this.ss.size()===0)return p("alloc():empty"),null;const t=this.ss.front(),r=t.low;return r+1<=t.high?++t.low:this.ss.eraseElementByPos(0),p("alloc():"+r),r},s.prototype.use=function(t){const r=new h(t,t),e=this.ss.lowerBound(r);if(e){if(e.equals(r))return this.ss.eraseElementByValue(e),p("use():"+t),!0;if(e.low>t)return!1;if(e.low===t)return++e.low,p("use():"+t),!0;if(e.high===t)return--e.high,p("use():"+t),!0;const n=e.low;return e.low=t+1,this.ss.insert(new h(n,t-1)),p("use():"+t),!0}return p("use():failed"),!1},s.prototype.free=function(t){if(t<this.min||t>this.max){d("free():"+t+" is out of range");return}const r=new h(t,t),e=this.ss.lowerBound(r);if(e){if(e.low<=t&&t<=e.high){d("free():"+t+" has already been vacant");return}if(e===this.ss.front())t+1===e.low?--e.low:this.ss.insert(r);else{const n=this.ss.reverseLowerBound(r);n.high+1===t?t+1===e.low?(this.ss.eraseElementByValue(n),e.low=n.low):n.high=t:t+1===e.low?e.low=t:this.ss.insert(r)}}else{if(e===this.ss.front()){this.ss.insert(r);return}const n=this.ss.reverseLowerBound(r);n.high+1===t?n.high=t:this.ss.insert(r)}p("free():"+t)},s.prototype.clear=function(){p("clear()"),this.ss.clear(),this.ss.insert(new h(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(const t of this.ss)console.log(t)},I.exports=s},{debug:18,"js-sdsl":36}],48:[function(E,I,M){var m=E("wrappy");I.exports=m(p),I.exports.strict=m(d),p.proto=p(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return p(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return d(this)},configurable:!0})});function p(h){var s=function(){return s.called?s.value:(s.called=!0,s.value=h.apply(this,arguments))};return s.called=!1,s}function d(h){var s=function(){if(s.called)throw new Error(s.onceError);return s.called=!0,s.value=h.apply(this,arguments)},t=h.name||"Function wrapped with `once`";return s.onceError=t+" shouldn't be called more than once",s.called=!1,s}},{wrappy:79}],49:[function(E,I,M){(function(m){(function(){typeof m>"u"||!m.version||m.version.indexOf("v0.")===0||m.version.indexOf("v1.")===0&&m.version.indexOf("v1.8.")!==0?I.exports={nextTick:p}:I.exports=m;function p(d,h,s,t){if(typeof d!="function")throw new TypeError('"callback" argument must be a function');var r=arguments.length,e,n;switch(r){case 0:case 1:return m.nextTick(d);case 2:return m.nextTick(function(){d.call(null,h)});case 3:return m.nextTick(function(){d.call(null,h,s)});case 4:return m.nextTick(function(){d.call(null,h,s,t)});default:for(e=new Array(r-1),n=0;n<e.length;)e[n++]=arguments[n];return m.nextTick(function(){d.apply(null,e)})}}}).call(this)}).call(this,E("_process"))},{_process:50}],50:[function(E,I,M){var m=I.exports={},p,d;function h(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?p=setTimeout:p=h}catch{p=h}try{typeof clearTimeout=="function"?d=clearTimeout:d=s}catch{d=s}})();function t(v){if(p===setTimeout)return setTimeout(v,0);if((p===h||!p)&&setTimeout)return p=setTimeout,setTimeout(v,0);try{return p(v,0)}catch{try{return p.call(null,v,0)}catch{return p.call(this,v,0)}}}function r(v){if(d===clearTimeout)return clearTimeout(v);if((d===s||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(v);try{return d(v)}catch{try{return d.call(null,v)}catch{return d.call(this,v)}}}var e=[],n=!1,u,o=-1;function y(){!n||!u||(n=!1,u.length?e=u.concat(e):o=-1,e.length&&g())}function g(){if(!n){var v=t(y);n=!0;for(var S=e.length;S;){for(u=e,e=[];++o<S;)u&&u[o].run();o=-1,S=e.length}u=null,n=!1,r(v)}}m.nextTick=function(v){var S=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)S[x-1]=arguments[x];e.push(new f(v,S)),e.length===1&&!n&&t(g)};function f(v,S){this.fun=v,this.array=S}f.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={};function i(){}m.on=i,m.addListener=i,m.once=i,m.off=i,m.removeListener=i,m.removeAllListeners=i,m.emit=i,m.prependListener=i,m.prependOnceListener=i,m.listeners=function(v){return[]},m.binding=function(v){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(v){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],51:[function(E,I,M){(function(m){(function(){(function(p){var d=typeof M=="object"&&M&&!M.nodeType&&M,h=typeof I=="object"&&I&&!I.nodeType&&I,s=typeof m=="object"&&m;(s.global===s||s.window===s||s.self===s)&&(p=s);var t,r=2147483647,e=36,n=1,u=26,o=38,y=700,g=72,f=128,i="-",v=/^xn--/,S=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=e-n,P=Math.floor,W=String.fromCharCode,l;function _(K){throw new RangeError(O[K])}function b(K,$){for(var ie=K.length,re=[];ie--;)re[ie]=$(K[ie]);return re}function j(K,$){var ie=K.split("@"),re="";ie.length>1&&(re=ie[0]+"@",K=ie[1]),K=K.replace(x,".");var ue=K.split("."),se=b(ue,$).join(".");return re+se}function V(K){for(var $=[],ie=0,re=K.length,ue,se;ie<re;)ue=K.charCodeAt(ie++),ue>=55296&&ue<=56319&&ie<re?(se=K.charCodeAt(ie++),(se&64512)==56320?$.push(((ue&1023)<<10)+(se&1023)+65536):($.push(ue),ie--)):$.push(ue);return $}function H(K){return b(K,function($){var ie="";return $>65535&&($-=65536,ie+=W($>>>10&1023|55296),$=56320|$&1023),ie+=W($),ie}).join("")}function X(K){return K-48<10?K-22:K-65<26?K-65:K-97<26?K-97:e}function T(K,$){return K+22+75*(K<26)-(($!=0)<<5)}function R(K,$,ie){var re=0;for(K=ie?P(K/y):K>>1,K+=P(K/$);K>N*u>>1;re+=e)K=P(K/N);return P(re+(N+1)*K/(K+o))}function D(K){var $=[],ie=K.length,re,ue=0,se=f,q=g,U,J,B,L,z,Q,Z,C,A;for(U=K.lastIndexOf(i),U<0&&(U=0),J=0;J<U;++J)K.charCodeAt(J)>=128&&_("not-basic"),$.push(K.charCodeAt(J));for(B=U>0?U+1:0;B<ie;){for(L=ue,z=1,Q=e;B>=ie&&_("invalid-input"),Z=X(K.charCodeAt(B++)),(Z>=e||Z>P((r-ue)/z))&&_("overflow"),ue+=Z*z,C=Q<=q?n:Q>=q+u?u:Q-q,!(Z<C);Q+=e)A=e-C,z>P(r/A)&&_("overflow"),z*=A;re=$.length+1,q=R(ue-L,re,L==0),P(ue/re)>r-se&&_("overflow"),se+=P(ue/re),ue%=re,$.splice(ue++,0,se)}return H($)}function G(K){var $,ie,re,ue,se,q,U,J,B,L,z,Q=[],Z,C,A,w;for(K=V(K),Z=K.length,$=f,ie=0,se=g,q=0;q<Z;++q)z=K[q],z<128&&Q.push(W(z));for(re=ue=Q.length,ue&&Q.push(i);re<Z;){for(U=r,q=0;q<Z;++q)z=K[q],z>=$&&z<U&&(U=z);for(C=re+1,U-$>P((r-ie)/C)&&_("overflow"),ie+=(U-$)*C,$=U,q=0;q<Z;++q)if(z=K[q],z<$&&++ie>r&&_("overflow"),z==$){for(J=ie,B=e;L=B<=se?n:B>=se+u?u:B-se,!(J<L);B+=e)w=J-L,A=e-L,Q.push(W(T(L+w%A,0))),J=P(w/A);Q.push(W(T(J,0))),se=R(ie,C,re==ue),ie=0,++re}++ie,++$}return Q.join("")}function ae(K){return j(K,function($){return v.test($)?D($.slice(4).toLowerCase()):$})}function oe(K){return j(K,function($){return S.test($)?"xn--"+G($):$})}if(t={version:"1.4.1",ucs2:{decode:V,encode:H},decode:D,encode:G,toASCII:oe,toUnicode:ae},d&&h)if(I.exports==d)h.exports=t;else for(l in t)t.hasOwnProperty(l)&&(d[l]=t[l]);else p.punycode=t})(this)}).call(this)}).call(this,typeof we<"u"?we:typeof self<"u"?self:typeof window<"u"?window:{})},{}],52:[function(E,I,M){function m(d,h){return Object.prototype.hasOwnProperty.call(d,h)}I.exports=function(d,h,s,t){h=h||"&",s=s||"=";var r={};if(typeof d!="string"||d.length===0)return r;var e=/\+/g;d=d.split(h);var n=1e3;t&&typeof t.maxKeys=="number"&&(n=t.maxKeys);var u=d.length;n>0&&u>n&&(u=n);for(var o=0;o<u;++o){var y=d[o].replace(e,"%20"),g=y.indexOf(s),f,i,v,S;g>=0?(f=y.substr(0,g),i=y.substr(g+1)):(f=y,i=""),v=decodeURIComponent(f),S=decodeURIComponent(i),m(r,v)?p(r[v])?r[v].push(S):r[v]=[r[v],S]:r[v]=S}return r};var p=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"}},{}],53:[function(E,I,M){var m=function(s){switch(typeof s){case"string":return s;case"boolean":return s?"true":"false";case"number":return isFinite(s)?s:"";default:return""}};I.exports=function(s,t,r,e){return t=t||"&",r=r||"=",s===null&&(s=void 0),typeof s=="object"?d(h(s),function(n){var u=encodeURIComponent(m(n))+r;return p(s[n])?d(s[n],function(o){return u+encodeURIComponent(m(o))}).join(t):u+encodeURIComponent(m(s[n]))}).join(t):e?encodeURIComponent(m(e))+r+encodeURIComponent(m(s)):""};var p=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function d(s,t){if(s.map)return s.map(t);for(var r=[],e=0;e<s.length;e++)r.push(t(s[e],e));return r}var h=Object.keys||function(s){var t=[];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.push(r);return t}},{}],54:[function(E,I,M){M.decode=M.parse=E("./decode"),M.encode=M.stringify=E("./encode")},{"./decode":52,"./encode":53}],55:[function(E,I,M){function m(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var p={};function d(e,n,u){u||(u=Error);function o(g,f,i){return typeof n=="string"?n:n(g,f,i)}var y=function(g){m(f,g);function f(i,v,S){return g.call(this,o(i,v,S))||this}return f}(u);y.prototype.name=u.name,y.prototype.code=e,p[e]=y}function h(e,n){if(Array.isArray(e)){var u=e.length;return e=e.map(function(o){return String(o)}),u>2?"one of ".concat(n," ").concat(e.slice(0,u-1).join(", "),", or ")+e[u-1]:u===2?"one of ".concat(n," ").concat(e[0]," or ").concat(e[1]):"of ".concat(n," ").concat(e[0])}else return"of ".concat(n," ").concat(String(e))}function s(e,n,u){return e.substr(!u||u<0?0:+u,n.length)===n}function t(e,n,u){return(u===void 0||u>e.length)&&(u=e.length),e.substring(u-n.length,u)===n}function r(e,n,u){return typeof u!="number"&&(u=0),u+n.length>e.length?!1:e.indexOf(n,u)!==-1}d("ERR_INVALID_OPT_VALUE",function(e,n){return'The value "'+n+'" is invalid for option "'+e+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(e,n,u){var o;typeof n=="string"&&s(n,"not ")?(o="must not be",n=n.replace(/^not /,"")):o="must be";var y;if(t(e," argument"))y="The ".concat(e," ").concat(o," ").concat(h(n,"type"));else{var g=r(e,".")?"property":"argument";y='The "'.concat(e,'" ').concat(g," ").concat(o," ").concat(h(n,"type"))}return y+=". Received type ".concat(typeof u),y},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),I.exports.codes=p},{}],56:[function(E,I,M){(function(m){(function(){var p=Object.keys||function(o){var y=[];for(var g in o)y.push(g);return y};I.exports=e;var d=E("./_stream_readable"),h=E("./_stream_writable");E("inherits")(e,d);for(var s=p(h.prototype),t=0;t<s.length;t++){var r=s[t];e.prototype[r]||(e.prototype[r]=h.prototype[r])}function e(o){if(!(this instanceof e))return new e(o);d.call(this,o),h.call(this,o),this.allowHalfOpen=!0,o&&(o.readable===!1&&(this.readable=!1),o.writable===!1&&(this.writable=!1),o.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",n)))}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function n(){this._writableState.ended||m.nextTick(u,this)}function u(o){o.end()}Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,E("_process"))},{"./_stream_readable":58,"./_stream_writable":60,_process:50,inherits:24}],57:[function(E,I,M){I.exports=p;var m=E("./_stream_transform");E("inherits")(p,m);function p(d){if(!(this instanceof p))return new p(d);m.call(this,d)}p.prototype._transform=function(d,h,s){s(null,d)}},{"./_stream_transform":59,inherits:24}],58:[function(E,I,M){(function(m,p){(function(){I.exports=H;var d;H.ReadableState=V,E("events").EventEmitter;var h=function(A,w){return A.listeners(w).length},s=E("./internal/streams/stream"),t=E("buffer").Buffer,r=p.Uint8Array||function(){};function e(C){return t.from(C)}function n(C){return t.isBuffer(C)||C instanceof r}var u=E("util"),o;u&&u.debuglog?o=u.debuglog("stream"):o=function(){};var y=E("./internal/streams/buffer_list"),g=E("./internal/streams/destroy"),f=E("./internal/streams/state"),i=f.getHighWaterMark,v=E("../errors").codes,S=v.ERR_INVALID_ARG_TYPE,x=v.ERR_STREAM_PUSH_AFTER_EOF,O=v.ERR_METHOD_NOT_IMPLEMENTED,N=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,P,W,l;E("inherits")(H,s);var _=g.errorOrDestroy,b=["error","close","destroy","pause","resume"];function j(C,A,w){if(typeof C.prependListener=="function")return C.prependListener(A,w);!C._events||!C._events[A]?C.on(A,w):Array.isArray(C._events[A])?C._events[A].unshift(w):C._events[A]=[w,C._events[A]]}function V(C,A,w){d=d||E("./_stream_duplex"),C=C||{},typeof w!="boolean"&&(w=A instanceof d),this.objectMode=!!C.objectMode,w&&(this.objectMode=this.objectMode||!!C.readableObjectMode),this.highWaterMark=i(this,C,"readableHighWaterMark",w),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(P||(P=E("string_decoder/").StringDecoder),this.decoder=new P(C.encoding),this.encoding=C.encoding)}function H(C){if(d=d||E("./_stream_duplex"),!(this instanceof H))return new H(C);var A=this instanceof d;this._readableState=new V(C,this,A),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),s.call(this)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(A){this._readableState&&(this._readableState.destroyed=A)}}),H.prototype.destroy=g.destroy,H.prototype._undestroy=g.undestroy,H.prototype._destroy=function(C,A){A(C)},H.prototype.push=function(C,A){var w=this._readableState,a;return w.objectMode?a=!0:typeof C=="string"&&(A=A||w.defaultEncoding,A!==w.encoding&&(C=t.from(C,A),A=""),a=!0),X(this,C,A,!1,a)},H.prototype.unshift=function(C){return X(this,C,null,!0,!1)};function X(C,A,w,a,c){o("readableAddChunk",A);var k=C._readableState;if(A===null)k.reading=!1,oe(C,k);else{var F;if(c||(F=R(k,A)),F)_(C,F);else if(k.objectMode||A&&A.length>0)if(typeof A!="string"&&!k.objectMode&&Object.getPrototypeOf(A)!==t.prototype&&(A=e(A)),a)k.endEmitted?_(C,new N):T(C,k,A,!0);else if(k.ended)_(C,new x);else{if(k.destroyed)return!1;k.reading=!1,k.decoder&&!w?(A=k.decoder.write(A),k.objectMode||A.length!==0?T(C,k,A,!1):ie(C,k)):T(C,k,A,!1)}else a||(k.reading=!1,ie(C,k))}return!k.ended&&(k.length<k.highWaterMark||k.length===0)}function T(C,A,w,a){A.flowing&&A.length===0&&!A.sync?(A.awaitDrain=0,C.emit("data",w)):(A.length+=A.objectMode?1:w.length,a?A.buffer.unshift(w):A.buffer.push(w),A.needReadable&&K(C)),ie(C,A)}function R(C,A){var w;return!n(A)&&typeof A!="string"&&A!==void 0&&!C.objectMode&&(w=new S("chunk",["string","Buffer","Uint8Array"],A)),w}H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(C){P||(P=E("string_decoder/").StringDecoder);var A=new P(C);this._readableState.decoder=A,this._readableState.encoding=this._readableState.decoder.encoding;for(var w=this._readableState.buffer.head,a="";w!==null;)a+=A.write(w.data),w=w.next;return this._readableState.buffer.clear(),a!==""&&this._readableState.buffer.push(a),this._readableState.length=a.length,this};var D=1073741824;function G(C){return C>=D?C=D:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function ae(C,A){return C<=0||A.length===0&&A.ended?0:A.objectMode?1:C!==C?A.flowing&&A.length?A.buffer.head.data.length:A.length:(C>A.highWaterMark&&(A.highWaterMark=G(C)),C<=A.length?C:A.ended?A.length:(A.needReadable=!0,0))}H.prototype.read=function(C){o("read",C),C=parseInt(C,10);var A=this._readableState,w=C;if(C!==0&&(A.emittedReadable=!1),C===0&&A.needReadable&&((A.highWaterMark!==0?A.length>=A.highWaterMark:A.length>0)||A.ended))return o("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?z(this):K(this),null;if(C=ae(C,A),C===0&&A.ended)return A.length===0&&z(this),null;var a=A.needReadable;o("need readable",a),(A.length===0||A.length-C<A.highWaterMark)&&(a=!0,o("length less than watermark",a)),A.ended||A.reading?(a=!1,o("reading or ended",a)):a&&(o("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(C=ae(w,A)));var c;return C>0?c=L(C,A):c=null,c===null?(A.needReadable=A.length<=A.highWaterMark,C=0):(A.length-=C,A.awaitDrain=0),A.length===0&&(A.ended||(A.needReadable=!0),w!==C&&A.ended&&z(this)),c!==null&&this.emit("data",c),c};function oe(C,A){if(o("onEofChunk"),!A.ended){if(A.decoder){var w=A.decoder.end();w&&w.length&&(A.buffer.push(w),A.length+=A.objectMode?1:w.length)}A.ended=!0,A.sync?K(C):(A.needReadable=!1,A.emittedReadable||(A.emittedReadable=!0,$(C)))}}function K(C){var A=C._readableState;o("emitReadable",A.needReadable,A.emittedReadable),A.needReadable=!1,A.emittedReadable||(o("emitReadable",A.flowing),A.emittedReadable=!0,m.nextTick($,C))}function $(C){var A=C._readableState;o("emitReadable_",A.destroyed,A.length,A.ended),!A.destroyed&&(A.length||A.ended)&&(C.emit("readable"),A.emittedReadable=!1),A.needReadable=!A.flowing&&!A.ended&&A.length<=A.highWaterMark,B(C)}function ie(C,A){A.readingMore||(A.readingMore=!0,m.nextTick(re,C,A))}function re(C,A){for(;!A.reading&&!A.ended&&(A.length<A.highWaterMark||A.flowing&&A.length===0);){var w=A.length;if(o("maybeReadMore read 0"),C.read(0),w===A.length)break}A.readingMore=!1}H.prototype._read=function(C){_(this,new O("_read()"))},H.prototype.pipe=function(C,A){var w=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=C;break;case 1:a.pipes=[a.pipes,C];break;default:a.pipes.push(C);break}a.pipesCount+=1,o("pipe count=%d opts=%j",a.pipesCount,A);var c=(!A||A.end!==!1)&&C!==m.stdout&&C!==m.stderr,k=c?te:Se;a.endEmitted?m.nextTick(k):w.once("end",k),C.on("unpipe",F);function F(_e,Te){o("onunpipe"),_e===w&&Te&&Te.hasUnpiped===!1&&(Te.hasUnpiped=!0,ce())}function te(){o("onend"),C.end()}var ne=ue(w);C.on("drain",ne);var fe=!1;function ce(){o("cleanup"),C.removeListener("close",pe),C.removeListener("finish",Ee),C.removeListener("drain",ne),C.removeListener("error",ge),C.removeListener("unpipe",F),w.removeListener("end",te),w.removeListener("end",Se),w.removeListener("data",de),fe=!0,a.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&ne()}w.on("data",de);function de(_e){o("ondata");var Te=C.write(_e);o("dest.write",Te),Te===!1&&((a.pipesCount===1&&a.pipes===C||a.pipesCount>1&&Z(a.pipes,C)!==-1)&&!fe&&(o("false write response, pause",a.awaitDrain),a.awaitDrain++),w.pause())}function ge(_e){o("onerror",_e),Se(),C.removeListener("error",ge),h(C,"error")===0&&_(C,_e)}j(C,"error",ge);function pe(){C.removeListener("finish",Ee),Se()}C.once("close",pe);function Ee(){o("onfinish"),C.removeListener("close",pe),Se()}C.once("finish",Ee);function Se(){o("unpipe"),w.unpipe(C)}return C.emit("pipe",w),a.flowing||(o("pipe resume"),w.resume()),C};function ue(C){return function(){var w=C._readableState;o("pipeOnDrain",w.awaitDrain),w.awaitDrain&&w.awaitDrain--,w.awaitDrain===0&&h(C,"data")&&(w.flowing=!0,B(C))}}H.prototype.unpipe=function(C){var A=this._readableState,w={hasUnpiped:!1};if(A.pipesCount===0)return this;if(A.pipesCount===1)return C&&C!==A.pipes?this:(C||(C=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,C&&C.emit("unpipe",this,w),this);if(!C){var a=A.pipes,c=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var k=0;k<c;k++)a[k].emit("unpipe",this,{hasUnpiped:!1});return this}var F=Z(A.pipes,C);return F===-1?this:(A.pipes.splice(F,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),C.emit("unpipe",this,w),this)},H.prototype.on=function(C,A){var w=s.prototype.on.call(this,C,A),a=this._readableState;return C==="data"?(a.readableListening=this.listenerCount("readable")>0,a.flowing!==!1&&this.resume()):C==="readable"&&!a.endEmitted&&!a.readableListening&&(a.readableListening=a.needReadable=!0,a.flowing=!1,a.emittedReadable=!1,o("on readable",a.length,a.reading),a.length?K(this):a.reading||m.nextTick(q,this)),w},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(C,A){var w=s.prototype.removeListener.call(this,C,A);return C==="readable"&&m.nextTick(se,this),w},H.prototype.removeAllListeners=function(C){var A=s.prototype.removeAllListeners.apply(this,arguments);return(C==="readable"||C===void 0)&&m.nextTick(se,this),A};function se(C){var A=C._readableState;A.readableListening=C.listenerCount("readable")>0,A.resumeScheduled&&!A.paused?A.flowing=!0:C.listenerCount("data")>0&&C.resume()}function q(C){o("readable nexttick read 0"),C.read(0)}H.prototype.resume=function(){var C=this._readableState;return C.flowing||(o("resume"),C.flowing=!C.readableListening,U(this,C)),C.paused=!1,this};function U(C,A){A.resumeScheduled||(A.resumeScheduled=!0,m.nextTick(J,C,A))}function J(C,A){o("resume",A.reading),A.reading||C.read(0),A.resumeScheduled=!1,C.emit("resume"),B(C),A.flowing&&!A.reading&&C.read(0)}H.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function B(C){var A=C._readableState;for(o("flow",A.flowing);A.flowing&&C.read()!==null;);}H.prototype.wrap=function(C){var A=this,w=this._readableState,a=!1;C.on("end",function(){if(o("wrapped end"),w.decoder&&!w.ended){var F=w.decoder.end();F&&F.length&&A.push(F)}A.push(null)}),C.on("data",function(F){if(o("wrapped data"),w.decoder&&(F=w.decoder.write(F)),!(w.objectMode&&F==null)&&!(!w.objectMode&&(!F||!F.length))){var te=A.push(F);te||(a=!0,C.pause())}});for(var c in C)this[c]===void 0&&typeof C[c]=="function"&&(this[c]=function(te){return function(){return C[te].apply(C,arguments)}}(c));for(var k=0;k<b.length;k++)C.on(b[k],this.emit.bind(this,b[k]));return this._read=function(F){o("wrapped _read",F),a&&(a=!1,C.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return W===void 0&&(W=E("./internal/streams/async_iterator")),W(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(A){this._readableState&&(this._readableState.flowing=A)}}),H._fromList=L,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function L(C,A){if(A.length===0)return null;var w;return A.objectMode?w=A.buffer.shift():!C||C>=A.length?(A.decoder?w=A.buffer.join(""):A.buffer.length===1?w=A.buffer.first():w=A.buffer.concat(A.length),A.buffer.clear()):w=A.buffer.consume(C,A.decoder),w}function z(C){var A=C._readableState;o("endReadable",A.endEmitted),A.endEmitted||(A.ended=!0,m.nextTick(Q,A,C))}function Q(C,A){if(o("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&C.length===0&&(C.endEmitted=!0,A.readable=!1,A.emit("end"),C.autoDestroy)){var w=A._writableState;(!w||w.autoDestroy&&w.finished)&&A.destroy()}}typeof Symbol=="function"&&(H.from=function(C,A){return l===void 0&&(l=E("./internal/streams/from")),l(H,C,A)});function Z(C,A){for(var w=0,a=C.length;w<a;w++)if(C[w]===A)return w;return-1}}).call(this)}).call(this,E("_process"),typeof we<"u"?we:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,events:22,inherits:24,"string_decoder/":75,util:16}],59:[function(E,I,M){I.exports=e;var m=E("../errors").codes,p=m.ERR_METHOD_NOT_IMPLEMENTED,d=m.ERR_MULTIPLE_CALLBACK,h=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=m.ERR_TRANSFORM_WITH_LENGTH_0,t=E("./_stream_duplex");E("inherits")(e,t);function r(o,y){var g=this._transformState;g.transforming=!1;var f=g.writecb;if(f===null)return this.emit("error",new d);g.writechunk=null,g.writecb=null,y!=null&&this.push(y),f(o);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function e(o){if(!(this instanceof e))return new e(o);t.call(this,o),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&(typeof o.transform=="function"&&(this._transform=o.transform),typeof o.flush=="function"&&(this._flush=o.flush)),this.on("prefinish",n)}function n(){var o=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(y,g){u(o,y,g)}):u(this,null,null)}e.prototype.push=function(o,y){return this._transformState.needTransform=!1,t.prototype.push.call(this,o,y)},e.prototype._transform=function(o,y,g){g(new p("_transform()"))},e.prototype._write=function(o,y,g){var f=this._transformState;if(f.writecb=g,f.writechunk=o,f.writeencoding=y,!f.transforming){var i=this._readableState;(f.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},e.prototype._read=function(o){var y=this._transformState;y.writechunk!==null&&!y.transforming?(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform)):y.needTransform=!0},e.prototype._destroy=function(o,y){t.prototype._destroy.call(this,o,function(g){y(g)})};function u(o,y,g){if(y)return o.emit("error",y);if(g!=null&&o.push(g),o._writableState.length)throw new s;if(o._transformState.transforming)throw new h;return o.push(null)}},{"../errors":55,"./_stream_duplex":56,inherits:24}],60:[function(E,I,M){(function(m,p){(function(){I.exports=V;function d(B){var L=this;this.next=null,this.entry=null,this.finish=function(){J(L,B)}}var h;V.WritableState=b;var s={deprecate:E("util-deprecate")},t=E("./internal/streams/stream"),r=E("buffer").Buffer,e=p.Uint8Array||function(){};function n(B){return r.from(B)}function u(B){return r.isBuffer(B)||B instanceof e}var o=E("./internal/streams/destroy"),y=E("./internal/streams/state"),g=y.getHighWaterMark,f=E("../errors").codes,i=f.ERR_INVALID_ARG_TYPE,v=f.ERR_METHOD_NOT_IMPLEMENTED,S=f.ERR_MULTIPLE_CALLBACK,x=f.ERR_STREAM_CANNOT_PIPE,O=f.ERR_STREAM_DESTROYED,N=f.ERR_STREAM_NULL_VALUES,P=f.ERR_STREAM_WRITE_AFTER_END,W=f.ERR_UNKNOWN_ENCODING,l=o.errorOrDestroy;E("inherits")(V,t);function _(){}function b(B,L,z){h=h||E("./_stream_duplex"),B=B||{},typeof z!="boolean"&&(z=L instanceof h),this.objectMode=!!B.objectMode,z&&(this.objectMode=this.objectMode||!!B.writableObjectMode),this.highWaterMark=g(this,B,"writableHighWaterMark",z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Q=B.decodeStrings===!1;this.decodeStrings=!Q,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){oe(L,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}b.prototype.getBuffer=function(){for(var L=this.bufferedRequest,z=[];L;)z.push(L),L=L.next;return z},function(){try{Object.defineProperty(b.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var j;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(j=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(L){return j.call(this,L)?!0:this!==V?!1:L&&L._writableState instanceof b}})):j=function(L){return L instanceof this};function V(B){h=h||E("./_stream_duplex");var L=this instanceof h;if(!L&&!j.call(V,this))return new V(B);this._writableState=new b(B,this,L),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),t.call(this)}V.prototype.pipe=function(){l(this,new x)};function H(B,L){var z=new P;l(B,z),m.nextTick(L,z)}function X(B,L,z,Q){var Z;return z===null?Z=new N:typeof z!="string"&&!L.objectMode&&(Z=new i("chunk",["string","Buffer"],z)),Z?(l(B,Z),m.nextTick(Q,Z),!1):!0}V.prototype.write=function(B,L,z){var Q=this._writableState,Z=!1,C=!Q.objectMode&&u(B);return C&&!r.isBuffer(B)&&(B=n(B)),typeof L=="function"&&(z=L,L=null),C?L="buffer":L||(L=Q.defaultEncoding),typeof z!="function"&&(z=_),Q.ending?H(this,z):(C||X(this,Q,B,z))&&(Q.pendingcb++,Z=R(this,Q,C,B,L,z)),Z},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,!B.writing&&!B.corked&&!B.bufferProcessing&&B.bufferedRequest&&ie(this,B))},V.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=L.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((L+"").toLowerCase())>-1))throw new W(L);return this._writableState.defaultEncoding=L,this},Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function T(B,L,z){return!B.objectMode&&B.decodeStrings!==!1&&typeof L=="string"&&(L=r.from(L,z)),L}Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(B,L,z,Q,Z,C){if(!z){var A=T(L,Q,Z);Q!==A&&(z=!0,Z="buffer",Q=A)}var w=L.objectMode?1:Q.length;L.length+=w;var a=L.length<L.highWaterMark;if(a||(L.needDrain=!0),L.writing||L.corked){var c=L.lastBufferedRequest;L.lastBufferedRequest={chunk:Q,encoding:Z,isBuf:z,callback:C,next:null},c?c.next=L.lastBufferedRequest:L.bufferedRequest=L.lastBufferedRequest,L.bufferedRequestCount+=1}else D(B,L,!1,w,Q,Z,C);return a}function D(B,L,z,Q,Z,C,A){L.writelen=Q,L.writecb=A,L.writing=!0,L.sync=!0,L.destroyed?L.onwrite(new O("write")):z?B._writev(Z,L.onwrite):B._write(Z,C,L.onwrite),L.sync=!1}function G(B,L,z,Q,Z){--L.pendingcb,z?(m.nextTick(Z,Q),m.nextTick(q,B,L),B._writableState.errorEmitted=!0,l(B,Q)):(Z(Q),B._writableState.errorEmitted=!0,l(B,Q),q(B,L))}function ae(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}function oe(B,L){var z=B._writableState,Q=z.sync,Z=z.writecb;if(typeof Z!="function")throw new S;if(ae(z),L)G(B,z,Q,L,Z);else{var C=re(z)||B.destroyed;!C&&!z.corked&&!z.bufferProcessing&&z.bufferedRequest&&ie(B,z),Q?m.nextTick(K,B,z,C,Z):K(B,z,C,Z)}}function K(B,L,z,Q){z||$(B,L),L.pendingcb--,Q(),q(B,L)}function $(B,L){L.length===0&&L.needDrain&&(L.needDrain=!1,B.emit("drain"))}function ie(B,L){L.bufferProcessing=!0;var z=L.bufferedRequest;if(B._writev&&z&&z.next){var Q=L.bufferedRequestCount,Z=new Array(Q),C=L.corkedRequestsFree;C.entry=z;for(var A=0,w=!0;z;)Z[A]=z,z.isBuf||(w=!1),z=z.next,A+=1;Z.allBuffers=w,D(B,L,!0,L.length,Z,"",C.finish),L.pendingcb++,L.lastBufferedRequest=null,C.next?(L.corkedRequestsFree=C.next,C.next=null):L.corkedRequestsFree=new d(L),L.bufferedRequestCount=0}else{for(;z;){var a=z.chunk,c=z.encoding,k=z.callback,F=L.objectMode?1:a.length;if(D(B,L,!1,F,a,c,k),z=z.next,L.bufferedRequestCount--,L.writing)break}z===null&&(L.lastBufferedRequest=null)}L.bufferedRequest=z,L.bufferProcessing=!1}V.prototype._write=function(B,L,z){z(new v("_write()"))},V.prototype._writev=null,V.prototype.end=function(B,L,z){var Q=this._writableState;return typeof B=="function"?(z=B,B=null,L=null):typeof L=="function"&&(z=L,L=null),B!=null&&this.write(B,L),Q.corked&&(Q.corked=1,this.uncork()),Q.ending||U(this,Q,z),this},Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function re(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function ue(B,L){B._final(function(z){L.pendingcb--,z&&l(B,z),L.prefinished=!0,B.emit("prefinish"),q(B,L)})}function se(B,L){!L.prefinished&&!L.finalCalled&&(typeof B._final=="function"&&!L.destroyed?(L.pendingcb++,L.finalCalled=!0,m.nextTick(ue,B,L)):(L.prefinished=!0,B.emit("prefinish")))}function q(B,L){var z=re(L);if(z&&(se(B,L),L.pendingcb===0&&(L.finished=!0,B.emit("finish"),L.autoDestroy))){var Q=B._readableState;(!Q||Q.autoDestroy&&Q.endEmitted)&&B.destroy()}return z}function U(B,L,z){L.ending=!0,q(B,L),z&&(L.finished?m.nextTick(z):B.once("finish",z)),L.ended=!0,B.writable=!1}function J(B,L,z){var Q=B.entry;for(B.entry=null;Q;){var Z=Q.callback;L.pendingcb--,Z(z),Q=Q.next}L.corkedRequestsFree.next=B}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(L){this._writableState&&(this._writableState.destroyed=L)}}),V.prototype.destroy=o.destroy,V.prototype._undestroy=o.undestroy,V.prototype._destroy=function(B,L){L(B)}}).call(this)}).call(this,E("_process"),typeof we<"u"?we:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,inherits:24,"util-deprecate":78}],61:[function(E,I,M){(function(m){(function(){var p;function d(O,N,P){return N in O?Object.defineProperty(O,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):O[N]=P,O}var h=E("./end-of-stream"),s=Symbol("lastResolve"),t=Symbol("lastReject"),r=Symbol("error"),e=Symbol("ended"),n=Symbol("lastPromise"),u=Symbol("handlePromise"),o=Symbol("stream");function y(O,N){return{value:O,done:N}}function g(O){var N=O[s];if(N!==null){var P=O[o].read();P!==null&&(O[n]=null,O[s]=null,O[t]=null,N(y(P,!1)))}}function f(O){m.nextTick(g,O)}function i(O,N){return function(P,W){O.then(function(){if(N[e]){P(y(void 0,!0));return}N[u](P,W)},W)}}var v=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((p={get stream(){return this[o]},next:function(){var N=this,P=this[r];if(P!==null)return Promise.reject(P);if(this[e])return Promise.resolve(y(void 0,!0));if(this[o].destroyed)return new Promise(function(b,j){m.nextTick(function(){N[r]?j(N[r]):b(y(void 0,!0))})});var W=this[n],l;if(W)l=new Promise(i(W,this));else{var _=this[o].read();if(_!==null)return Promise.resolve(y(_,!1));l=new Promise(this[u])}return this[n]=l,l}},d(p,Symbol.asyncIterator,function(){return this}),d(p,"return",function(){var N=this;return new Promise(function(P,W){N[o].destroy(null,function(l){if(l){W(l);return}P(y(void 0,!0))})})}),p),v),x=function(N){var P,W=Object.create(S,(P={},d(P,o,{value:N,writable:!0}),d(P,s,{value:null,writable:!0}),d(P,t,{value:null,writable:!0}),d(P,r,{value:null,writable:!0}),d(P,e,{value:N._readableState.endEmitted,writable:!0}),d(P,u,{value:function(_,b){var j=W[o].read();j?(W[n]=null,W[s]=null,W[t]=null,_(y(j,!1))):(W[s]=_,W[t]=b)},writable:!0}),P));return W[n]=null,h(N,function(l){if(l&&l.code!=="ERR_STREAM_PREMATURE_CLOSE"){var _=W[t];_!==null&&(W[n]=null,W[s]=null,W[t]=null,_(l)),W[r]=l;return}var b=W[s];b!==null&&(W[n]=null,W[s]=null,W[t]=null,b(y(void 0,!0))),W[e]=!0}),N.on("readable",f.bind(null,W)),W};I.exports=x}).call(this)}).call(this,E("_process"))},{"./end-of-stream":64,_process:50}],62:[function(E,I,M){function m(g,f){var i=Object.keys(g);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);f&&(v=v.filter(function(S){return Object.getOwnPropertyDescriptor(g,S).enumerable})),i.push.apply(i,v)}return i}function p(g){for(var f=1;f<arguments.length;f++){var i=arguments[f]!=null?arguments[f]:{};f%2?m(Object(i),!0).forEach(function(v){d(g,v,i[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach(function(v){Object.defineProperty(g,v,Object.getOwnPropertyDescriptor(i,v))})}return g}function d(g,f,i){return f in g?Object.defineProperty(g,f,{value:i,enumerable:!0,configurable:!0,writable:!0}):g[f]=i,g}function h(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}function s(g,f){for(var i=0;i<f.length;i++){var v=f[i];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}function t(g,f,i){return f&&s(g.prototype,f),i&&s(g,i),g}var r=E("buffer"),e=r.Buffer,n=E("util"),u=n.inspect,o=u&&u.custom||"inspect";function y(g,f,i){e.prototype.copy.call(g,f,i)}I.exports=function(){function g(){h(this,g),this.head=null,this.tail=null,this.length=0}return t(g,[{key:"push",value:function(i){var v={data:i,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(i){var v={data:i,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(i){if(this.length===0)return"";for(var v=this.head,S=""+v.data;v=v.next;)S+=i+v.data;return S}},{key:"concat",value:function(i){if(this.length===0)return e.alloc(0);for(var v=e.allocUnsafe(i>>>0),S=this.head,x=0;S;)y(S.data,v,x),x+=S.data.length,S=S.next;return v}},{key:"consume",value:function(i,v){var S;return i<this.head.data.length?(S=this.head.data.slice(0,i),this.head.data=this.head.data.slice(i)):i===this.head.data.length?S=this.shift():S=v?this._getString(i):this._getBuffer(i),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(i){var v=this.head,S=1,x=v.data;for(i-=x.length;v=v.next;){var O=v.data,N=i>O.length?O.length:i;if(N===O.length?x+=O:x+=O.slice(0,i),i-=N,i===0){N===O.length?(++S,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=O.slice(N));break}++S}return this.length-=S,x}},{key:"_getBuffer",value:function(i){var v=e.allocUnsafe(i),S=this.head,x=1;for(S.data.copy(v),i-=S.data.length;S=S.next;){var O=S.data,N=i>O.length?O.length:i;if(O.copy(v,v.length-i,0,N),i-=N,i===0){N===O.length?(++x,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=O.slice(N));break}++x}return this.length-=x,v}},{key:o,value:function(i,v){return u(this,p({},v,{depth:0,customInspect:!1}))}}]),g}()},{buffer:17,util:16}],63:[function(E,I,M){(function(m){(function(){function p(e,n){var u=this,o=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return o||y?(n?n(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,m.nextTick(t,this,e)):m.nextTick(t,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(g){!n&&g?u._writableState?u._writableState.errorEmitted?m.nextTick(h,u):(u._writableState.errorEmitted=!0,m.nextTick(d,u,g)):m.nextTick(d,u,g):n?(m.nextTick(h,u),n(g)):m.nextTick(h,u)}),this)}function d(e,n){t(e,n),h(e)}function h(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function t(e,n){e.emit("error",n)}function r(e,n){var u=e._readableState,o=e._writableState;u&&u.autoDestroy||o&&o.autoDestroy?e.destroy(n):e.emit("error",n)}I.exports={destroy:p,undestroy:s,errorOrDestroy:r}}).call(this)}).call(this,E("_process"))},{_process:50}],64:[function(E,I,M){var m=E("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function p(t){var r=!1;return function(){if(!r){r=!0;for(var e=arguments.length,n=new Array(e),u=0;u<e;u++)n[u]=arguments[u];t.apply(this,n)}}}function d(){}function h(t){return t.setHeader&&typeof t.abort=="function"}function s(t,r,e){if(typeof r=="function")return s(t,null,r);r||(r={}),e=p(e||d);var n=r.readable||r.readable!==!1&&t.readable,u=r.writable||r.writable!==!1&&t.writable,o=function(){t.writable||g()},y=t._writableState&&t._writableState.finished,g=function(){u=!1,y=!0,n||e.call(t)},f=t._readableState&&t._readableState.endEmitted,i=function(){n=!1,f=!0,u||e.call(t)},v=function(N){e.call(t,N)},S=function(){var N;if(n&&!f)return(!t._readableState||!t._readableState.ended)&&(N=new m),e.call(t,N);if(u&&!y)return(!t._writableState||!t._writableState.ended)&&(N=new m),e.call(t,N)},x=function(){t.req.on("finish",g)};return h(t)?(t.on("complete",g),t.on("abort",S),t.req?x():t.on("request",x)):u&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",i),t.on("finish",g),r.error!==!1&&t.on("error",v),t.on("close",S),function(){t.removeListener("complete",g),t.removeListener("abort",S),t.removeListener("request",x),t.req&&t.req.removeListener("finish",g),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",g),t.removeListener("end",i),t.removeListener("error",v),t.removeListener("close",S)}}I.exports=s},{"../../../errors":55}],65:[function(E,I,M){I.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],66:[function(E,I,M){var m;function p(g){var f=!1;return function(){f||(f=!0,g.apply(void 0,arguments))}}var d=E("../../../errors").codes,h=d.ERR_MISSING_ARGS,s=d.ERR_STREAM_DESTROYED;function t(g){if(g)throw g}function r(g){return g.setHeader&&typeof g.abort=="function"}function e(g,f,i,v){v=p(v);var S=!1;g.on("close",function(){S=!0}),m===void 0&&(m=E("./end-of-stream")),m(g,{readable:f,writable:i},function(O){if(O)return v(O);S=!0,v()});var x=!1;return function(O){if(!S&&!x){if(x=!0,r(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();v(O||new s("pipe"))}}}function n(g){g()}function u(g,f){return g.pipe(f)}function o(g){return!g.length||typeof g[g.length-1]!="function"?t:g.pop()}function y(){for(var g=arguments.length,f=new Array(g),i=0;i<g;i++)f[i]=arguments[i];var v=o(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new h("streams");var S,x=f.map(function(O,N){var P=N<f.length-1,W=N>0;return e(O,P,W,function(l){S||(S=l),l&&x.forEach(n),!P&&(x.forEach(n),v(S))})});return f.reduce(u)}I.exports=y},{"../../../errors":55,"./end-of-stream":64}],67:[function(E,I,M){var m=E("../../../errors").codes.ERR_INVALID_OPT_VALUE;function p(h,s,t){return h.highWaterMark!=null?h.highWaterMark:s?h[t]:null}function d(h,s,t,r){var e=p(s,r,t);if(e!=null){if(!(isFinite(e)&&Math.floor(e)===e)||e<0){var n=r?t:"highWaterMark";throw new m(n,e)}return Math.floor(e)}return h.objectMode?16:16*1024}I.exports={getHighWaterMark:d}},{"../../../errors":55}],68:[function(E,I,M){I.exports=E("events").EventEmitter},{events:22}],69:[function(E,I,M){M=I.exports=E("./lib/_stream_readable.js"),M.Stream=M,M.Readable=M,M.Writable=E("./lib/_stream_writable.js"),M.Duplex=E("./lib/_stream_duplex.js"),M.Transform=E("./lib/_stream_transform.js"),M.PassThrough=E("./lib/_stream_passthrough.js"),M.finished=E("./lib/internal/streams/end-of-stream.js"),M.pipeline=E("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(E,I,M){function m(d,h,s){var t=this;this._callback=d,this._args=s,this._interval=setInterval(d,h,this._args),this.reschedule=function(r){r||(r=t._interval),t._interval&&clearInterval(t._interval),t._interval=setInterval(t._callback,r,t._args)},this.clear=function(){t._interval&&(clearInterval(t._interval),t._interval=void 0)},this.destroy=function(){t._interval&&clearInterval(t._interval),t._callback=void 0,t._interval=void 0,t._args=void 0}}function p(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var d;if(arguments.length>0){d=new Array(arguments.length-2);for(var h=0;h<d.length;h++)d[h]=arguments[h+2]}return new m(arguments[0],arguments[1],d)}I.exports=p},{}],71:[function(E,I,M){I.exports=E("./index.js")()},{"./index.js":72}],72:[function(E,I,M){(function(m){(function(){I.exports=d;function p(s){return s instanceof m?m.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function d(s){if(s=s||{},s.circles)return h(s);return s.proto?e:r;function t(n,u){for(var o=Object.keys(n),y=new Array(o.length),g=0;g<o.length;g++){var f=o[g],i=n[f];typeof i!="object"||i===null?y[f]=i:i instanceof Date?y[f]=new Date(i):ArrayBuffer.isView(i)?y[f]=p(i):y[f]=u(i)}return y}function r(n){if(typeof n!="object"||n===null)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,r);if(n instanceof Map)return new Map(t(Array.from(n),r));if(n instanceof Set)return new Set(t(Array.from(n),r));var u={};for(var o in n)if(Object.hasOwnProperty.call(n,o)!==!1){var y=n[o];typeof y!="object"||y===null?u[o]=y:y instanceof Date?u[o]=new Date(y):y instanceof Map?u[o]=new Map(t(Array.from(y),r)):y instanceof Set?u[o]=new Set(t(Array.from(y),r)):ArrayBuffer.isView(y)?u[o]=p(y):u[o]=r(y)}return u}function e(n){if(typeof n!="object"||n===null)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var u={};for(var o in n){var y=n[o];typeof y!="object"||y===null?u[o]=y:y instanceof Date?u[o]=new Date(y):y instanceof Map?u[o]=new Map(t(Array.from(y),e)):y instanceof Set?u[o]=new Set(t(Array.from(y),e)):ArrayBuffer.isView(y)?u[o]=p(y):u[o]=e(y)}return u}}function h(s){var t=[],r=[];return s.proto?u:n;function e(o,y){for(var g=Object.keys(o),f=new Array(g.length),i=0;i<g.length;i++){var v=g[i],S=o[v];if(typeof S!="object"||S===null)f[v]=S;else if(S instanceof Date)f[v]=new Date(S);else if(ArrayBuffer.isView(S))f[v]=p(S);else{var x=t.indexOf(S);x!==-1?f[v]=r[x]:f[v]=y(S)}}return f}function n(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return e(o,n);if(o instanceof Map)return new Map(e(Array.from(o),n));if(o instanceof Set)return new Set(e(Array.from(o),n));var y={};t.push(o),r.push(y);for(var g in o)if(Object.hasOwnProperty.call(o,g)!==!1){var f=o[g];if(typeof f!="object"||f===null)y[g]=f;else if(f instanceof Date)y[g]=new Date(f);else if(f instanceof Map)y[g]=new Map(e(Array.from(f),n));else if(f instanceof Set)y[g]=new Set(e(Array.from(f),n));else if(ArrayBuffer.isView(f))y[g]=p(f);else{var i=t.indexOf(f);i!==-1?y[g]=r[i]:y[g]=n(f)}}return t.pop(),r.pop(),y}function u(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return e(o,u);if(o instanceof Map)return new Map(e(Array.from(o),u));if(o instanceof Set)return new Set(e(Array.from(o),u));var y={};t.push(o),r.push(y);for(var g in o){var f=o[g];if(typeof f!="object"||f===null)y[g]=f;else if(f instanceof Date)y[g]=new Date(f);else if(f instanceof Map)y[g]=new Map(e(Array.from(f),u));else if(f instanceof Set)y[g]=new Set(e(Array.from(f),u));else if(ArrayBuffer.isView(f))y[g]=p(f);else{var i=t.indexOf(f);i!==-1?y[g]=r[i]:y[g]=u(f)}}return t.pop(),r.pop(),y}}}).call(this)}).call(this,E("buffer").Buffer)},{buffer:17}],73:[function(E,I,M){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var m=E("buffer"),p=m.Buffer;function d(s,t){for(var r in s)t[r]=s[r]}p.from&&p.alloc&&p.allocUnsafe&&p.allocUnsafeSlow?I.exports=m:(d(m,M),M.Buffer=h);function h(s,t,r){return p(s,t,r)}h.prototype=Object.create(p.prototype),d(p,h),h.from=function(s,t,r){if(typeof s=="number")throw new TypeError("Argument must not be a number");return p(s,t,r)},h.alloc=function(s,t,r){if(typeof s!="number")throw new TypeError("Argument must be a number");var e=p(s);return t!==void 0?typeof r=="string"?e.fill(t,r):e.fill(t):e.fill(0),e},h.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return p(s)},h.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(s)}},{buffer:17}],74:[function(E,I,M){I.exports=m;function m(d){var h=d._readableState;return h?h.objectMode||typeof d._duplexState=="number"?d.read():d.read(p(h)):null}function p(d){return d.buffer.length?d.buffer.head?d.buffer.head.data.length:d.buffer[0].length:d.length}},{}],75:[function(E,I,M){var m=E("safe-buffer").Buffer,p=m.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(x){if(!x)return"utf8";for(var O;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(O)return;x=(""+x).toLowerCase(),O=!0}}function h(x){var O=d(x);if(typeof O!="string"&&(m.isEncoding===p||!p(x)))throw new Error("Unknown encoding: "+x);return O||x}M.StringDecoder=s;function s(x){this.encoding=h(x);var O;switch(this.encoding){case"utf16le":this.text=y,this.end=g,O=4;break;case"utf8":this.fillLast=n,O=4;break;case"base64":this.text=f,this.end=i,O=3;break;default:this.write=v,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(O)}s.prototype.write=function(x){if(x.length===0)return"";var O,N;if(this.lastNeed){if(O=this.fillLast(x),O===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<x.length?O?O+this.text(x,N):this.text(x,N):O||""},s.prototype.end=o,s.prototype.text=u,s.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function t(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function r(x,O,N){var P=O.length-1;if(P<N)return 0;var W=t(O[P]);return W>=0?(W>0&&(x.lastNeed=W-1),W):--P<N||W===-2?0:(W=t(O[P]),W>=0?(W>0&&(x.lastNeed=W-2),W):--P<N||W===-2?0:(W=t(O[P]),W>=0?(W>0&&(W===2?W=0:x.lastNeed=W-3),W):0))}function e(x,O,N){if((O[0]&192)!==128)return x.lastNeed=0,"�";if(x.lastNeed>1&&O.length>1){if((O[1]&192)!==128)return x.lastNeed=1,"�";if(x.lastNeed>2&&O.length>2&&(O[2]&192)!==128)return x.lastNeed=2,"�"}}function n(x){var O=this.lastTotal-this.lastNeed,N=e(this,x);if(N!==void 0)return N;if(this.lastNeed<=x.length)return x.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,O,0,x.length),this.lastNeed-=x.length}function u(x,O){var N=r(this,x,O);if(!this.lastNeed)return x.toString("utf8",O);this.lastTotal=N;var P=x.length-(N-this.lastNeed);return x.copy(this.lastChar,0,P),x.toString("utf8",O,P)}function o(x){var O=x&&x.length?this.write(x):"";return this.lastNeed?O+"�":O}function y(x,O){if((x.length-O)%2===0){var N=x.toString("utf16le",O);if(N){var P=N.charCodeAt(N.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",O,x.length-1)}function g(x){var O=x&&x.length?this.write(x):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return O+this.lastChar.toString("utf16le",0,N)}return O}function f(x,O){var N=(x.length-O)%3;return N===0?x.toString("base64",O):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",O,x.length-N))}function i(x){var O=x&&x.length?this.write(x):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function v(x){return x.toString(this.encoding)}function S(x){return x&&x.length?this.write(x):""}},{"safe-buffer":73}],76:[function(E,I,M){var m=E("punycode"),p=E("./util");M.parse=O,M.resolve=P,M.resolveObject=W,M.format=N,M.Url=d;function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var h=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,t=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["<",">",'"',"`"," ","\r",`
`,"	"],e=["{","}","|","\\","^","`"].concat(r),n=["'"].concat(e),u=["%","/","?",";","#"].concat(n),o=["/","?","#"],y=255,g=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,i={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=E("querystring");function O(l,_,b){if(l&&p.isObject(l)&&l instanceof d)return l;var j=new d;return j.parse(l,_,b),j}d.prototype.parse=function(l,_,b){if(!p.isString(l))throw new TypeError("Parameter 'url' must be a string, not "+typeof l);var j=l.indexOf("?"),V=j!==-1&&j<l.indexOf("#")?"?":"#",H=l.split(V),X=/\\/g;H[0]=H[0].replace(X,"/"),l=H.join(V);var T=l;if(T=T.trim(),!b&&l.split("#").length===1){var R=t.exec(T);if(R)return this.path=T,this.href=T,this.pathname=R[1],R[2]?(this.search=R[2],_?this.query=x.parse(this.search.substr(1)):this.query=this.search.substr(1)):_&&(this.search="",this.query={}),this}var D=h.exec(T);if(D){D=D[0];var G=D.toLowerCase();this.protocol=G,T=T.substr(D.length)}if(b||D||T.match(/^\/\/[^@\/]+@[^@\/]+/)){var ae=T.substr(0,2)==="//";ae&&!(D&&v[D])&&(T=T.substr(2),this.slashes=!0)}if(!v[D]&&(ae||D&&!S[D])){for(var oe=-1,K=0;K<o.length;K++){var $=T.indexOf(o[K]);$!==-1&&(oe===-1||$<oe)&&(oe=$)}var ie,re;oe===-1?re=T.lastIndexOf("@"):re=T.lastIndexOf("@",oe),re!==-1&&(ie=T.slice(0,re),T=T.slice(re+1),this.auth=decodeURIComponent(ie)),oe=-1;for(var K=0;K<u.length;K++){var $=T.indexOf(u[K]);$!==-1&&(oe===-1||$<oe)&&(oe=$)}oe===-1&&(oe=T.length),this.host=T.slice(0,oe),T=T.slice(oe),this.parseHost(),this.hostname=this.hostname||"";var ue=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ue)for(var se=this.hostname.split(/\./),K=0,q=se.length;K<q;K++){var U=se[K];if(U&&!U.match(g)){for(var J="",B=0,L=U.length;B<L;B++)U.charCodeAt(B)>127?J+="x":J+=U[B];if(!J.match(g)){var z=se.slice(0,K),Q=se.slice(K+1),Z=U.match(f);Z&&(z.push(Z[1]),Q.unshift(Z[2])),Q.length&&(T="/"+Q.join(".")+T),this.hostname=z.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),ue||(this.hostname=m.toASCII(this.hostname));var C=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+C,this.href+=this.host,ue&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),T[0]!=="/"&&(T="/"+T))}if(!i[G])for(var K=0,q=n.length;K<q;K++){var w=n[K];if(T.indexOf(w)!==-1){var a=encodeURIComponent(w);a===w&&(a=escape(w)),T=T.split(w).join(a)}}var c=T.indexOf("#");c!==-1&&(this.hash=T.substr(c),T=T.slice(0,c));var k=T.indexOf("?");if(k!==-1?(this.search=T.substr(k),this.query=T.substr(k+1),_&&(this.query=x.parse(this.query)),T=T.slice(0,k)):_&&(this.search="",this.query={}),T&&(this.pathname=T),S[G]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var C=this.pathname||"",F=this.search||"";this.path=C+F}return this.href=this.format(),this};function N(l){return p.isString(l)&&(l=O(l)),l instanceof d?l.format():d.prototype.format.call(l)}d.prototype.format=function(){var l=this.auth||"";l&&(l=encodeURIComponent(l),l=l.replace(/%3A/i,":"),l+="@");var _=this.protocol||"",b=this.pathname||"",j=this.hash||"",V=!1,H="";this.host?V=l+this.host:this.hostname&&(V=l+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(V+=":"+this.port)),this.query&&p.isObject(this.query)&&Object.keys(this.query).length&&(H=x.stringify(this.query));var X=this.search||H&&"?"+H||"";return _&&_.substr(-1)!==":"&&(_+=":"),this.slashes||(!_||S[_])&&V!==!1?(V="//"+(V||""),b&&b.charAt(0)!=="/"&&(b="/"+b)):V||(V=""),j&&j.charAt(0)!=="#"&&(j="#"+j),X&&X.charAt(0)!=="?"&&(X="?"+X),b=b.replace(/[?#]/g,function(T){return encodeURIComponent(T)}),X=X.replace("#","%23"),_+V+b+X+j};function P(l,_){return O(l,!1,!0).resolve(_)}d.prototype.resolve=function(l){return this.resolveObject(O(l,!1,!0)).format()};function W(l,_){return l?O(l,!1,!0).resolveObject(_):_}d.prototype.resolveObject=function(l){if(p.isString(l)){var _=new d;_.parse(l,!1,!0),l=_}for(var b=new d,j=Object.keys(this),V=0;V<j.length;V++){var H=j[V];b[H]=this[H]}if(b.hash=l.hash,l.href==="")return b.href=b.format(),b;if(l.slashes&&!l.protocol){for(var X=Object.keys(l),T=0;T<X.length;T++){var R=X[T];R!=="protocol"&&(b[R]=l[R])}return S[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/"),b.href=b.format(),b}if(l.protocol&&l.protocol!==b.protocol){if(!S[l.protocol]){for(var D=Object.keys(l),G=0;G<D.length;G++){var ae=D[G];b[ae]=l[ae]}return b.href=b.format(),b}if(b.protocol=l.protocol,!l.host&&!v[l.protocol]){for(var q=(l.pathname||"").split("/");q.length&&!(l.host=q.shift()););l.host||(l.host=""),l.hostname||(l.hostname=""),q[0]!==""&&q.unshift(""),q.length<2&&q.unshift(""),b.pathname=q.join("/")}else b.pathname=l.pathname;if(b.search=l.search,b.query=l.query,b.host=l.host||"",b.auth=l.auth,b.hostname=l.hostname||l.host,b.port=l.port,b.pathname||b.search){var oe=b.pathname||"",K=b.search||"";b.path=oe+K}return b.slashes=b.slashes||l.slashes,b.href=b.format(),b}var $=b.pathname&&b.pathname.charAt(0)==="/",ie=l.host||l.pathname&&l.pathname.charAt(0)==="/",re=ie||$||b.host&&l.pathname,ue=re,se=b.pathname&&b.pathname.split("/")||[],q=l.pathname&&l.pathname.split("/")||[],U=b.protocol&&!S[b.protocol];if(U&&(b.hostname="",b.port=null,b.host&&(se[0]===""?se[0]=b.host:se.unshift(b.host)),b.host="",l.protocol&&(l.hostname=null,l.port=null,l.host&&(q[0]===""?q[0]=l.host:q.unshift(l.host)),l.host=null),re=re&&(q[0]===""||se[0]==="")),ie)b.host=l.host||l.host===""?l.host:b.host,b.hostname=l.hostname||l.hostname===""?l.hostname:b.hostname,b.search=l.search,b.query=l.query,se=q;else if(q.length)se||(se=[]),se.pop(),se=se.concat(q),b.search=l.search,b.query=l.query;else if(!p.isNullOrUndefined(l.search)){if(U){b.hostname=b.host=se.shift();var J=b.host&&b.host.indexOf("@")>0?b.host.split("@"):!1;J&&(b.auth=J.shift(),b.host=b.hostname=J.shift())}return b.search=l.search,b.query=l.query,(!p.isNull(b.pathname)||!p.isNull(b.search))&&(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b}if(!se.length)return b.pathname=null,b.search?b.path="/"+b.search:b.path=null,b.href=b.format(),b;for(var B=se.slice(-1)[0],L=(b.host||l.host||se.length>1)&&(B==="."||B==="..")||B==="",z=0,Q=se.length;Q>=0;Q--)B=se[Q],B==="."?se.splice(Q,1):B===".."?(se.splice(Q,1),z++):z&&(se.splice(Q,1),z--);if(!re&&!ue)for(;z--;z)se.unshift("..");re&&se[0]!==""&&(!se[0]||se[0].charAt(0)!=="/")&&se.unshift(""),L&&se.join("/").substr(-1)!=="/"&&se.push("");var Z=se[0]===""||se[0]&&se[0].charAt(0)==="/";if(U){b.hostname=b.host=Z?"":se.length?se.shift():"";var J=b.host&&b.host.indexOf("@")>0?b.host.split("@"):!1;J&&(b.auth=J.shift(),b.host=b.hostname=J.shift())}return re=re||b.host&&se.length,re&&!Z&&se.unshift(""),se.length?b.pathname=se.join("/"):(b.pathname=null,b.path=null),(!p.isNull(b.pathname)||!p.isNull(b.search))&&(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.auth=l.auth||b.auth,b.slashes=b.slashes||l.slashes,b.href=b.format(),b},d.prototype.parseHost=function(){var l=this.host,_=s.exec(l);_&&(_=_[0],_!==":"&&(this.port=_.substr(1)),l=l.substr(0,l.length-_.length)),l&&(this.hostname=l)}},{"./util":77,punycode:51,querystring:54}],77:[function(E,I,M){I.exports={isString:function(m){return typeof m=="string"},isObject:function(m){return typeof m=="object"&&m!==null},isNull:function(m){return m===null},isNullOrUndefined:function(m){return m==null}}},{}],78:[function(E,I,M){(function(m){(function(){I.exports=p;function p(h,s){if(d("noDeprecation"))return h;var t=!1;function r(){if(!t){if(d("throwDeprecation"))throw new Error(s);d("traceDeprecation")?console.trace(s):console.warn(s),t=!0}return h.apply(this,arguments)}return r}function d(h){try{if(!m.localStorage)return!1}catch{return!1}var s=m.localStorage[h];return s==null?!1:String(s).toLowerCase()==="true"}}).call(this)}).call(this,typeof we<"u"?we:typeof self<"u"?self:typeof window<"u"?window:{})},{}],79:[function(E,I,M){I.exports=m;function m(p,d){if(p&&d)return m(p)(d);if(typeof p!="function")throw new TypeError("need wrapper function");return Object.keys(p).forEach(function(s){h[s]=p[s]}),h;function h(){for(var s=new Array(arguments.length),t=0;t<s.length;t++)s[t]=arguments[t];var r=p.apply(this,s),e=s[s.length-1];return typeof r=="function"&&r!==e&&Object.keys(e).forEach(function(n){r[n]=e[n]}),r}}},{}],80:[function(E,I,M){I.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],81:[function(E,I,M){I.exports=p;var m=Object.prototype.hasOwnProperty;function p(){for(var d={},h=0;h<arguments.length;h++){var s=arguments[h];for(var t in s)m.call(s,t)&&(d[t]=s[t])}return d}},{}],82:[function(E,I,M){I.exports=function(m){m.prototype[Symbol.iterator]=function*(){for(let p=this.head;p;p=p.next)yield p.value}}},{}],83:[function(E,I,M){I.exports=m,m.Node=s,m.create=m;function m(t){var r=this;if(r instanceof m||(r=new m),r.tail=null,r.head=null,r.length=0,t&&typeof t.forEach=="function")t.forEach(function(u){r.push(u)});else if(arguments.length>0)for(var e=0,n=arguments.length;e<n;e++)r.push(arguments[e]);return r}m.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var r=t.next,e=t.prev;return r&&(r.prev=e),e&&(e.next=r),t===this.head&&(this.head=r),t===this.tail&&(this.tail=e),t.list.length--,t.next=null,t.prev=null,t.list=null,r},m.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var r=this.head;t.list=this,t.next=r,r&&(r.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},m.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var r=this.tail;t.list=this,t.prev=r,r&&(r.next=t),this.tail=t,this.head||(this.head=t),this.length++}},m.prototype.push=function(){for(var t=0,r=arguments.length;t<r;t++)d(this,arguments[t]);return this.length},m.prototype.unshift=function(){for(var t=0,r=arguments.length;t<r;t++)h(this,arguments[t]);return this.length},m.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},m.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},m.prototype.forEach=function(t,r){r=r||this;for(var e=this.head,n=0;e!==null;n++)t.call(r,e.value,n,this),e=e.next},m.prototype.forEachReverse=function(t,r){r=r||this;for(var e=this.tail,n=this.length-1;e!==null;n--)t.call(r,e.value,n,this),e=e.prev},m.prototype.get=function(t){for(var r=0,e=this.head;e!==null&&r<t;r++)e=e.next;if(r===t&&e!==null)return e.value},m.prototype.getReverse=function(t){for(var r=0,e=this.tail;e!==null&&r<t;r++)e=e.prev;if(r===t&&e!==null)return e.value},m.prototype.map=function(t,r){r=r||this;for(var e=new m,n=this.head;n!==null;)e.push(t.call(r,n.value,this)),n=n.next;return e},m.prototype.mapReverse=function(t,r){r=r||this;for(var e=new m,n=this.tail;n!==null;)e.push(t.call(r,n.value,this)),n=n.prev;return e},m.prototype.reduce=function(t,r){var e,n=this.head;if(arguments.length>1)e=r;else if(this.head)n=this.head.next,e=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var u=0;n!==null;u++)e=t(e,n.value,u),n=n.next;return e},m.prototype.reduceReverse=function(t,r){var e,n=this.tail;if(arguments.length>1)e=r;else if(this.tail)n=this.tail.prev,e=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var u=this.length-1;n!==null;u--)e=t(e,n.value,u),n=n.prev;return e},m.prototype.toArray=function(){for(var t=new Array(this.length),r=0,e=this.head;e!==null;r++)t[r]=e.value,e=e.next;return t},m.prototype.toArrayReverse=function(){for(var t=new Array(this.length),r=0,e=this.tail;e!==null;r++)t[r]=e.value,e=e.prev;return t},m.prototype.slice=function(t,r){r=r||this.length,r<0&&(r+=this.length),t=t||0,t<0&&(t+=this.length);var e=new m;if(r<t||r<0)return e;t<0&&(t=0),r>this.length&&(r=this.length);for(var n=0,u=this.head;u!==null&&n<t;n++)u=u.next;for(;u!==null&&n<r;n++,u=u.next)e.push(u.value);return e},m.prototype.sliceReverse=function(t,r){r=r||this.length,r<0&&(r+=this.length),t=t||0,t<0&&(t+=this.length);var e=new m;if(r<t||r<0)return e;t<0&&(t=0),r>this.length&&(r=this.length);for(var n=this.length,u=this.tail;u!==null&&n>r;n--)u=u.prev;for(;u!==null&&n>t;n--,u=u.prev)e.push(u.value);return e},m.prototype.splice=function(t,r,...e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,u=this.head;u!==null&&n<t;n++)u=u.next;for(var o=[],n=0;u&&n<r;n++)o.push(u.value),u=this.removeNode(u);u===null&&(u=this.tail),u!==this.head&&u!==this.tail&&(u=u.prev);for(var n=0;n<e.length;n++)u=p(this,u,e[n]);return o},m.prototype.reverse=function(){for(var t=this.head,r=this.tail,e=t;e!==null;e=e.prev){var n=e.prev;e.prev=e.next,e.next=n}return this.head=r,this.tail=t,this};function p(t,r,e){var n=r===t.head?new s(e,null,r,t):new s(e,r,r.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function d(t,r){t.tail=new s(r,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function h(t,r){t.head=new s(r,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function s(t,r,e,n){if(!(this instanceof s))return new s(t,r,e,n);this.list=n,this.value=t,r?(r.next=this,this.prev=r):this.prev=null,e?(e.prev=this,this.next=e):this.next=null}try{E("./iterator.js")(m)}catch{}},{"./iterator.js":82}]},{},[12])(12)})})(Ye);var Rt=At(Ye.exports);const ke={},It=(Y,ee,E,I)=>{const M=ke[Y];if(M)for(const[m,p]of M)Ie.eq(m,ee)&&p&&p.length&&p.forEach(d=>{try{d.callback(ee,E,I)}catch(h){Ie.debug().error({topic:ee,vm:d.vm,error:h})}})},Xe=async(Y,ee,E="none")=>{const I=ke[Y];if(I){const M=I.get(ee);if(M&&M.length){const m=[];for(let p=M.length-1;p>=0;p-=1)M[p].vm===E&&m.push(p);m.length&&(m.forEach(p=>M.splice(p,1)),M.length>0?I.set(ee,M):I.delete(ee))}}},Pt=async(Y,ee,E,I="none")=>{var M;let m=ke[Y];m||(ke[Y]=new Map,m=ke[Y]),await Xe(Y,ee,I),m.has(ee)||m.set(ee,[]),(M=m.get(ee))==null||M.push({callback:E,vm:I})},Mt=async Y=>{const ee=ke[Y];ee&&ee.clear()},Ze=()=>({runEvent:It,unRegisterEvent:Xe,registerEvent:Pt,clearEvent:Mt}),Pe=Ze(),ye={},De={},Fe={},Je=Y=>(De[Y]||(De[Y]=[]),De[Y]),et=Y=>(Fe[Y]||(Fe[Y]=[]),Fe[Y]),Ot=Y=>{var ee;return!!((ee=ye[Y])!=null&&ee.connected)},tt=async(Y,ee,E=1,I={qos:1,nl:!1,rap:!1,rh:0,properties:{}},M)=>{var m,p;I.qos=E,(m=ye[Y])!=null&&m.connected?(p=ye[Y])==null||p.subscribe(ee,I,M):et(Y).push({topicArray:ee,qos:E,opts:I,callback:M})},Lt=async(Y,ee,E={},I)=>{var M,m;I?(M=ye[Y])==null||M.unsubscribe(ee,E,I):(m=ye[Y])==null||m.unsubscribe(ee,E,()=>{})},rt=async(Y,ee,E,I=0,M={qos:0,retain:!1,dup:!1,properties:{}},m)=>{var p;M.qos=I,(p=ye[Y])!=null&&p.connected?ye[Y].publish(ee,E,M,m):Je(Y).push({topic:ee,message:E,qos:I,opts:M,callback:m})},Bt=async Y=>{var ee;(ee=ye[Y])==null||ee.on("error",E=>{var I;(I=ye[Y])==null||I.end(),Pe.runEvent(Y,"on-connect-fail",String(E))})},Nt=async Y=>{var ee;(ee=ye[Y])==null||ee.on("message",(E,I,M)=>{I&&Pe.runEvent(Y,E,I,M)})},jt=async(Y,ee)=>{var E;(E=ye[Y])==null||E.on("connect",()=>{const I=et(Y);I.forEach(({topicArray:m,qos:p,opts:d,callback:h})=>tt(Y,m,p,d,h)),I.length=0;const M=Je(Y);M.forEach(({topic:m,message:p,qos:d,opts:h,callback:s})=>rt(Y,m,p,d,h,s)),M.length=0,Pe.runEvent(Y,"on-connect","")})},Ut=async Y=>{var ee;(ee=ye[Y])==null||ee.on("reconnect",()=>{var E,I;Ie.debug().log("try to reconnect:",(I=(E=ye[Y])==null?void 0:E.options)==null?void 0:I.hostname),Pe.runEvent(Y,"on-reconnect","")})},Dt=async Y=>{var ee;(ee=ye[Y])==null||ee.on("end",()=>{Pe.runEvent(Y,"on-disconnect","")})},We=async Y=>{const ee=ye[Y];ee==null||ee.end(),delete ye[Y]},nt=async(Y,ee,E)=>{ye[Y]&&await We(Y),ye[Y]=Rt.connect(ee,E),jt(Y),Nt(Y),Ut(Y),Dt(Y),Bt(Y)},Ft=async(Y,ee,E)=>{We(Y),nt(Y,ee,E)},zt=async()=>Object.keys(ye),Vt=()=>({isConnected:Ot,connect:nt,disconnect:We,reconnect:Ft,subscribe:tt,unSubscribe:Lt,publish:rt,showAllClient:zt}),qt=()=>Vt(),Ce=qt(),Ke=Ze(),Ht=Y=>(Y||(Y="default"),Ce.isConnected(Y)),it=async(Y,ee,E,I,M)=>(ee||(ee=1),E||(E={qos:ee,nl:!1,rap:!1,rh:0,properties:{}}),I||(I=()=>{}),M||(M="default"),Ce.subscribe(M,Y,ee,E,I)),ot=async(Y,ee,E,I)=>(ee||(ee={}),E||(E=()=>{}),I||(I="default"),Ce.unSubscribe(I,Y,ee,E)),Wt=async(Y,ee,E,I,M,m)=>(E||(E=0),I||(I={qos:E,retain:!1,dup:!1,properties:{}}),M||(M=()=>{}),m||(m="default"),Ce.publish(m,Y,ee,E,I,M)),st=async Y=>(Y||(Y="default"),Ce.disconnect(Y)),Kt=async(Y,ee,E)=>(E||(E="default"),Ce.connect(E,Y,ee)),at=async(Y,ee,E)=>(E||(E="default"),Ce.reconnect(E,Y,ee)),$t=async()=>Ce.showAllClient(),lt=async(Y,ee="none",E)=>{E||(E="default"),Ke.unRegisterEvent(E,Y,ee)},ut=async(Y,ee,E="none",I)=>{I||(I="default"),Ke.registerEvent(I,Y,ee,E)},ft=async Y=>{Y||(Y="default"),Ke.clearEvent(Y)},Qt=async()=>{const Y=Ie.eq("+/test/#","1/test/erw/2342");return at("wss://broker.emqx.io:8084",{clean:!1,keepalive:60,clientId:`mqtt_client_${Math.random().toString(16).substring(2,10)}`,path:"/mqtt",connectTimeout:4e3}),it(["mqtt-vue-hook/test","mqtt-vue-hook/test2"]),ut("mqtt-vue-hook/test",(ee,E)=>{Ie.debug().log(ee,E.toString())}),ot("mqtt-vue-hook/test2"),lt("mqtt-vue-hook/test"),ft(),st(),Y},Gt=()=>({isConnected:Ht,connect:Kt,disconnect:st,reconnect:at,subscribe:it,unSubscribe:ot,publish:Wt,showAllClient:$t,registerEvent:ut,unRegisterEvent:lt,clearEvent:ft,test:Qt}),Zt=()=>Gt();function Jt({user:Y,header:ee,children:E}){const[I,M]=ve.useState(!1);return he("div",{className:"min-h-screen bg-gray-100",children:[he("nav",{className:"bg-white border-b border-gray-100",children:[le("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:he("div",{className:"flex justify-between h-16",children:[he("div",{className:"flex",children:[le("div",{className:"shrink-0 flex items-center",children:le(Ae,{href:"/dashboard",children:le("img",{src:"/images/logo/efishy.png",width:"50px"})})}),he("div",{className:"hidden space-x-8 sm:-my-px sm:ml-10 sm:flex",children:[le($e,{href:route("dashboard"),active:route().current("dashboard"),children:"Dashboard"}),he(be,{active:route().current("kualitas-air*"),children:[le(be.Trigger,{children:le("span",{className:"inline-flex rounded-md",children:he("button",{type:"button",className:"text-left inline-flex items-center px-3  border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150",children:["Kualitas Air",le("svg",{className:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:le("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),he(be.Content,{children:[le(be.Link,{href:route("kualitas-air.suhu.index"),children:"Suhu"}),le(be.Link,{href:route("kualitas-air.sensor-ph.index"),children:"Ph"})]})]}),he(be,{active:route().current("*pakan*"),children:[le(be.Trigger,{children:le("span",{className:"inline-flex rounded-md",children:he("button",{type:"button",className:"text-left inline-flex items-center px-3  border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150",children:["Pakan Ikan",le("svg",{className:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:le("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),he(be.Content,{children:[le(be.Link,{href:route("pakan.sisa-pakan.index"),children:"Sisa Pakan"}),le(be.Link,{href:route("pakan.atur-pakan.index"),children:"Atur Pakan"}),le(be.Link,{href:route("pakan.pakan.index"),children:"Pakan"})]})]}),le($e,{href:route("report.index"),active:route().current("report.index"),children:"Report"})]})]}),le("div",{className:"hidden sm:flex sm:items-center sm:ml-6",children:le("div",{className:"ml-3 relative",children:he(Re,{children:[le(Re.Trigger,{children:le("span",{className:"inline-flex rounded-md",children:he("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150",children:[Y.name,le("svg",{className:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:le("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),he(Re.Content,{children:[le(Re.Link,{href:route("profile.edit"),children:"Profile"}),le(Re.Link,{href:route("logout"),method:"post",as:"button",children:"Log Out"})]})]})})}),le("div",{className:"-mr-2 flex items-center sm:hidden",children:le("button",{onClick:()=>M(m=>!m),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out",children:he("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:[le("path",{className:I?"hidden":"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}),le("path",{className:I?"inline-flex":"hidden",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})]})})})]})}),he("div",{className:(I?"block":"hidden")+" sm:hidden",children:[he("div",{className:"pt-2 pb-3 space-y-1",children:[le(Me,{href:route("dashboard"),active:route().current("dashboard"),children:"Dashboard"}),he(me,{active:route().current("kualitas-air.*"),children:[le(me.Trigger,{children:le("span",{className:" rounded-md",children:he("button",{type:"button",children:["Kualitas Air",le("svg",{className:"inline-block ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:le("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),he(me.Content,{children:[le(me.Link,{href:route("kualitas-air.suhu.index"),active:route().current("kualitas-air.suhu.index"),children:"Suhu"}),le(me.Link,{href:route("kualitas-air.sensor-ph.index"),active:route().current("kualitas-air.sensor-ph.index"),children:"Sensor Ph"})]})]}),he(me,{active:route().current("pakan*"),children:[le(me.Trigger,{children:le("span",{className:" rounded-md",children:he("button",{type:"button",children:["Pakan Ikan",le("svg",{className:"inline-block ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:le("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),he(me.Content,{children:[le(me.Link,{href:route("pakan.sisa-pakan.index"),active:route().current("pakan.sisa-pakan.index"),children:"Tempat Pakan"}),le(me.Link,{href:route("pakan.atur-pakan.index"),active:route().current("pakan.atur-pakan.index"),children:"Atur Pakan"}),le(me.Link,{href:route("pakan.pakan.index"),active:route().current("pakan.pakan.index"),children:"Pakan"})]})]}),le(Me,{href:route("report.index"),active:route().current("report.index"),children:"Report"})]}),he("div",{className:"pt-4 pb-1 border-t border-gray-200",children:[he("div",{className:"px-4",children:[le("div",{className:"font-medium text-base text-gray-800",children:Y.name}),le("div",{className:"font-medium text-sm text-gray-500",children:Y.email})]}),he("div",{className:"mt-3 space-y-1",children:[le(Me,{href:route("profile.edit"),children:"Profile"}),le(Me,{method:"post",href:route("logout"),as:"button",children:"Log Out"})]})]})]})]}),ee&&le("header",{className:"bg-white shadow",children:le("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:ee})}),le("main",{children:E})]})}export{Jt as A,Zt as u};
